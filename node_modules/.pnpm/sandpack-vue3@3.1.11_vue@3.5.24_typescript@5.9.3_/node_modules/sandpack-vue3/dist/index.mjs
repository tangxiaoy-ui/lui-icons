import { defineComponent, provide, createVNode, Fragment, ref, reactive, toRaw, watch, onMounted, nextTick, onBeforeUnmount, onUnmounted, createTextVNode, computed, mergeProps, watchEffect, onBeforeMount, inject, isVNode, getCurrentScope, onScopeDispose, unref } from 'vue';
import { closeBrackets, closeBracketsKeymap } from '@codemirror/autocomplete';
import { HighlightStyle, syntaxHighlighting, bracketMatching } from '@codemirror/language';
import { Decoration, ViewPlugin, keymap, highlightSpecialChars, EditorView, highlightActiveLine, lineNumbers } from '@codemirror/view';
import { css } from '@codemirror/lang-css';
import { html } from '@codemirror/lang-html';
import { javascript } from '@codemirror/lang-javascript';
import { tags, highlightTree } from '@lezer/highlight';
import { createStitches } from '@stitches/core';
import { dequal } from 'dequal';
import { normalizePath, addPackageJSONIfNeeded, loadSandpackClient, extractErrorDetails } from '@codesandbox/sandpack-client';
import { EditorSelection, Annotation, StateEffect, EditorState } from '@codemirror/state';
import { history, defaultKeymap, historyKeymap, indentMore, indentLess, deleteGroupBackward } from '@codemirror/commands';
import _a from 'lz-string';
import Wa from 'ansi-to-vue3';
import Fc from 'clean-set';

var Or=Object.defineProperty,Rr=Object.defineProperties;var _r=Object.getOwnPropertyDescriptors;var qn=Object.getOwnPropertySymbols;var Ir=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable;var Hn=(e,o,t)=>o in e?Or(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,y=(e,o)=>{for(var t in o||(o={}))Ir.call(o,t)&&Hn(e,t,o[t]);if(qn)for(var t of qn(o))Pr.call(o,t)&&Hn(e,t,o[t]);return e},E=(e,o)=>Rr(e,_r(o));var _e=(e,o,t)=>new Promise((n,s)=>{var l=u=>{try{r(t.next(u));}catch(g){s(g);}},d=u=>{try{r(t.throw(u));}catch(g){s(g);}},r=u=>u.done?n(u.value):Promise.resolve(u.value).then(l,d);r((t=t.apply(e,o)).next());});var jr={onCodeUpdate:{type:Function},code:{type:String,required:!0},filePath:{type:String},fileType:{type:String},showLineNumbers:{type:Boolean,default:!1},showInlineErrors:{type:Boolean,default:!1},wrapContent:{type:Boolean,default:!1},editorState:{type:String,default:"pristine"},readOnly:{type:Boolean,default:!1},showReadOnly:{type:Boolean,default:!0},decorators:{type:Array,default(){return []}},initMode:{type:String,default:"lazy"},extensions:{type:Array,default(){return []}},extensionsKeymap:{type:Array,default(){return []}},additionalLanguages:{type:Array,default(){return []}}},Un=jr;function Hr(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}var Ur=typeof window!="undefined",zr=Ur?window:void 0;function zn(e){var t;let o=unref(e);return (t=o==null?void 0:o.$el)!=null?t:o}var po=()=>{};function fo(e,o,t={}){let{root:n,rootMargin:s="0px",threshold:l=.1,window:d=zr}=t,r=d&&"IntersectionObserver"in d,u=po,g=r?watch(()=>({el:zn(e),root:zn(n)}),({el:h,root:c})=>{if(u(),!h)return;let x=new IntersectionObserver(o,{root:c,rootMargin:s,threshold:l});x.observe(h),u=()=>{x.disconnect(),u=po;};},{immediate:!0,flush:"post"}):po,f=()=>{u(),g();};return Hr(f),{isSupported:r,stop:f}}var Ie=e=>{let o=e.lastIndexOf("/");return e.slice(o+1)},Yn=(e,o)=>{let t=(e[0]==="/"?e.slice(1):e).split("/"),n=[];if(t.length===1)n.unshift(t[0]);else for(let s=0;s<o.length;s++){let l=o[s].split("/");for(let d=1;d<=t.length;d++){let r=t[t.length-d],u=l[l.length-d];if(n.length<d&&n.unshift(r),r!==u)break}}return n.length<t.length&&n.unshift(".."),n.join("/")};var vo=e=>{let o=0,t=0,n=0;if(e.startsWith("#")){if(e.length<7)return !0;o=parseInt(e.substr(1,2),16),t=parseInt(e.substr(3,2),16),n=parseInt(e.substr(5,2),16);}else {let l=e.replace("rgb(","").replace("rgba(","").replace(")","").split(",");if(l.length<3)return !0;o=parseInt(l[0],10),t=parseInt(l[1],10),n=parseInt(l[2],10);}return (o*299+t*587+n*114)/1e3<128},Yr=0,Pe=()=>(+(Date.now().toString(10).substr(0,4)+Yr++)).toString(16);var tt=()=>"",ho=()=>tt,Jn=Object.getOwnPropertyDescriptors({toString:tt});Object.defineProperties(tt,Jn);Object.defineProperties(ho,Jn);var Wn={createTheme:tt,css:ho,getCssText:tt,keyframes:ho};var ke={colors:{surface1:"#ffffff",surface2:"#EFEFEF",surface3:"#F3F3F3",disabled:"#C5C5C5",base:"#323232",clickable:"#808080",hover:"#4D4D4D",accent:"#3973E0",error:"#EA3323",errorSurface:"#FCF1F0",warning:"#6A4516",warningSurface:"#FEF2C0"},syntax:{plain:"#151515",comment:{color:"#999",fontStyle:"italic"},keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},Et={colors:{surface1:"#151515",surface2:"#252525",surface3:"#2F2F2F",disabled:"#4D4D4D",base:"#808080",clickable:"#999999",hover:"#C5C5C5",accent:"#E5E5E5",error:"#FFB4A6",errorSurface:"#690000",warning:"#E7C400",warningSurface:"#3A3000"},syntax:{plain:"#FFFFFF",comment:{color:"#757575",fontStyle:"italic"},keyword:"#77B7D7",tag:"#DFAB5C",punctuation:"#ffffff",definition:"#86D9CA",property:"#77B7D7",static:"#C64640",string:"#977CDC"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},Xn,Zn={light:ke,dark:Et,auto:typeof window!="undefined"&&(Xn=window==null?void 0:window.matchMedia)!=null&&Xn.call(window,"(prefers-color-scheme: dark)").matches?Et:ke};var L="sp",Wr=()=>typeof __UNSTYLED_COMPONENTS__!="undefined"&&!!__UNSTYLED_COMPONENTS__,{createTheme:go,css:m,getCssText:Xr,keyframes:wt}=Wr()?Wn:createStitches({prefix:L}),Zr={space:new Array(11).fill(" ").reduce((e,o,t)=>E(y({},e),{[t+1]:`${(t+1)*4}px`}),{}),border:{radius:"4px"},layout:{height:"300px",headerHeight:"40px"},transitions:{default:"150ms ease"},zIndices:{base:"1",overlay:"2",top:"3"}},yo=e=>{let t=Object.entries(e.syntax).reduce((n,[s,l])=>{let d={[`color-${s}`]:l};return typeof l=="object"&&(d=Object.entries(l).reduce((r,[u,g])=>E(y({},r),{[`${u}-${s}`]:g}),{})),y(y({},n),d)},{});return E(y({},Zr),{colors:e.colors,font:e.font,syntax:t})},bo=e=>{var g,f,h,c,x;let o="default";if(e=e||"light",typeof e=="string"){let a=Zn[e];if(!a)throw new Error(`[sandpack-vue3]: invalid theme '${e}' provided.`);return {theme:a,id:e,mode:vo(a.colors.surface1)?"dark":"light"}}let t=vo((f=(g=e==null?void 0:e.colors)==null?void 0:g.surface1)!=null?f:ke.colors.surface1)?"dark":"light",n=t==="dark"?Et:ke,s=y(y({},n.colors),(h=e==null?void 0:e.colors)!=null?h:{}),l=y(y({},n.syntax),(c=e==null?void 0:e.syntax)!=null?c:{}),d=y(y({},n.font),(x=e==null?void 0:e.font)!=null?x:{}),r={colors:s,syntax:l,font:d},u=e?Gr(JSON.stringify(r)):o;return {theme:r,id:`sp-${u}`,mode:t}},Gr=e=>{let o=0;for(let t=0;t<e.length;o&=o)o=31*o+e.charCodeAt(t++);return Math.abs(o)},Gn=()=>"";Gn.toString=Gn;var ot=(e,{line:o,column:t})=>e.line(o).from+(t!=null?t:0)-1,Qn=()=>EditorView.theme({"&":{backgroundColor:`var(--${L}-colors-surface1)`,color:`var(--${L}-syntax-color-plain)`,height:"100%"},".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{color:"inherit",backgroundColor:"rgba(128,128,128,.25)",backgroundBlendMode:"difference"},"&.cm-editor.cm-focused":{outline:"none"},".cm-activeLine":{backgroundColor:`var(--${L}-colors-surface3)`,borderRadius:`var(--${L}-border-radius)`},".cm-errorLine":{backgroundColor:`var(--${L}-colors-errorSurface)`,borderRadius:`var(--${L}-border-radius)`},".cm-content":{caretColor:`var(--${L}-colors-accent)`,padding:`0 var(--${L}-space-4)`},".cm-scroller":{fontFamily:`var(--${L}-font-mono)`,lineHeight:`var(--${L}-font-lineHeight)`},".cm-gutters":{backgroundColor:`var(--${L}-colors-surface1)`,color:`var(--${L}-colors-disabled)`,border:"none",paddingLeft:`var(--${L}-space-1)`},".cm-gutter.cm-lineNumbers":{fontSize:".6em"},".cm-lineNumbers .cm-gutterElement":{lineHeight:`var(--${L}-font-lineHeight)`,minWidth:`var(--${L}-space-5)`},".cm-content .cm-line":{paddingLeft:`var(--${L}-space-1)`},".cm-content.cm-readonly .cm-line":{paddingLeft:0}}),he=e=>`${L}-syntax-${e}`,es=()=>["string","plain","comment","keyword","definition","punctuation","property","tag","static"].reduce((o,t)=>E(y({},o),{[`.${he(t)}`]:{color:`$syntax$color$${t}`,fontStyle:`$syntax$fontStyle$${t}`}}),{}),ts=e=>HighlightStyle.define([{tag:tags.link,textDecoration:"underline"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.keyword,class:he("keyword")},{tag:[tags.atom,tags.number,tags.bool],class:he("static")},{tag:tags.variableName,class:he("plain")},{tag:tags.function(tags.variableName),class:he("definition")},{tag:tags.standard(tags.tagName),class:he("tag")},{tag:[tags.function(tags.variableName),tags.definition(tags.function(tags.variableName)),tags.tagName],class:he("definition")},{tag:tags.propertyName,class:he("property")},{tag:[tags.literal,tags.inserted],class:he(e.syntax.string?"string":"static")},{tag:tags.punctuation,class:he("punctuation")},{tag:[tags.comment,tags.quote],class:he("comment")}]),os=(e,o,t)=>{if(!e&&!o)return "javascript";let n=o;if(!n&&e){let s=e.lastIndexOf(".");n=e.slice(s+1);}for(let s of t)if(n===s.name||s.extensions.includes(n||""))return s.name;switch(n){case"ts":case"tsx":return "typescript";case"html":case"svelte":case"vue":case"astro":return "html";case"css":case"less":case"scss":return "css";case"js":case"jsx":case"json":default:return "javascript"}},ns=(e,o)=>{let t={javascript:javascript({jsx:!0,typescript:!1}),typescript:javascript({jsx:!0,typescript:!0}),html:html(),css:css()};for(let n of o)if(e===n.name)return n.language;return t[e]};function ss(e){return ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDecoration(o);}update(o){}getDecoration(o){if(!e)return Decoration.none;let t=e.map(n=>{var r,u,g;let s=Decoration.line({attributes:{class:(r=n.className)!=null?r:""}}),l=Decoration.mark({class:(u=n.className)!=null?u:"",attributes:(g=n.elementAttributes)!=null?g:void 0}),d=ot(o.state.doc,{line:n.line,column:n.startColumn})+1;if(n.startColumn&&n.endColumn){let f=ot(o.state.doc,{line:n.line,column:n.endColumn})+1;return l.range(d,f)}return s.range(d)});return Decoration.set(t)}},{decorations:o=>o.decorations})}function rs(){return ri}var si=Decoration.line({attributes:{class:"cm-errorLine"}}),ri=ViewPlugin.fromClass(class{constructor(){this.decorations=Decoration.none;}update(e){e.transactions.forEach(o=>{let t=o.annotation("show-error");if(t!==void 0){let n=ot(e.view.state.doc,{line:t})+1;this.decorations=Decoration.set([si.range(n)]);}else o.annotation("remove-errors")&&(this.decorations=Decoration.none);});}},{decorations:e=>e.decorations});var xo=(e,o)=>{if(e.length!==o.length)return !1;let t=!0;for(let n=0;n<e.length;n++)if(e[n]!==o[n]){t=!1;break}return t};var is=Symbol("classNamesProvider"),as=defineComponent({name:"ClassNamesProvider",props:{classes:{type:Object,required:!1,default(){return {}}}},setup(e,{slots:o}){return provide(is,e.classes),()=>createVNode(Fragment,null,[o.default?o.default():null])}}),S=()=>{let e=He(is,{});return function(t,n=[]){let s=`${L}-${t}`;return di(...n,s,e[s])}},di=(...e)=>e.filter(Boolean).join(" ");var $={"/styles.css":{code:`body {
  font-family: sans-serif;
  -webkit-font-smoothing: auto;
  -moz-font-smoothing: auto;
  -moz-osx-font-smoothing: grayscale;
  font-smoothing: auto;
  text-rendering: optimizeLegibility;
  font-smooth: always;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

h1 {
  font-size: 1.5rem;
}`}};var ls={files:{"/src/styles.css":$["/styles.css"],"/src/pages/index.astro":{code:`---
import "../styles.css";
const data = "world";
---

<h1>Hello {data}</h1>

<style>
  h1 {
    font-size: 1.5rem;
  }
</style>`},"/src/env.d.ts":{code:'/// <reference types="astro/client" />'},".env":{code:'ASTRO_TELEMETRY_DISABLED="1"'},"/astro.config.mjs":{code:`import { defineConfig } from 'astro/config';

// https://astro.build/config
export default defineConfig({});`},"/tsconfig.json":{code:`{
  "extends": "astro/tsconfigs/base"
}`},"/package.json":{code:JSON.stringify({dependencies:{astro:"^1.9.2","esbuild-wasm":"^0.17.19"},scripts:{dev:"astro dev",start:"astro dev",build:"astro build",preview:"astro preview",astro:"astro"}},null,2)}},main:"/src/pages/index.astro",environment:"node"};var cs={files:E(y({},$),{"/styles.css":$["/styles.css"],"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Lit + TS</title>
    <link rel="stylesheet" href="/styles.css" />
    <script type="module" src="/main.ts"></script>
  </head>
  <body>
    <my-element />
  </body>
</html>
`},"/main.ts":{code:`import { LitElement, html } from 'lit'
import { customElement, property } from 'lit/decorators.js'

@customElement('my-element')
export class MyElement extends LitElement {
  @property()
  msg = 'Hello world'

  render() {
    return html\`<h1>\${this.msg}</h1>\`
  }
}

declare global {
  interface HTMLElementTagNameMap {
    'my-element': MyElement
  }
}
`},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/tsconfig.json":{code:`{
  "compilerOptions": {
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "declaration": true,
    "emitDeclarationOnly": true,
    "outDir": "./types",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "moduleResolution": "Node",
    "isolatedModules": true,
    "allowSyntheticDefaultImports": true,
    "experimentalDecorators": true,
    "forceConsistentCasingInFileNames": true,
    "useDefineForClassFields": false,
    "skipLibCheck": true
  },
  "references": [{ "path": "./tsconfig.node.json" }]
}
`},"/tsconfig.node.json":{code:`{
  "compilerOptions": {
    "composite": true,
    "module": "ESNext",
    "moduleResolution": "Node",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}
`},"/vite.config.ts":{code:`import { defineConfig } from 'vite'

// https://vitejs.dev/config/
export default defineConfig({
  build: {
    lib: {
      entry: '/main.ts',
      formats: ['es'],
    },
    rollupOptions: {
      external: /^lit/,
    },
  },
})
`},"/package.json":{code:`{
  "name": "vite-lit",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build"
  },
  "dependencies": {
    "lit": "^2.7.4"
  },
  "devDependencies": {
    "typescript": "^5.0.4",
    "vite": "4.2.2",
    "esbuild-wasm": "^0.17.19"
  }
}
`}}),entry:"/main.ts",main:"/main.ts",environment:"node"};var ds={files:E(y({},$),{"/pages/_app.js":{code:`import '../styles.css'

export default function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}`},"/pages/index.js":{code:`export default function Home({ data }) {
  return (
    <div>
      <h1>Hello {data}</h1>
    </div>
  );
}

export function getServerSideProps() {
  return {
    props: { data: "world" },
  }
}
`},"/next.config.js":{code:`/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
}

module.exports = nextConfig
`},"/package.json":{code:JSON.stringify({name:"my-app",version:"0.1.0",private:!0,scripts:{dev:"NEXT_TELEMETRY_DISABLED=1 next dev",build:"next build",start:"next start",lint:"next lint"},dependencies:{next:"12.1.6",react:"18.2.0","react-dom":"18.2.0","@next/swc-wasm-nodejs":"12.1.6"}},null,2)}}),main:"/pages/index.js",environment:"node"};var us={files:{"/index.js":{code:`const http = require('http');

const hostname = '127.0.0.1';
const port = 3000;

const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/html');
  res.end('Hello world');
});

server.listen(port, hostname, () => {
  console.log(\`Server running at http://\${hostname}:\${port}/\`);
});`},"/package.json":{code:JSON.stringify({dependencies:{},scripts:{start:"node index.js"},main:"index.js"},null,2)}},main:"/index.js",environment:"node"};var ms={files:E(y({},$),{"/App.tsx":{code:`import { Component } from "solid-js";

const App: Component = () => {
  return <h1>Hello world</h1>
};

export default App;`},"/index.tsx":{code:`import { render } from "solid-js/web";
import App from "./App";

import "./styles.css";

render(() => <App />, document.getElementById("app"));`},"/index.html":{code:`<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="app"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>`},"/vite.config.ts":{code:`/// <reference types="vite/client" />

import { defineConfig } from 'vite';
import solidPlugin from 'vite-plugin-solid';

export default defineConfig({
  plugins: [solidPlugin()],
  build: {
    target: 'esnext',
  },
  resolve: {
    conditions: ['development', 'browser'],
  },
});`},"/tsconfig.json":{code:`{
  "compilerOptions": {
    "strict": true,
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "node",
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "jsx": "preserve",
    "jsxImportSource": "solid-js",
    "types": ["vite/client", "@testing-library/jest-dom"]
  }
}`},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite",build:"tsc && vite build",serve:"vite preview"},dependencies:{"solid-js":"^1.7.5"},devDependencies:{vite:"4.2.2",typescript:"^5.0.4","vite-plugin-solid":"^2.7.0","esbuild-wasm":"^0.17.19"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"node"};var Co={files:E(y({},$),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/index.js"></script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},devDependencies:{vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}}),main:"/index.js",environment:"node"};var So={files:E(y({},$),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"></script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@vitejs/plugin-react":"^3.1.0",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)},"/vite.config.js":{code:`import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
});
`}}),main:"/App.jsx",environment:"node"};var Eo={files:E(y({},$),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";
import React from "react";

const root = createRoot(document.getElementById("root") as HTMLElement);
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx"},references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@types/react":"^18.0.28","@types/react-dom":"^18.0.11","@vitejs/plugin-react":"^3.1.0","vite-plugin-checker":"^0.5.6",typescript:"^5.0.4",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react(),
  ],
})
`}}),main:"/App.tsx",environment:"node"};var wo={files:E(y({},$),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root");
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"></script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",vite:"4.2.2","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:`import { defineConfig } from "vite";
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
});
`}}),main:"/App.jsx",environment:"node"};var To={files:E(y({},$),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root") as HTMLElement;
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx",jsxImportSource:"preact"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",typescript:"^4.9.5",vite:"4.2.2","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
})
`}}),main:"/App.tsx",environment:"node"};var $o={files:{"/src/styles.css":$["/styles.css"],"/src/App.svelte":{code:`<script>
const data = "world";
</script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
`},"svelte.config.js":{code:`import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'

export default {
  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess
  // for more information about preprocessors
  preprocess: vitePreprocess(),
}
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},dependencies:{svelte:"^3.59.1"},devDependencies:{"@sveltejs/vite-plugin-svelte":"2.1.1",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.svelte",environment:"node"};var No={files:{"/src/styles.css":$["/styles.css"],"/src/App.svelte":{code:`<script lang="ts">
const data: string = "world";
</script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
`},"/vite-env.d.ts":{code:`/// <reference types="svelte" />
/// <reference types="vite/client" />`},"svelte.config.js":{code:`import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'

export default {
  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess
  // for more information about preprocessors
  preprocess: vitePreprocess(),
}
`},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"tsconfig.json":{code:JSON.stringify({extends:"@tsconfig/svelte/tsconfig.json",compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",resolveJsonModule:!0,allowJs:!0,checkJs:!0,isolatedModules:!0},include:["src/**/*.d.ts","src/**/*.ts","src/**/*.js","src/**/*.svelte"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node"},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"2.1.1","@tsconfig/svelte":"^4.0.1",svelte:"^3.59.1","svelte-check":"^3.3.2",typescript:"^5.0.4",tslib:"^2.5.0",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.svelte",environment:"node"};var ko={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<script setup>
import { ref } from "vue";

const data = ref("world");
</script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"

createApp(App).mount('#app')
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{vue:"^3.3.2"},devDependencies:{"@vitejs/plugin-vue":"^4.2.3",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.vue",environment:"node"};var Lo={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<script setup lang="ts">
import { ref } from "vue";

const data = ref<string>("world");
</script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"

createApp(App).mount('#app')
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
`},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",moduleResolution:"Node",strict:!0,jsx:"preserve",resolveJsonModule:!0,isolatedModules:!0,esModuleInterop:!0,lib:["ESNext","DOM"],skipLibCheck:!0,noEmit:!0},include:["src/**/*.ts","src/**/*.d.ts","src/**/*.tsx","src/**/*.vue"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{vue:"^3.3.2"},devDependencies:{"@vitejs/plugin-vue":"^4.2.3",vite:"4.2.2","vue-tsc":"^1.6.5",typescript:"^5.0.4","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.vue",environment:"node"};var Ao={files:{"/src/app/app.component.css":$["/styles.css"],"/src/app/app.component.html":{code:`<div>
<h1>{{ helloWorld }}</h1>
</div>
`},"/src/app/app.component.ts":{code:`import { Component } from "@angular/core";

@Component({
  selector: "app-root",
  templateUrl: "./app.component.html",
  styleUrls: ["./app.component.css"]
})
export class AppComponent {
  helloWorld = "Hello world";
}
`},"/src/app/app.module.ts":{code:`import { BrowserModule } from "@angular/platform-browser";
import { NgModule } from "@angular/core";

import { AppComponent } from "./app.component";

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}
`},"/src/index.html":{code:`<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Angular</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
   <app-root></app-root>
</body>

</html>
`},"/src/main.ts":{code:`import { enableProdMode } from "@angular/core";
import { platformBrowserDynamic } from "@angular/platform-browser-dynamic";

import { AppModule } from "./app/app.module";

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch(err => console.log(err));

`},"/src/polyfills.ts":{code:`import "core-js/proposals/reflect-metadata";
      import "zone.js/dist/zone";
`},"/package.json":{code:JSON.stringify({dependencies:{"@angular/core":"^11.2.0","@angular/platform-browser":"^11.2.0","@angular/platform-browser-dynamic":"^11.2.0","@angular/common":"^11.2.0","@angular/compiler":"^11.2.0","zone.js":"0.11.3","core-js":"3.8.3",rxjs:"6.6.3"},main:"/src/main.ts"},null,2)}},main:"/src/app/app.component.ts",environment:"angular-cli"};var Mo={files:E(y({},$),{"/App.js":{code:`export default function App() {
  return <h1>Hello world</h1>
}
`},"/index.js":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},main:"/index.js"},null,2)}}),main:"/App.js",environment:"create-react-app"};var Fo={files:E(y({},$),{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/App.tsx":{code:`export default function App(): JSX.Element {
  return <h1>Hello world</h1>
}
`},"/index.tsx":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},devDependencies:{"@types/react":"^18.0.0","@types/react-dom":"^18.0.0",typescript:"^4.0.0"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"create-react-app"};var Oo={files:E(y({},$),{"/App.tsx":{code:`import { Component } from "solid-js";

const App: Component = () => {
  return <h1>Hello world</h1>
};

export default App;`},"/index.tsx":{code:`import { render } from "solid-js/web";
import App from "./App";

import "./styles.css";

render(() => <App />, document.getElementById("app"));`},"/index.html":{code:`<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="app"></div>
  <script src="src/index.tsx"></script>
</body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{"solid-js":"1.3.15"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"solid"};var Ro={files:E(y({},$),{"/App.svelte":{code:`<style>
  h1 {
    font-size: 1.5rem;
  }
</style>

<script>
  let name = 'world';
</script>

<main>
  <h1>Hello {name}</h1>
</main>`},"/index.js":{code:`import App from "./App.svelte";
import "./styles.css";

const app = new App({
  target: document.body
});

export default app;
      `},"/public/index.html":{code:`<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8" />
    <meta name="viewport" content="width=device-width" />

    <title>Svelte app</title>

    <link rel="stylesheet" href="public/bundle.css" />
  </head>

  <body>
    <script src="bundle.js"></script>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{svelte:"^3.0.0"},main:"/index.js"},null,2)}}),main:"/App.svelte",environment:"svelte"};var _o={files:{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/add.ts":{code:"export const add = (a: number, b: number): number => a + b;"},"/add.test.ts":{code:`import { add } from './add';

describe('add', () => {
  test('Commutative Law of Addition', () => {
    expect(add(1, 2)).toBe(add(2, 1));
  });
});`},"package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/add.ts"},null,2)}},main:"/add.test.ts",environment:"parcel",mode:"tests"};var Io={files:E(y({},$),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.js">
  </script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.js"},null,2)}}),main:"/index.js",environment:"parcel"};var Po={files:E(y({},$),{"tsconfig.json":{code:`{
  "compilerOptions": {
    "strict": true,
    "module": "commonjs",
    "jsx": "preserve",
    "esModuleInterop": true,
    "sourceMap": true,
    "allowJs": true,
    "lib": [
      "es6",
      "dom"
    ],
    "rootDir": "src",
    "moduleResolution": "node"
  }
}`},"/index.ts":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.ts">
  </script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/index.ts"},null,2)}}),main:"/index.ts",environment:"parcel"};var Nt={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup>
import { ref } from 'vue';
const msg = ref('world');
</script>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.30.2",vue:"^3.3.2"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8"}},null,2)}},main:"/src/App.vue",environment:"vue-cli"};var kt={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup lang="ts">
import { ref } from 'vue';
const msg = ref<string>('world');
</script>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/src/shims-vue.d.ts":`/* eslint-disable */
declare module "*.vue" {
  import type { DefineComponent } from "vue";
  const component: DefineComponent<{}, {}, any>;
  export default component;
}`,"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.30.2",vue:"^3.3.2"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.5"}},null,2)},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",experimentalDecorators:!0,skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!1,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]},null,2)}},main:"/src/App.vue",environment:"vue-cli"};var jo={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<template>
  <div id="app">
    <h1>Hello {{ msg }}</h1>
    <button @click="add">add</button>
    <p>count: {{ count }}</p>
  </div>
</template>

<script>
import Vue from 'vue';

export default Vue.extend({
  name: "App",
  data() {
    return {
      msg: "",
      count: 1,
    };
  },
  methods: {
    add() {
      this.count += 1;
    },
  },
  mounted() {
    this.msg = "world";
  },
});
</script>`},"/src/main.js":{code:`import Vue from "vue";
import App from "./App.vue";
import "./styles.css";

Vue.config.productionTip = false;
new Vue({
  render: h => h(App)
}).$mount("#app");
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^2.7.14"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8","vue-template-compiler":"^2.7.14"}},null,2)}},main:"/src/App.vue",environment:"vue-cli"};var Bo={files:{"/src/styles.css":$["/styles.css"],"/src/App.vue":{code:`<template>
  <div id="app">
    <h1>Hello {{ msg }}</h1>
    <button @click="add">add</button>
    <p>count: {{ count }}</p>
  </div>
</template>

<script lang="ts">
import Vue from "vue";

export default Vue.extend({
  name: "App",
  data() {
    return {
      msg: "",
      count: 1,
    };
  },
  methods: {
    add() {
      this.count += 1;
    },
  },
  mounted() {
    this.msg = "world";
  },
});
</script>`},"/src/main.ts":{code:`import Vue from "vue";
import App from "./App.vue";
import "./styles.css";

Vue.config.productionTip = false;
new Vue({
  render: h => h(App)
}).$mount("#app");
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/src/shims-vue.d.ts":`declare module '*.vue' {
  import Vue from 'vue'
  export default Vue
}`,"/package.json":{code:JSON.stringify({name:"vue-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^2.7.14"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.3","vue-template-compiler":"^2.7.14"}},null,2)},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!0,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]},null,2)}},main:"/src/App.vue",environment:"vue-cli"};var ps={files:E(y({},$),{"/index.html":{code:`<!DOCTYPE html>
<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <h1>Hello world</h1>
</body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.html"})}}),main:"/index.html",environment:"static"};var nt={react:Mo,"react-ts":Fo,vue2:jo,"vue2-ts":Bo,vue:Nt,"vue-ts":kt,vue3:Nt,"vue3-ts":kt,vanilla:Io,"vanilla-ts":Po,static:ps,angular:Ao,svelte:Ro,solid:Oo,"test-ts":_o,node:us,nextjs:ds,vite:Co,"vite-react":So,"vite-react-ts":Eo,"vite-preact":wo,"vite-preact-ts":To,"vite-vue":ko,"vite-vue-ts":Lo,"vite-svelte":$o,"vite-svelte-ts":No,"vite-solid":ms,"vite-lit":cs,astro:ls};var Ue=e=>{var r,u,g,f,h,c;let o=normalizePath(e.files),t=mi({template:e.template,customSetup:e.customSetup,files:o}),n=normalizePath((u=(r=e.options)==null?void 0:r.visibleFiles)!=null?u:[]),s=(g=e.options)!=null&&g.activeFile?fs((f=e.options)==null?void 0:f.activeFile,t.files):void 0;n.length===0&&o&&Object.keys(o).forEach(x=>{let a=o[x];if(typeof a=="string"){n.push(x);return}!s&&a.active&&(s=x,a.hidden===!0&&n.push(x)),a.hidden||n.push(x);}),n.length===0&&(n=[t.main]),t.entry&&!t.files[t.entry]&&(t.entry=fs(t.entry,t.files)),!s&&t.main&&(s=t.main),(!s||!t.files[s])&&(s=n[0]),n.includes(s)||n.push(s);let l=addPackageJSONIfNeeded(t.files,(h=t.dependencies)!=null?h:{},(c=t.devDependencies)!=null?c:{},t.entry);return {visibleFiles:n.filter(x=>l[x]),activeFile:s,files:l,environment:t.environment,shouldUpdatePreview:!0}},fs=(e,o)=>{let t=normalizePath(o),n=normalizePath(e);if(n in t)return n;if(!e)return null;let s=null,l=0,d=[".js",".jsx",".ts",".tsx"];for(;!s&&l<d.length;){let u=`${n.split(".")[0]}${d[l]}`;t[u]!==void 0&&(s=u),l++;}return s},mi=({files:e,template:o,customSetup:t})=>{if(!o){if(!t){let s=nt.vanilla;return E(y({},s),{files:y(y({},s.files),st(e))})}if(!e||Object.keys(e).length===0)throw new Error("[sandpack-vue3]: without a template, you must pass at least one file");return E(y({},t),{files:st(e)})}let n=nt[o];if(!n)throw new Error(`[sandpack-vue3]: invalid template "${o}" provided`);return !t&&!e?n:{files:st(y(y({},n.files),e)),dependencies:y(y({},n.dependencies),t==null?void 0:t.dependencies),devDependencies:y(y({},n.devDependencies),t==null?void 0:t.devDependencies),entry:normalizePath((t==null?void 0:t.entry)||n.entry),main:n.main,environment:(t==null?void 0:t.environment)||n.environment}},st=e=>e?Object.keys(e).reduce((o,t)=>(typeof e[t]=="string"?o[t]={code:e[t]}:o[t]=e[t],o),{}):{};var Si=3e4,hs=Symbol("sandpackStateContext"),Lt=defineComponent({name:"SandpackProvider",props:{files:{type:Object,required:!1,default:void 0},template:{type:String,required:!1,default:void 0},customSetup:{type:Object,required:!1,default:void 0},theme:{type:[String,Object],required:!1,default:void 0},options:{type:Object,required:!1,default:void 0}},setup(e,{attrs:o,slots:t}){var me,ye,Te,$e,Ne,et,Fn;let{activeFile:n,visibleFiles:s=[],files:l,environment:d}=Ue(e),r=((me=e.options)==null?void 0:me.initMode)||"lazy",u=ref(null),g=ref(null),f=ref({}),h=ref(null),c=ref(),x=ref(),a=reactive({visibleFiles:s,activeFile:n,files:l,environment:d,visibleFilesFromProps:s,shouldUpdatePreview:!0,editorState:"pristine",teamId:e.teamId,openFile:I,resetFile:q,resetAllFiles:W,setActiveFile:k,updateFile:_,updateCurrentFile:K,addFile:_,closeFile:fe,deleteFile:F,autoReload:(Te=(ye=e.options)==null?void 0:ye.autoReload)!=null?Te:!0,reactDevTools:void 0,startRoute:($e=e.options)==null?void 0:$e.startRoute,initMode:((Ne=e.options)==null?void 0:Ne.initMode)||"lazy",bundlerState:{entry:"",transpiledModules:{}},error:{message:""},status:(Fn=(et=e.options)==null?void 0:et.autorun)==null||Fn?"initial":"idle",clients:{},lazyAnchorRef:null,unsubscribeClientListenersRef:{},queuedListenersRef:{global:{}},initializeSandpackIframe:ve,runSandpack:ue,registerBundler:T,unregisterBundler:M,registerReactDevTools:j,addListener:v,dispatchMessage:C,listen:v,dispatch:C});function j(p){a.reactDevTools=p;}function I(p){let{visibleFiles:b}=a,A=b.includes(p)?b:[...b,p];a.activeFile=p,a.visibleFiles=A;}function q(p){let{files:b}=Ue(e);a.files=E(y({},toRaw(a.files)),{[p]:b[p]});}function W(){let{files:p}=Ue(e);a.files=p;}function k(p){a&&a.files[p]&&(a.activeFile=p);}function _(p,b,A=!0){typeof p=="string"&&typeof b=="string"?a.files=E(y({},toRaw(a.files)),{[p]:{code:b}}):typeof p=="object"&&(a.files=normalizePath(y(y({},toRaw(a.files)),st(p)))),a.shouldUpdatePreview=A;}function K(p,b=!0){_(a.activeFile,p,b);}function fe(p){if(a.visibleFiles.length===1)return;let b=a.visibleFiles.indexOf(p),A=a.visibleFiles.filter(H=>H!==p);a.activeFile=p===a.activeFile?b===0?a.visibleFiles[1]:a.visibleFiles[b-1]:a.activeFile,a.visibleFiles=A;}function F(p,b=!0){let{visibleFiles:A,files:H,activeFile:Q}=a,le=y({},H);delete le[p];let P=A.filter(X=>X!==p);if(P.length===0){let X=Object.keys(H)[Object.keys(H).length-1];a.visibleFiles=[X],a.activeFile=X;}else a.visibleFiles=P,a.activeFile=p===Q?P[P.length-1]:Q;a.files=toRaw(le),a.shouldUpdatePreview=b;}function C(p,b){var A;if(a.status!=="running"){console.warn("[sandpack-vue3]: dispatch cannot be called while in idle mode");return}b?(A=toRaw(a.clients[b]))==null||A.dispatch(p):Object.values(a.clients).forEach(H=>{toRaw(H).dispatch(p);});}function v(p,b){if(b){if(a.clients[b])return toRaw(a.clients[b]).listen(p);{let A=Pe();return a.queuedListenersRef[b]=a.queuedListenersRef[b]||{},a.unsubscribeClientListenersRef[b]=a.unsubscribeClientListenersRef[b]||{},a.queuedListenersRef[b][A]=p,()=>{a.queuedListenersRef[b][A]?delete a.queuedListenersRef[b][A]:a.unsubscribeClientListenersRef[b][A]&&(a.unsubscribeClientListenersRef[b][A](),delete a.unsubscribeClientListenersRef[b][A]);}}}else {let A=Pe();a.queuedListenersRef.global[A]=p;let Q=Object.values(a.clients).map(P=>toRaw(P).listen(p));return ()=>{Q.forEach(P=>P()),delete a.queuedListenersRef.global[A],Object.values(a.unsubscribeClientListenersRef).forEach(P=>{var J;(J=P==null?void 0:P[A])==null||J.call(P);});}}}function T(p,b,A){return _e(this,null,function*(){f.value[b]={iframe:p,clientPropsOverride:A},a.status==="running"&&(yield B(p,b,A));})}function M(p){var Q,le;let b=toRaw(a.clients[p]);b&&(b.destroy(),(Q=b.iframe.contentWindow)==null||Q.location.replace("about:blank"),b.iframe.removeAttribute("src"),delete a.clients[p]),delete f.value[p],h.value&&clearTimeout(h.value),Object.values((le=a.unsubscribeClientListenersRef[p])!=null?le:{}).forEach(P=>{Object.values(P).forEach(X=>X());});let H=Object.keys(a.clients).length>0?"running":"idle";a.status=H;}function O(p){p.type==="start"?a.error=null:p.type==="state"?a.bundlerState=p.state:p.type==="done"&&!p.compilatonError||p.type==="connected"?(h.value&&clearTimeout(h.value),a.error=null):p.type==="action"&&p.action==="show-error"?a.error=extractErrorDetails(p):p.type==="action"&&p.action==="notification"&&p.notificationType==="error"&&(a.error={message:p.title});}function B(p,b,A){return _e(this,null,function*(){var X,Ct,On,Rn,_n,In,Pn,jn,Bn,Vn,Dn;a.clients[b]&&a.clients[b].destroy();let H=(X=e==null?void 0:e.customSetup)!=null?X:{npmRegistries:[]},Q=(On=(Ct=e==null?void 0:e.options)==null?void 0:Ct.bundlerTimeOut)!=null?On:Si;h.value&&clearTimeout(h.value),typeof c.value!="function"&&(h.value=setTimeout(()=>{te(),a.status="timeout";},Q));let P=yield loadSandpackClient(p,{files:toRaw(a.files),template:toRaw(a.environment)},{externalResources:(Rn=e.options)==null?void 0:Rn.externalResources,bundlerURL:(_n=e.options)==null?void 0:_n.bundlerURL,startRoute:(Pn=A==null?void 0:A.startRoute)!=null?Pn:(In=e.options)==null?void 0:In.startRoute,fileResolver:(jn=e.options)==null?void 0:jn.fileResolver,skipEval:(Vn=(Bn=e.options)==null?void 0:Bn.skipEval)!=null?Vn:!1,logLevel:(Dn=e.options)==null?void 0:Dn.logLevel,showOpenInCodeSandbox:!1,showErrorScreen:!0,showLoadingScreen:!0,reactDevTools:a.reactDevTools,customNpmRegistries:H==null?void 0:H.npmRegistries,teamId:e.teamId,sandboxId:e.sandboxId});typeof c.value!="function"&&(c.value=P.listen(O)),a.unsubscribeClientListenersRef[b]=a.unsubscribeClientListenersRef[b]||{},a.queuedListenersRef[b]&&(Object.keys(a.queuedListenersRef[b]).forEach(St=>{let uo=a.queuedListenersRef[b][St],mo=P.listen(uo);a.unsubscribeClientListenersRef[b][St]=mo;}),a.queuedListenersRef[b]={}),Object.entries(a.queuedListenersRef.global).forEach(([St,uo])=>{let mo=P.listen(uo);a.unsubscribeClientListenersRef[b][St]=mo;}),a.clients[b]=P;})}function te(){Object.keys(a.clients).map(M),typeof c.value=="function"&&(c.value(),c.value=void 0);}function ue(){return _e(this,null,function*(){yield Promise.all(Object.entries(f.value).map(H=>_e(this,[H],function*([p,{iframe:b,clientPropsOverride:A={}}]){yield B(b,p,A);}))),a.error=null,a.status="running";})}function ve(){var A,H,Q,le,P;if(!((H=(A=e.options)==null?void 0:A.autorun)!=null?H:!0))return;let b=(le=(Q=e.options)==null?void 0:Q.initModeObserverOptions)!=null?le:{rootMargin:"1000px 0px"};u.value&&a.lazyAnchorRef&&((P=u.value)==null||P.unobserve(a.lazyAnchorRef)),a.lazyAnchorRef&&a.initMode==="lazy"?(u.value=new IntersectionObserver(J=>{var X;J.some(Ct=>Ct.isIntersecting)&&(g.value=setTimeout(()=>{ue();},50),a.lazyAnchorRef&&((X=u.value)==null||X.unobserve(a.lazyAnchorRef)));},b),u.value.observe(a.lazyAnchorRef)):a.lazyAnchorRef&&a.initMode==="user-visible"?(u.value=new IntersectionObserver(J=>{J.some(X=>X.isIntersecting)?g.value=setTimeout(()=>{ue();},50):(g.value&&clearTimeout(g.value),Object.keys(a.clients).map(M),te());},b),u.value.observe(a.lazyAnchorRef)):g.value=setTimeout(()=>ue(),50);}return provide(hs,a),watch([()=>a.files,()=>a.environment,()=>a.shouldUpdatePreview,()=>a.reactDevTools,()=>a.status,()=>{var p;return (p=e.options)==null?void 0:p.recompileMode},()=>{var p;return (p=e.options)==null?void 0:p.recompileDelay}],()=>{var H,Q,le,P;let{environment:p}=Ue(e),b=(Q=(H=e.options)==null?void 0:H.recompileMode)!=null?Q:"delayed",A=(P=(le=e.options)==null?void 0:le.recompileDelay)!=null?P:500;if(!(a.status!=="running"||!a.shouldUpdatePreview)&&(p!==a.environment&&(a.environment=p,Object.entries(a.clients).forEach(([J,X])=>{T(toRaw(X).iframe,J);})),b==="immediate"&&Object.values(a.clients).forEach(J=>{J.status==="done"&&toRaw(J).updateSandbox({files:y({},toRaw(a.files)),template:toRaw(a.environment)});}),b==="delayed")){if(typeof window=="undefined")return;window.clearTimeout(x.value),x.value=window.setTimeout(()=>{Object.values(a.clients).forEach(J=>{J.status==="done"&&toRaw(J).updateSandbox({files:y({},toRaw(a.files)),template:toRaw(a.environment)});});},A);}},{immediate:!0,deep:!0}),watch([()=>{var p;return (p=e.options)==null?void 0:p.initMode},()=>a.initMode,()=>{var p;return (p=e.options)==null?void 0:p.autorun},()=>{var p;return (p=e.options)==null?void 0:p.initModeObserverOptions},()=>a.environment,()=>a.files,()=>a.reactDevTools],()=>{r!==a.initMode&&(a.initMode=r,ve());},{immediate:!0,deep:!0}),watch([()=>e.options,()=>e.template,()=>e==null?void 0:e.files,()=>e.customSetup],()=>{let p=Ue(e);a.activeFile=p.activeFile,a.visibleFiles=p.visibleFiles,a.visibleFilesFromProps=p.visibleFiles,a.files=p.files,a.environment=p.environment;let b=dequal(p.files,toRaw(a.files))?"pristine":"dirty";b!==a.editorState&&(a.editorState=b);},{deep:!0}),onMounted(()=>{typeof c.value=="function"&&c.value(),h.value&&clearTimeout(h.value),x.value&&clearTimeout(x.value),g.value&&clearTimeout(g.value),u.value&&u.value.disconnect(),nextTick(()=>{ve();});}),()=>{var p;return createVNode(as,{classes:(p=e.options)==null?void 0:p.classes},{default:()=>[createVNode(gs,{style:(o==null?void 0:o.style)||{},class:(o==null?void 0:o.class)||"",theme:e.theme},{default:()=>[t.default?t.default():null]})]})}}});function N(){let e=He(hs,void 0);return e||(e={files:{},dispatch:()=>{},listen:()=>{}},console.error('[sandpack-vue3]: "useSandpack" must be wrapped by a "SandpackProvider"')),{sandpack:e,dispatch:e.dispatch,listen:e.listen}}var At=()=>{let{sandpack:e}=N(),o=computed(()=>{var n;return (n=e==null?void 0:e.files[e.activeFile])==null?void 0:n.code}),t=computed(()=>{var n,s;return (s=(n=e==null?void 0:e.files[e.activeFile])==null?void 0:n.readOnly)!=null?s:!1});return {code:o,readOnly:t,updateCode:e.updateCurrentFile}};var qo=200,bs=e=>{let o,t,{sandpack:n,listen:s}=N(),l=ref("LOADING"),d=()=>{o&&o(),o=s(r=>{r.type==="start"&&r.firstLoad===!0&&(l.value="LOADING"),r.type==="done"&&(l.value=l.value==="LOADING"?"PRE_FADING":"HIDDEN");},e.clientId);};return onBeforeMount(()=>{l.value="LOADING";}),onBeforeUnmount(()=>{o&&o();}),onUnmounted(()=>{o&&o();}),watch(()=>n.status,()=>{n.status!=="running"&&(l.value="HIDDEN"),n.status==="timeout"&&(l.value="TIMEOUT"),n.status==="idle"&&d();},{immediate:!0}),watch(()=>e.clientId,d,{immediate:!0}),watch([l,()=>e.loading],()=>{t&&clearTimeout(t),l.value==="PRE_FADING"&&!e.loading?l.value="FADING":l.value==="FADING"&&(t&&clearTimeout(t),t=setTimeout(()=>{l.value="HIDDEN";},qo));},{deep:!0,immediate:!0}),l};var xs=e=>{let{dispatch:o}=N();return {refresh:()=>o({type:"refresh"},e),back:()=>o({type:"urlback"},e),forward:()=>o({type:"urlforward"},e)}};var Oi=m({all:"initial",fontSize:"$font$size",fontFamily:"$font$body",display:"block",boxSizing:"border-box",textRendering:"optimizeLegibility",WebkitTapHighlightColor:"transparent",WebkitFontSmoothing:"subpixel-antialiased",variants:{variant:{dark:{colorScheme:"dark"},light:{colorScheme:"light"}}},"@media screen and (min-resolution: 2dppx)":{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"*":{boxSizing:"border-box"},".sp-wrapper:focus":{outline:"0"}}),Ho=Symbol("sandpackThemeProvider"),gs=defineComponent({name:"SandpackThemeProvider",props:{theme:{type:[String,Object],required:!1,default:void 0},mode:{type:String,required:!1,default:"light"}},setup(e,{slots:o,attrs:t}){let{theme:n,id:s="",mode:l="light"}=bo(e.theme),d=S(),r=ref({}),u=reactive({theme:n,id:s,mode:l});return u.theme&&(r.value=go(s,yo(n)),provide(Ho,u)),watch(()=>e.theme,()=>{let{theme:f,id:h}=bo(e.theme);e.theme&&(u.id=h,u.theme=f,r.value=go(h,yo(f)));},{immediate:!0}),()=>createVNode("div",{class:d("wrapper",[r.value.toString(),Oi({variant:l}),(t==null?void 0:t.class)||""])},[o.default?o.default():null])}});var Ip=(e,o=Symbol())=>{if(!e||typeof e!="object")throw new Error("context can only be object: Record<string, any>");let t=reactive(y({},e)),n=defineComponent({name:"ContextProvider",inheritAttrs:!1,setup(s,{slots:l}){return provide(o,t),()=>{var d;return (d=l.default)==null?void 0:d.call(l)}}});return {state:t,Provider:n}},He=(e=Symbol(),o)=>{let t=inject(e,o);return t==null?o:t};var Mt=()=>He(Ho,{theme:ke,id:"light",mode:"light"});var Ye=e=>{let{sandpack:o,listen:t,dispatch:n}=N(),s=ref(null),l=ref(Pe());return onMounted(()=>{let r=s.value;r!==null&&o.registerBundler(r,l.value,e);}),onBeforeUnmount(()=>{o&&l.value&&o.unregisterBundler(l.value);}),onUnmounted(()=>{o&&l.value&&o.unregisterBundler(l.value);}),{sandpack:o,getClient:()=>{let{clients:r}=o;return toRaw(r[l.value]||null)},clientId:l,iframe:s,listen:r=>t(r,l.value),dispatch:r=>n(r,l.value)}};var Le=e=>{let{dispatch:o}=N();return {restart:()=>o({type:"shell/restart"},e),openPreview:()=>o({type:"shell/openPreview"},e)}};var Ss=({langSupport:e,highlightTheme:o,code:t=""})=>{let n=e.language.parser.parse(t),s=0,l=[],d=(r,u)=>{if(r>s){let g=t.slice(s,r);l.push(u?createVNode("span",{key:`${r}${s}`,class:u},[g]):g),s=r;}};return highlightTree(n,o,(r,u,g)=>{d(r,""),d(u,g);}),s<t.length&&(t!=null&&t.includes(`
`))&&l.push(`

`),l};function Yo(e){let o,t=Mt(),n=os(e.filePath,e.fileType,e.additionalLanguages),s=ns(n,e.additionalLanguages),l=ts(t.theme),d=Ss({langSupport:s,highlightTheme:l,code:e.code}),r=ref(e.code),u=ref(),g=ref(),f=ref(!1),h=computed(()=>e.initMode||"lazy"),c=computed(()=>{let k=e.decorators?[...e.decorators]:[];return k&&k.sort((_,K)=>_.line-K.line)}),x=ref(h.value==="immediate"),a=ref([]),j=ref([]);fo(u,([{isIntersecting:k}])=>{f.value=k;},{rootMargin:"600px 0px",threshold:.2});let I=()=>{!u.value||!x.value||(W(),o=setTimeout(q));},q=()=>{let k=[{key:"Tab",run:C=>{var T,M;indentMore(C);let v=e.extensionsKeymap.find(({key:O})=>O==="Tab");return (M=(T=v==null?void 0:v.run)==null?void 0:T.call(v,C))!=null?M:!0}},{key:"Shift-Tab",run:({state:C,dispatch:v})=>{var M,O;indentLess({state:C,dispatch:v});let T=e.extensionsKeymap.find(({key:B})=>B==="Shift-Tab");return (O=(M=T==null?void 0:T.run)==null?void 0:M.call(T,F))!=null?O:!0}},{key:"Escape",run:()=>(e.readOnly||u.value&&u.value.focus(),!0)},{key:"mod-Backspace",run:deleteGroupBackward}],_=[highlightSpecialChars(),history(),closeBrackets(),...e.extensions,keymap.of([...closeBracketsKeymap,...defaultKeymap,...historyKeymap,...k,...e.extensionsKeymap]),s,Qn(),syntaxHighlighting(l)];e.readOnly?(_.push(EditorState.readOnly.of(!0)),_.push(EditorView.editable.of(!1))):(_.push(bracketMatching()),_.push(highlightActiveLine())),c.value&&_.push(ss(c.value)),e.wrapContent&&_.push(EditorView.lineWrapping),e.showLineNumbers&&_.push(lineNumbers()),e.showInlineErrors&&_.push(rs());let K=u.value,fe=K.querySelector(".sp-pre-placeholder");fe&&K.removeChild(fe);let F=new EditorView({doc:e.code,extensions:_,parent:K,dispatch:C=>{var v;if(F.update([C]),C.docChanged){let T=C.newDoc.sliceString(0,C.newDoc.length);r.value=T,(v=e.onCodeUpdate)==null||v.call(e,T);}}});F.contentDOM.setAttribute("data-gramm","false"),F.contentDOM.setAttribute("data-lt-active","false"),F.contentDOM.setAttribute("aria-label",e.filePath?`Code Editor for ${Ie(e.filePath)}`:"Code Editor"),e.readOnly?F.contentDOM.classList.add("cm-readonly"):F.contentDOM.setAttribute("tabIndex","-1"),g.value=F;},W=()=>{var k;(k=g.value)==null||k.destroy(),o&&clearTimeout(o);};return watch([()=>e.readOnly,()=>e.showLineNumbers,()=>e.showInlineErrors,()=>e.wrapContent,()=>e.readOnly,()=>t.id,x,c],I,{immediate:!0}),watch([()=>e.initMode,f],()=>{(h.value==="lazy"||h.value==="user-visible")&&f.value&&(x.value=!0);}),watch([()=>e.extensions,()=>e.extensionsKeymap],()=>{let k=g.value,_=!xo(e.extensions,a.value)||!xo(e.extensionsKeymap,j.value);k&&_&&(k.dispatch({effects:StateEffect.appendConfig.of(e.extensions||[])}),k.dispatch({effects:StateEffect.appendConfig.of(keymap.of([...e.extensionsKeymap||[]]))}),a.value=e.extensions,j.value=e.extensionsKeymap);},{immediate:!0}),onMounted(()=>{nextTick(I);}),onUnmounted(W),{internalCode:r,shouldInitEditor:x,wrapperRef:u,cmView:g,languageExtension:n,syntaxHighlightRender:d}}var oe=m({svg:{margin:"auto"}}),R=m({appearance:"none",outline:"none",display:"flex",alignItems:"center",fontSize:"inherit",fontFamily:"inherit",backgroundColor:"transparent",transition:"color $default, background $default",cursor:"pointer",color:"$colors$clickable",border:"0",textDecoration:"none","&:disabled":{color:"$colors$disabled"},"&:hover:not(:disabled,[data-active='true'])":{color:"$colors$hover"},'&[data-active="true"]':{color:"$colors$accent"},svg:{minWidth:"$space$4",width:"$space$4",height:"$space$4"},[`&.${oe}`]:{padding:"$space$1",height:"$space$7",display:"flex"},[`&.${oe}&:not(:has(span))`]:{width:"$space$7"},[`&.${oe}&:has(svg + span)`]:{paddingRight:"$space$3",paddingLeft:"$space$2",gap:"$space$1"}});m({backgroundColor:"$colors$surface2",borderRadius:"99999px",'&[data-active="true"]':{color:"$colors$surface1",background:"$colors$accent"},"&:hover:not(:disabled,[data-active='true'])":{backgroundColor:"$colors$surface3"}});var ee=m({backgroundColor:"$colors$surface2",borderRadius:"99999px",border:"1px solid $colors$surface3",'&[data-active="true"]':{color:"$colors$surface1",background:"$colors$accent"},"&:hover:not(:disabled,[data-active='true'])":{backgroundColor:"$colors$surface3"}}),$s=m({padding:0}),it=wt({"0%":{opacity:0,transform:"translateY(4px)"},"100%":{opacity:1,transform:"translateY(0)"}}),Be=m({position:"absolute",bottom:"0",left:"0",right:"0",top:"0",margin:"0",overflow:"auto",height:"100%",zIndex:"$top"}),Ft=m({whiteSpace:"pre-wrap",padding:"$space$10",backgroundColor:"$colors$surface1",display:"flex",gap:"$space$2",flexDirection:"column",[`.${R}`]:{width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2",marginTop:"$space$1"},variants:{solidBg:{true:{backgroundColor:"$colors$errorSurface"}}}}),at=m({padding:"$space$10",backgroundColor:"$colors$surface1",[`.${R}`]:{marginTop:"$space$6",width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2"}}),be=m({animation:`${it} 150ms ease`,color:"$colors$error",display:"flex",flexDirection:"column",gap:"$space$3",variants:{errorCode:{true:{fontFamily:"$font$mono"}}},a:{color:"inherit"},p:{margin:0}});var Ot=m({margin:"0",display:"block",fontFamily:"$font$mono",fontSize:"$font$size",color:"$syntax$color$plain",lineHeight:"$font$lineHeight"}),Jo=m(es()),Rt=m({flex:1,position:"relative",overflow:"auto",background:"$colors$surface1",".cm-scroller":{padding:"$space$4 0"},[`.${Ot}`]:{padding:"$space$4 0"},"@media screen and (max-width: 768px)":{"@supports (-webkit-overflow-scrolling: touch)":{".cm-content":{fontSize:"16px"}}}}),Wo=m({margin:"0",outline:"none",height:"100%"}),Ns=m({fontFamily:"$font$mono",fontSize:"0.8em",position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",color:"$colors$clickable",backgroundColor:"$colors$surface2",borderRadius:"99999px",padding:"calc($space$1 / 2) $space$2",[`& + .${R}`]:{right:"calc($space$11 * 2)"}});var Ee=defineComponent({name:"CodeMirror",props:Un,setup(e,o){let t,{cmView:n,wrapperRef:s,languageExtension:l,internalCode:d,syntaxHighlightRender:r}=Yo(e),u=S(),{listen:g}=N(),f=c=>{c.key==="Enter"&&n.value&&(c.preventDefault(),n.value.contentDOM.focus());};o.expose({getCodemirror:()=>n.value}),onMounted(()=>{nextTick(()=>{n.value&&e.editorState==="dirty"&&window.matchMedia("(min-width: 768px)").matches&&n.value.contentDOM.focus();});}),watch(()=>e.code,c=>{if(n.value&&typeof c=="string"&&c!==d.value){let x=n.value,a=x.state.selection.ranges.some(({to:I,from:q})=>I>c.length||q>c.length)?EditorSelection.cursor(c.length):x.state.selection,j={from:0,to:x.state.doc.length,insert:c};x.dispatch({changes:j,selection:a});}},{immediate:!0}),watch([()=>e.showInlineErrors],()=>{e.showInlineErrors&&(t&&t(),t=g(c=>{let x=n.value;c.type==="success"?x==null||x.dispatch({annotations:[new Annotation("remove-errors",!0)]}):c.type==="action"&&c.action==="show-error"&&c.path===e.filePath&&c.line&&(x==null||x.dispatch({annotations:[new Annotation("show-error",c.line)]})),c.type==="action"&&c.action==="show-error"&&c.line&&(x==null||x.dispatch({annotations:[{type:"error",value:c.line}]}));}));},{immediate:!0});let h=()=>{let c=4;return e.showLineNumbers&&(c+=6),e.readOnly||(c+=1),`var(--${L}-space-${c})`};return onBeforeUnmount(()=>{t&&t();}),onUnmounted(()=>{t&&t();}),()=>e.readOnly?createVNode(Fragment,null,[createVNode("pre",{ref:s,class:u("cm",[u(e.editorState),u(l),Wo,Jo]),translate:"no"},[createVNode("code",{class:u("pre-placeholder",[Ot]),style:{marginLeft:h()}},[r])]),e.readOnly&&e.showReadOnly&&createVNode("span",{class:u("read-only",[Ns])},[createTextVNode("Read-only")])]):createVNode("div",{ref:s,"aria-autocomplete":"list","aria-label":e.filePath?`Code Editor for ${Ie(e.filePath)}`:"Code Editor","aria-multiline":"true",onKeydown:f,class:u("cm",[u(e.editorState),u(l),Wo,Jo]),role:"textbox",tabindex:0,translate:"no"},[createVNode("pre",{class:u("pre-placeholder",[Ot]),style:{marginLeft:h()}},[r])])}});var se=defineComponent({props:{fill:{type:String,required:!1,default:"currentColor"},height:{type:String,required:!1,default:"16"},viewBox:{type:String,required:!1,default:"0 0 16 16"},stroke:{type:String,required:!1,default:void 0},width:{type:String,required:!1,default:"16"},xmlns:{type:String,required:!1,default:"http://www.w3.org/2000/svg"}},setup(e,{slots:o}){return ()=>createVNode("svg",e,[o.default?o.default():null])}}),Ae=()=>createVNode(se,{fill:"none",stroke:"currentColor"},{default:()=>[createVNode("title",null,[createTextVNode("Restart script")]),createVNode("path",{d:"M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118","stroke-linecap":"round"},null),createVNode("path",{d:"M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623","stroke-linecap":"round"},null),createVNode("path",{d:"M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683","stroke-linecap":"round"},null),createVNode("path",{d:"M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332","stroke-linecap":"round"},null),createVNode("path",{d:"M10 10L12 12L10 14","stroke-linecap":"round","stroke-linejoin":"round"},null),createVNode("path",{d:"M14.667 14L12.667 14","stroke-linecap":"round","stroke-linejoin":"round"},null)]}),_t=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Run sandbox")]),createVNode("path",{d:"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z"},null)]}),As=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Click to go back")]),createVNode("path",{d:"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z"},null)]}),Ms=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Click to go forward")]),createVNode("path",{d:"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z"},null)]}),It=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Refresh preview")]),createVNode("path",{"clip-rule":"evenodd",d:"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z","fill-rule":"evenodd"},null)]}),Fs=()=>createVNode(se,{fill:"none",stroke:"currentColor"},{default:()=>[createVNode("title",null,[createTextVNode("Clean")]),createVNode("circle",{cx:"7.99998",cy:"8.00004",r:"4.66667","stroke-linecap":"round"},null),createVNode("path",{d:"M4.66669 4.66663L11.3334 11.3333"},null)]}),Os=()=>createVNode(se,{fill:"none",stroke:"currentColor"},{default:()=>[createVNode("title",null,[createTextVNode("Open on CodeSandbox")]),createVNode("path",{d:"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337","stroke-linecap":"round"},null),createVNode("path",{d:"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004","stroke-linecap":"round"},null),createVNode("path",{d:"M7.33331 8.66668L12.5333 3.46667","stroke-linecap":"round"},null)]}),Rs=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Directory")]),createVNode("path",{d:"M12.5526 12.6667H3.66675C3.2922 12.6667 2.96575 12.4608 2.79442 12.156L3.81072 8.0908C3.92201 7.64563 4.32199 7.33333 4.78086 7.33333H13.386C14.0365 7.33333 14.5139 7.94472 14.3561 8.57587L13.5228 11.9092C13.4115 12.3544 13.0115 12.6667 12.5526 12.6667Z",fill:"currentColor"},null),createVNode("path",{d:"M13.3334 6.63333V6.33333C13.3334 5.78105 12.8857 5.33333 12.3334 5.33333H8.30286C8.10543 5.33333 7.91242 5.2749 7.74816 5.16538L6.25201 4.16795C6.08774 4.05844 5.89473 4 5.69731 4H3.66675C3.11446 4 2.66675 4.44772 2.66675 5L2.66675 11.6667C2.66675 12.219 3.11446 12.6667 3.66675 12.6667H12.5526C13.0115 12.6667 13.4115 12.3544 13.5228 11.9092L14.3561 8.57587C14.5139 7.94472 14.0365 7.33333 13.386 7.33333H4.78086C4.32199 7.33333 3.92201 7.64563 3.81072 8.0908L2.75008 12.3333",fill:"none",stroke:"currentColor","stroke-linecap":"round"},null)]}),_s=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Directory")]),createVNode("path",{d:"M12.3334 12.6667H3.66675C3.11446 12.6667 2.66675 12.219 2.66675 11.6667V5C2.66675 4.44772 3.11446 4 3.66675 4H5.69731C5.89473 4 6.08774 4.05844 6.25201 4.16795L7.74816 5.16538C7.91242 5.2749 8.10543 5.33333 8.30286 5.33333H12.3334C12.8857 5.33333 13.3334 5.78105 13.3334 6.33333V11.6667C13.3334 12.219 12.8857 12.6667 12.3334 12.6667Z",fill:"currentColor",stroke:"currentColor","stroke-linecap":"round"},null)]}),Is=()=>createVNode(se,{fill:"currentColor"},{default:()=>[createVNode("title",null,[createTextVNode("File")]),createVNode("path",{"clip-rule":"evenodd",d:"M4.5 4.33325C4.5 4.05711 4.72386 3.83325 5 3.83325H8.16675V6.56659C8.16675 6.89795 8.43538 7.16658 8.76675 7.16658H11.5V12.3333C11.5 12.6094 11.2761 12.8333 11 12.8333H5C4.72386 12.8333 4.5 12.6094 4.5 12.3333V4.33325ZM12.5 6.67568C12.5001 6.67265 12.5001 6.66962 12.5001 6.66658C12.5001 6.66355 12.5001 6.66052 12.5 6.65749V6.41413C12.5 6.01631 12.342 5.63478 12.0607 5.35347L9.97978 3.27259C9.69848 2.99129 9.31694 2.83325 8.91912 2.83325H8.66675H5C4.17157 2.83325 3.5 3.50483 3.5 4.33325V12.3333C3.5 13.1617 4.17157 13.8333 5 13.8333H11C11.8284 13.8333 12.5 13.1617 12.5 12.3333V6.67568ZM9.16675 3.89888C9.20518 3.92078 9.24085 3.94787 9.27267 3.9797L11.3536 6.06058C11.3854 6.09243 11.4125 6.12813 11.4344 6.16658H9.16675V3.89888Z","fill-rule":"evenodd"},null)]}),Ps=()=>createVNode(se,{stroke:"currentColor"},{default:()=>[createVNode("title",null,[createTextVNode("Close file")]),createVNode("path",{d:"M12 4L4 12","stroke-linecap":"round"},null),createVNode("path",{d:"M4 4L12 12","stroke-linecap":"round"},null)]}),We=()=>createVNode(se,null,{default:()=>[createVNode("title",null,[createTextVNode("Open browser console")]),createVNode("path",{d:"M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z"},null),createVNode("path",{d:"M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z"},null)]}),js=()=>createVNode(se,{viewBox:"0 0 48 48"},{default:()=>[createVNode("title",null,[createTextVNode("Sign in")]),createVNode("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"},null)]}),Bs=()=>createVNode(se,{viewBox:"0 0 48 48"},{default:()=>[createVNode("title",null,[createTextVNode("Sign out")]),createVNode("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"},null)]});var ga=m({borderBottom:"1px solid $colors$surface2",background:"$colors$surface1"}),ya=m({padding:"0 $space$2",overflow:"auto",display:"flex",flexWrap:"nowrap",alignItems:"stretch",minHeight:"40px",marginBottom:"-1px"}),Vs=m({padding:"0 $space$1 0 $space$1",borderRadius:"$border$radius",marginLeft:"$space$1",width:"$space$5",visibility:"hidden",svg:{width:"$space$3",height:"$space$3",display:"block",position:"relative",top:1}}),ba=m({padding:"0 $space$2",height:"$layout$headerHeight",whiteSpace:"nowrap","&:focus":{outline:"none"},[`&:hover > .${Vs}`]:{visibility:"unset"}}),Pt=defineComponent({name:"FileTabs",props:{closableTabs:{type:Boolean,required:!1,default:void 0}},setup(e,{attrs:o}){let{sandpack:t}=N(),n=S(),s=d=>{d.stopPropagation();let r=d.target.closest("[data-active]"),u=r==null?void 0:r.getAttribute("title");u&&t.closeFile(u);},l=d=>{let r=Ie(d),u=(t.visibleFiles||[]).reduce((g,f)=>(f===d||Ie(f)===r&&g.push(f),g),[]);return u.length===0?r:Yn(d,u)};return ()=>createVNode("div",{class:n("tabs",[ga,(o==null?void 0:o.class)||""]),translate:"no"},[createVNode("div",{"aria-label":"Select active file",class:n("tabs-scrollable-container",[ya]),role:"tablist"},[(t.visibleFiles||[]).map(d=>createVNode("button",{key:d,"aria-selected":d===t.activeFile,class:n("tab-button",[R,ba]),"data-active":d===t.activeFile,onClick:()=>t.setActiveFile(d),role:"tab",title:d,type:"button",style:{display:"flex !important"}},[l(d),e.closableTabs&&t.visibleFiles.length>1&&createVNode("span",{class:n("close-button",[Vs]),onClick:s},[createVNode(Ps,null,null)])]))])])}});var pe=defineComponent({name:"RoundedButton",props:{title:{type:String,required:!1,default:""},onClick:{type:Function,required:!1,default:()=>{}}},setup(e,{slots:o,attrs:t}){let n=S();return ()=>createVNode("button",{title:e.title,class:n("button",[n("icon-standalone"),R,oe,ee,(t==null?void 0:t.class)||""]),onClick:e.onClick,type:"button"},[o.default?o.default():null])}});var wa=m({position:"absolute",bottom:"$space$2",right:"$space$2",paddingRight:"$space$3"}),jt=defineComponent({name:"RunButton",props:{onClick:{type:Function,default:null}},setup(e){let{sandpack:o}=N();return ()=>createVNode(pe,{class:wa.toString(),onClick:t=>{o&&o.runSandpack&&o.runSandpack(),e.onClick&&e.onClick(t);}},{default:()=>[createVNode(_t,null,null),createVNode("span",null,[createTextVNode("Run")])]})}});var Ve=m({display:"flex",flexDirection:"column",width:"100%",position:"relative",backgroundColor:"$colors$surface1",gap:"1px",[`&:has(.${L}-stack)`]:{backgroundColor:"$colors$surface2"}}),re=defineComponent({name:"SandpackStack",setup(e,{slots:o,attrs:t}){let n=S();return ()=>createVNode("div",{class:n("stack",[Ve,(t==null?void 0:t.class)||""]),style:(t==null?void 0:t.style)||{}},[o.default?o.default():null])}});var Ma=m({border:"1px solid $colors$surface2",display:"flex",flexWrap:"wrap",alignItems:"stretch",borderRadius:"$border$radius",overflow:"hidden",position:"relative",backgroundColor:"$colors$surface2",gap:"1px",[`> .${Ve}`]:{flexGrow:1,flexShrink:1,flexBasis:"0",height:"$layout$height",overflow:"hidden","@media print":{height:"auto",display:"block"},"@media screen and (max-width: 768px)":{[`&:not(.${L}-preview, .${L}-editor, .${L}-preset-column)`]:{height:"calc($layout$height / 2)"},minWidth:"100%;"}},[`> .${L}-file-explorer`]:{flex:.2,minWidth:"200px","@media screen and (max-width: 768px)":{flex:1}}}),Bt=defineComponent({name:"SandpackLayout",setup(e,{slots:o,attrs:t}){let n=ref(),{sandpack:s}=N(),l=S();return watch(n,()=>{s&&n.value&&(s.lazyAnchorRef=n);}),()=>createVNode("div",{ref:n,class:l("layout",[Ma,(t==null?void 0:t.class)||""])},[o.default?o.default():null])}});var Ds=()=>{let{sandpack:e}=N();return computed(()=>{var t;return (t=e.error)!=null?t:{message:""}})};var Ra=e=>{let o=e.replace("[sandpack-client]: ","");if(/process.exit/.test(o)){let t=o.match(/process.exit\((\d+)\)/);return t?Number(t[1])===0?"Server is not running, would you like to start it again?":`Server has crashed with status code ${t[1]}, would you like to restart the server?`:o}return o},Xe=defineComponent({name:"ErrorOverlay",props:{clientId:{type:String,required:!1,default:""}},setup(e,{slots:o,attrs:t}){let n=Ds(),{restart:s}=Le(),{sandpack:l,dispatch:d}=N(),r=S(),u=computed(()=>{var h,c;return (c=(h=n.value)==null?void 0:h.message)==null?void 0:c.startsWith("[sandpack-client]")}),g=computed(()=>{var h,c;return (c=(h=n.value)==null?void 0:h.message)==null?void 0:c.includes("NPM_REGISTRY_UNAUTHENTICATED_REQUEST")}),f=()=>{l!=null&&l.teamId&&d({type:"sign-in",teamId:l.teamId});};return ()=>{var h,c,x;return createVNode(Fragment,null,[g.value?createVNode("div",mergeProps(e,{class:r("overlay",[r("error"),Be,at,(t==null?void 0:t.class)||""])}),[createVNode("p",{class:r("error-message",[be])},[createVNode("strong",null,[createTextVNode("Unable to fetch required dependency.")])]),createVNode("div",{class:r("error-message",[be])},[createVNode("p",null,[createTextVNode("Authentication required. Please sign in to your account (make sure to allow pop-ups to this page) and try again. If the issue persists, contact")," ",createVNode("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error"},[createTextVNode("support")])," ",createTextVNode("for further assistance.")])]),createVNode("div",null,[createVNode("button",{class:r("button",[R,oe,ee]),onClick:f},[createVNode(js,null,null),createVNode("span",null,[createTextVNode("Sign in")])])])]):createVNode(Fragment,null,[u.value&&((h=n.value)!=null&&h.message)?createVNode("div",mergeProps({class:r("overlay",[r("error"),Be,at,(t==null?void 0:t.class)||""])},e),[createVNode("div",{class:r("error-message",[be])},[createVNode("p",{class:r("error-title",[m({fontWeight:"bold"})])},[createTextVNode("Couldn't connect to server")]),createVNode("p",null,[Ra((c=n.value)==null?void 0:c.message)]),createVNode("div",null,[createVNode("button",{class:r("button",[r("icon-standalone"),R,oe,ee]),onClick:()=>{s(),l&&l.runSandpack();},title:"Restart script",type:"button"},[createVNode(Ae,null,null),createTextVNode(" "),createVNode("span",null,[createTextVNode("Restart")])])])])]):!n.value.message&&!o.default?null:createVNode("div",{class:r("overlay",[r("error"),Be,Ft({solidBg:!0}),(t==null?void 0:t.class)||""]),translate:"no"},[createVNode("p",{class:r("error-message",[be])},[createVNode("strong",null,[createTextVNode("Something went wrong")])]),createVNode("p",{class:r("error-message",[be({errorCode:!0})])},[((x=n.value)==null?void 0:x.message)||(o.default?o.default():null)])])])])}}});var ja=e=>_a.compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),Ys="https://codesandbox.io/api/v1/sandboxes/define",Ba=(e,o)=>{let t=Object.keys(e).reduce((n,s)=>{let l=s.replace("/",""),d={content:e[s].code,isBinary:!1};return E(y({},n),{[l]:d})},{});return ja(y({files:t},o?{template:o}:null))},Zo=defineComponent({name:"UnstyledOpenInCodeSandboxButton",setup(e,{slots:o}){let t,{sandpack:n}=N(),s=ref(),l=ref({});return watch([()=>n.activeFile,()=>n.environment,()=>n.files],()=>{t&&clearTimeout(t),t=setTimeout(()=>{let d=Ba(n.files,n.environment),r=new URLSearchParams({parameters:d,query:new URLSearchParams({file:n.activeFile,utm_medium:"sandpack"}).toString()});l.value=r;},600);},{deep:!0,immediate:!0}),()=>{var d,r,u,g,f;return ((g=(u=(r=(d=l.value)==null?void 0:d.get)==null?void 0:r.call(d,"parameters"))==null?void 0:u.length)!=null?g:0)>1500?createVNode("button",{onClick:()=>{var h;return (h=s.value)==null?void 0:h.submit()},title:"Open in CodeSandbox",type:"button"},[createVNode("form",{ref:s,action:Ys,method:"POST",style:{visibility:"hidden"},target:"_blank"},[createVNode("input",{name:"environment",type:"hidden",value:n.environment==="node"?"server":n.environment},null),Array.from(l.value,([h,c])=>createVNode("input",{key:h,name:h,type:"hidden",value:c},null))]),o.default?o.default():null]):createVNode("a",{href:`${Ys}?${(f=l.value)==null?void 0:f.toString()}&environment=${n.environment==="node"?"server":n.environment}`,rel:"noreferrer noopener",target:"_blank",title:"Open in CodeSandbox"},[o.default?o.default():null])}}});var dt=defineComponent({name:"OpenInCodeSandboxButton",setup(){let e=S();return ()=>createVNode(Zo,{class:e("button",[e("icon-standalone"),R,oe,ee])},{default:()=>[createVNode(Os,null,null),createVNode("span",null,[createTextVNode("Open Sandbox")])]})}});var Ko=m({transform:"translate(-4px, 9px) scale(0.13, 0.13)","*":{position:"absolute",width:"96px",height:"96px"}}),Ha=m({position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",width:"32px",height:"32px",borderRadius:"$border$radius",[`.${Ko}`]:{display:"flex"},[`.sp-button.${R}`]:{display:"none"},[`&:hover .sp-button.${R}`]:{display:"flex"},[`&:hover .sp-button.${R} > span`]:{display:"none"},[`&:hover .${Ko}`]:{display:"none"}}),Ua=wt({"0%":{transform:"rotateX(-25.5deg) rotateY(45deg)"},"100%":{transform:"rotateX(-25.5deg) rotateY(405deg)"}}),za=m({animation:`${Ua} 1s linear infinite`,animationFillMode:"forwards",transformStyle:"preserve-3d",transform:"rotateX(-25.5deg) rotateY(45deg)","*":{border:"10px solid $colors$clickable",borderRadius:"8px",background:"$colors$surface1"},".top":{transform:"rotateX(90deg) translateZ(44px)",transformOrigin:"50% 50%"},".bottom":{transform:"rotateX(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".front":{transform:"rotateY(0deg) translateZ(44px)",transformOrigin:"50% 50%"},".back":{transform:"rotateY(-180deg) translateZ(44px)",transformOrigin:"50% 50%"},".left":{transform:"rotateY(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".right":{transform:"rotateY(90deg) translateZ(44px)",transformOrigin:"50% 50%"}}),Vt=defineComponent({name:"Loading",props:{showOpenInCodeSandbox:{type:Boolean,required:!0,default:!1}},setup(e,{attrs:o}){let t=S();return ()=>createVNode("div",{class:t("cube-wrapper",[Ha,(o==null?void 0:o.class)||""]),title:"Open in CodeSandbox"},[e.showOpenInCodeSandbox&&createVNode(dt,null,null),createVNode("div",{class:t("cube",[Ko])},[createVNode("div",{class:t("sides",[za])},[createVNode("div",{class:"top"},null),createVNode("div",{class:"right"},null),createVNode("div",{class:"bottom"},null),createVNode("div",{class:"left"},null),createVNode("div",{class:"front"},null),createVNode("div",{class:"back"},null)])])])}});function Za(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!isVNode(e)}var Dt=defineComponent({name:"StdoutList",props:{data:{type:Array,required:!1,default(){return []}}},setup(e){let o=S();return ()=>createVNode(Fragment,null,[e.data.map(({data:t,id:n})=>createVNode("div",{key:n,class:o("console-item",[Ga])},[createVNode(Wa,{linkify:!0},Za(t)?t:{default:()=>[t]})]))])}}),Ga=m({width:"100%",padding:"$space$3 $space$2",fontSize:".85em",position:"relative",whiteSpace:"pre","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"}});var tl=(e,o)=>{var t;switch(e.state){case"downloading_manifest":return "[1/3] Downloading manifest";case"downloaded_module":return `[2/3] Downloaded ${e.name} (${o-e.totalPending}/${o})`;case"starting_command":return "[3/3] Starting command";case"command_running":return `[3/3] Running "${(t=e.command)==null?void 0:t.trim()}"`}},qt=e=>{let o,t,n=ref(!1),s=ref(),l=ref(null),{listen:d}=N();return watch([s,n,()=>e==null?void 0:e.timeout,()=>e==null?void 0:e.clientId],()=>{o&&o(),o=d(r=>{r.type==="start"&&r.firstLoad&&(n.value=!1),e!=null&&e.timeout&&(t=setTimeout(()=>{l.value=null;},e==null?void 0:e.timeout)),r.type==="shell/progress"&&!n.value&&(!s.value&&r.data.state==="downloaded_module"&&(s.value=r.data.totalPending),s.value!==void 0&&(l.value=tl(r.data,s.value))),r.type==="done"&&r.compilatonError===!1&&(n.value=!0,l.value=null,clearTimeout(t));},e==null?void 0:e.clientId);},{immediate:!0}),onBeforeUnmount(()=>{t&&clearTimeout(t),o&&o();}),onUnmounted(()=>{t&&clearTimeout(t),o&&o();}),l};var il=400*2,Ht=e=>{let o,t=ref([]),{listen:n}=N(),s=computed(()=>{var d;return (d=e==null?void 0:e.maxMessageCount)!=null?d:il}),l=computed(()=>{var d;return (d=e==null?void 0:e.resetOnPreviewRestart)!=null?d:!1});return watch([s,()=>e==null?void 0:e.clientId],()=>{o&&o(),o=n(d=>{if(l.value&&d.type==="start")t.value=[];else if(d.type==="stdout"&&d.payload.data&&d.payload.data.trim()){let u=[...[...toRaw(t.value)],{data:d.payload.data,id:Pe()}];for(;u.length>s.value;)u.shift();t.value=toRaw(u);}},e==null?void 0:e.clientId);},{immediate:!0}),onBeforeUnmount(()=>{o&&o();}),onUnmounted(()=>{o&&o();}),{logs:t,reset:()=>{t.value=[];}}};var ml=m({backgroundColor:"$colors$surface1"}),Ze=defineComponent({name:"LoadingOverlay",props:{clientId:String,loading:Boolean,showOpenInCodeSandbox:{type:Boolean,required:!0,default:!1}},setup(e,{attrs:o}){let t,{sandpack:n}=N(),{restart:s}=Le(e.clientId),l=S(),d=ref(!1),r=bs(e),u=qt({clientId:e==null?void 0:e.clientId}),{logs:g}=Ht({clientId:e==null?void 0:e.clientId}),f=computed(()=>r.value!=="HIDDEN"),h=computed(()=>r.value==="TIMEOUT"),c=computed(()=>r.value==="LOADING"),x=computed(()=>c.value||r.value==="PRE_FADING"),a=()=>createVNode("div",{class:l("overlay",[l("error"),Be,Ft,at,(o==null?void 0:o.class)||""])},[createVNode("div",{class:l(l("error-message",[be]))},[createVNode("p",{class:l("error-title",[m({fontWeight:"bold"})])},[createTextVNode("Couldn't connect to server")]),createVNode("div",{class:l("error-message",[be])},[createVNode("p",null,[createTextVNode("This means sandpack cannot connect to the runtime or your network is having some issues. Please check the network tab in your browser and try again. If the problem persists, report it via")," ",createVNode("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error"},[createTextVNode("email")])," ",createTextVNode("or submit an issue on")," ",createVNode("a",{href:"https://github.com/codesandbox/sandpack/issues",rel:"noreferrer noopener",target:"_blank"},[createTextVNode("GitHub.")])])]),createVNode("p",{class:l("error-message",[be({errorCode:!0})])},[createTextVNode("ENV: "),n.environment,createVNode("br",null,null),createTextVNode("ERROR: TIME_OUT")]),createVNode("div",null,[createVNode("button",{class:l("button",[l("icon-standalone"),R,oe,ee]),onClick:()=>_e(this,null,function*(){n&&(yield n.runSandpack()),s();}),title:"Restart script",type:"button"},[createVNode(Ae,null,null),createVNode("span",null,[createTextVNode("Try again")])])])])]);return watch(u,()=>{var j;t&&clearTimeout(t),(j=u.value)!=null&&j.includes("Running")&&(t=setTimeout(()=>{d.value=!0;},3e3));},{immediate:!0}),onBeforeUnmount(()=>{t&&clearTimeout(t);}),onUnmounted(()=>{t&&clearTimeout(t);}),()=>createVNode(Fragment,null,[f.value?h.value?a():c.value?createVNode(Fragment,null,[createVNode("div",{class:l("overlay",[l("loading"),Be,ml,(o==null?void 0:o.class)||""]),style:E(y({},o.style||{}),{opacity:n&&x.value&&n.status&&n.status!=="idle"?1:0,transition:`opacity ${qo}ms ease-out`})},[d.value&&createVNode("div",{class:pl.toString()},[createVNode(Dt,{data:g.value},null)]),createVNode(Vt,{showOpenInCodeSandbox:e.showOpenInCodeSandbox},null)]),u.value&&createVNode("div",{class:fl.toString()},[createVNode("p",null,[u.value])])]):null:null])}}),pl=m({position:"absolute",left:0,right:0,bottom:"$space$8",overflow:"auto",opacity:.5,overflowX:"hidden"}),fl=m({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:`${it} 150ms ease`,fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}});var Zs=defineComponent({name:"SandpackLayout",props:{clientId:{type:String,required:!1,default:void 0}},setup(e){let o=qt({timeout:3e3,clientId:e==null?void 0:e.clientId});return ()=>createVNode(Fragment,null,[o.value?createVNode("div",{class:gl.toString()},[createVNode("p",null,[o.value])]):null])}}),gl=m({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:`${it} 150ms ease`,fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}});var zt=defineComponent({name:"SandpackCodeEditor",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:!1},showInlineErrors:{type:Boolean,required:!1,default:!1},wrapContent:{type:Boolean,required:!1,default:!1},closableTabs:{type:Boolean,required:!1},initMode:{type:String,required:!1,default:void 0},extensions:{type:Array,required:!1,default:void 0},extensionsKeymap:{type:Array,required:!1,default:void 0},readOnly:{type:Boolean,required:!1,default:void 0},showReadOnly:{type:Boolean,required:!1,default:void 0},additionalLanguages:{type:Array,required:!1,default:void 0}},setup(e,{attrs:o}){let{sandpack:t}=N(),{code:n,readOnly:s}=At(),l=computed(()=>{var f,h;return (h=e.showTabs)!=null?h:((f=t==null?void 0:t.visibleFiles)==null?void 0:f.length)>1}),d=computed(()=>!(t!=null&&t.autorun)),r=ref(null),u=S(),g=(f,h=!0)=>{t.updateCurrentFile(f,h);};return ()=>createVNode(re,{class:u("editor",[(o==null?void 0:o.class)||""]),style:(o==null?void 0:o.style)||{}},{default:()=>[l.value&&createVNode(Pt,{closableTabs:e.closableTabs},null),createVNode("div",{class:u("code-editor",[Rt])},[createVNode(Ee,{key:t.activeFile,ref:r,code:n.value,editorState:t.editorState,extensions:e.extensions,extensionsKeymap:e.extensionsKeymap,filePath:t.activeFile,initMode:e.initMode||t.initMode,onCodeUpdate:f=>{var h;g(f,(h=t.autoReload)!=null?h:!0);},readOnly:e.readOnly||s.value,showInlineErrors:e.showInlineErrors,showLineNumbers:e.showLineNumbers,showReadOnly:e.showReadOnly,wrapContent:e.wrapContent,additionalLanguages:e.additionalLanguages},null),d.value&&(!t.autoReload||t.status==="idle")?createVNode(jt,null,null):null])]})}});var Sl=m({borderRadius:"0",width:"100%",padding:0,marginBottom:"$space$2",span:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},svg:{marginRight:"$space$1"}}),pt=defineComponent({name:"File",props:{path:{type:String},selectFile:{type:Function,required:!1,default:void 0},active:{type:Boolean,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},depth:{type:Number},isDirOpen:{type:Boolean,required:!1,default:void 0}},setup(e){let o=S(),t=computed(()=>e.path.split("/").filter(Boolean).pop()),n=s=>{e.selectFile&&e.selectFile(e.path),e.onClick&&e.onClick(s);};return ()=>createVNode("button",{class:o("button",[o("explorer"),R,Sl]),"data-active":e.active,onClick:n,style:{paddingLeft:9*e.depth+"px"},type:"button"},[e.selectFile?createVNode(Is,null,null):e.isDirOpen?createVNode(Rs,null,null):createVNode(_s,null,null),createVNode("span",null,[t.value])])}});var Ks=({autoHiddenFiles:e,visibleFiles:o=[],files:t,prefixedPath:n})=>{let s=o.length>0,l=e&&!s,d=e&&!!s,r=Object.keys(t).filter(f=>{var c;let h=f.startsWith(n);return d?h&&o.includes(f):l?h&&!((c=t[f])!=null&&c.hidden):h}).map(f=>f.substring(n.length)),u=Array.from(new Set(r.filter(f=>f.includes("/")).map(f=>`${n}${f.split("/")[0]}/`))),g=r.filter(f=>!f.includes("/")).map(f=>`${n}${f}`);return {directories:u,modules:g}};var Yt=defineComponent({name:"ModuleList",props:{prefixedPath:{type:String},files:{type:Object},selectFile:{type:Function},activeFile:{type:String},depth:{type:Number,required:!1,default:0},autoHiddenFiles:{type:Boolean,required:!1,default:!1},visibleFiles:{type:Array,required:!1,default:void 0},initialCollapsedFolder:{type:Array,required:!1,default(){return []}}},setup(e){let o=computed(()=>Ks({visibleFiles:e.visibleFiles,autoHiddenFiles:e.autoHiddenFiles,prefixedPath:e.prefixedPath,files:e.files}));return ()=>createVNode("div",null,[Array.from(o.value.directories).map(t=>createVNode(nn,{key:t,activeFile:e.activeFile,autoHiddenFiles:e.autoHiddenFiles,depth:e.depth,files:e.files,initialCollapsedFolder:e.initialCollapsedFolder,prefixedPath:t,selectFile:e.selectFile,visibleFiles:e.visibleFiles},null)),o.value.modules.map(t=>createVNode(pt,{key:t,active:e.activeFile===t,depth:e.depth,path:t,selectFile:e.selectFile},null))])}});var nn=defineComponent({name:"Directory",props:{prefixedPath:{type:String},files:{type:Object},selectFile:{type:Function},activeFile:{type:String},depth:{type:Number,required:!1,default:0},visibleFiles:{type:Array,required:!1,default:void 0},initialCollapsedFolder:{type:Array,required:!1,default(){return []}},autoHiddenFiles:{type:Boolean,required:!1,default:!1}},setup(e){var n;let o=ref(!((n=e.initialCollapsedFolder)!=null&&n.includes(e.prefixedPath||""))),t=()=>{o.value=!o.value;};return ()=>createVNode("div",{key:e.prefixedPath},[createVNode(pt,{depth:e.depth,isDirOpen:o.value,onClick:t,path:e.prefixedPath+"/"},null),o.value?createVNode(Yt,{autoHiddenFiles:e.autoHiddenFiles,activeFile:e.activeFile,depth:e.depth+1,files:e.files,initialCollapsedFolder:e.initialCollapsedFolder,prefixedPath:e.prefixedPath,selectFile:e.selectFile,visibleFiles:e.visibleFiles},null):null])}});var Fl=m({padding:"$space$3",overflow:"auto",height:"100%"}),Qs=defineComponent({name:"SandpackFileExplorer",props:{autoHiddenFiles:{type:Boolean,required:!1,default:!1},initialCollapsedFolder:{type:Array,required:!1,default(){return []}}},setup(e,{attrs:o}){let t,{sandpack:n,listen:s}=N(),l=S(),d=computed(()=>Object.keys(n.files).sort().reduce((r,u)=>(r[u]=n.files[u],r),{}));return watch(()=>n.status,()=>{if(n.status==="running")return t&&t(),t=s(r=>{r.type==="fs/change"&&n.updateFile(r.path,r.content,!1),r.type==="fs/remove"&&n.deleteFile(r.path,!1);}),t},{immediate:!0}),onBeforeUnmount(()=>{t&&t();}),onUnmounted(()=>{t&&t();}),()=>{var r;return createVNode("div",{class:l("file-explorer",[Ve,(o==null?void 0:o.class)||""])},[createVNode("div",{class:l("file-explorer-list",[Fl])},[createVNode(Yt,{activeFile:n.activeFile,autoHiddenFiles:e.autoHiddenFiles,files:d.value,initialCollapsedFolder:(r=e==null?void 0:e.initialCollapsedFolder)!=null?r:[],prefixedPath:"/",selectFile:n.openFile,visibleFiles:n.visibleFilesFromProps},null)])])}}});var Jt=defineComponent({name:"SandpackCodeViewer",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:void 0},decorators:{type:Object,required:!1,default:void 0},code:{type:String,required:!1,default:void 0},initMode:{type:String,required:!1,default:void 0},wrapContent:{type:String,required:!1,default:void 0},additionalLanguages:{type:Array,required:!1,default:void 0}},setup(e){let{sandpack:o}=N(),{code:t}=At(),n=S(),s=ref(),l=computed(()=>{var d,r;return (r=e.showTabs)!=null?r:((d=o==null?void 0:o.visibleFiles)==null?void 0:d.length)>1});return ()=>createVNode(re,{class:n("editor-viewer")},{default:()=>{var d;return [l.value?createVNode(Pt,null,null):null,createVNode("div",{class:n("code-editor",[Rt])},[createVNode(Ee,{ref:s,code:(d=e.code)!=null?d:t.value,additionalLanguages:e.additionalLanguages,decorators:e.decorators,filePath:o.activeFile,initMode:e.initMode||o.initMode,showLineNumbers:e.showLineNumbers,showReadOnly:!1,wrapContent:e.wrapContent,readOnly:!0},null)]),o.status==="idle"?createVNode(jt,null,null):null]}})}});var Vl=m({display:"flex",alignItems:"center",height:"$layout$headerHeight",borderBottom:"1px solid $colors$surface2",padding:"$space$3 $space$2",background:"$colors$surface1"}),Dl=m({backgroundColor:"$colors$surface2",color:"$colors$clickable",padding:"$space$1 $space$3",borderRadius:"99999px",border:"1px solid $colors$surface2",height:"24px",lineHeight:"24px",fontSize:"inherit",outline:"none",flex:1,marginLeft:"$space$4",width:"0",transition:"background $transitions$default","&:hover":{backgroundColor:"$colors$surface3"},"&:focus":{backgroundColor:"$surface1",border:"1px solid $colors$accent",color:"$colors$base"}}),ql=e=>{let o=e.match(/(https?:\/\/.*?)\//);return o&&o[1]?[o[1],e.replace(o[1],"")]:[e,"/"]},er=defineComponent({name:"Navigator",props:{clientId:{type:String,required:!0},onURLChange:{type:Function,required:!1,default:void 0},startRoute:{type:String,required:!1,default:void 0}},setup(e,{attrs:o}){var q,W;let t,n=ref(""),{sandpack:s,dispatch:l,listen:d}=N(),r=ref((W=(q=e==null?void 0:e.startRoute)!=null?q:s.startRoute)!=null?W:"/"),u=ref(!1),g=ref(!1),f=S();watch(()=>e.clientId,()=>{t&&t(),t=d(k=>{if(k.type==="urlchange"){let{url:_,back:K,forward:fe}=k,[F,C]=ql(_);n.value=F,r.value=C,u.value=K,g.value=fe;}},e.clientId);},{immediate:!0});let h=k=>{let _=k.target.value.startsWith("/")?k.target.value:`/${k.target.value}`;r.value=_;},c=k=>{var _;k.code==="Enter"&&(k.preventDefault(),k.stopPropagation(),typeof e.onURLChange=="function"&&e.onURLChange(n.value+((_=k.currentTarget)==null?void 0:_.value)));},x=()=>{l({type:"refresh"});},a=()=>{l({type:"urlback"});},j=()=>{l({type:"urlforward"});},I=f("button",[f("icon"),R,$s,m({minWidth:"$space$6",justifyContent:"center"})]);return onBeforeUnmount(()=>{t&&t();}),onUnmounted(()=>{t&&t();}),()=>createVNode("div",{class:f("navigator",[Vl,(o==null?void 0:o.class)||""])},[createVNode("button",{"aria-label":"Go back one page",class:I,disabled:!u.value,onClick:a,type:"button"},[createVNode(As,null,null)]),createVNode("button",{"aria-label":"Go forward one page",class:I,disabled:!g.value,onClick:j,type:"button"},[createVNode(Ms,null,null)]),createVNode("button",{"aria-label":"Refresh page",class:I,onClick:x,type:"button"},[createVNode(It,null,null)]),createVNode("input",{"aria-label":"Current Sandpack URL",class:f("input",[Dl]),name:"Current Sandpack URL",onChange:h,onKeydown:c,type:"text",value:r.value},null)])}});var Zl=m({flex:1,display:"flex",flexDirection:"column",background:"white",overflow:"auto",position:"relative",[`.${L}-bridge-frame`]:{border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"}}),Gl=m({border:"0",outline:"0",width:"100%",height:"100%",minHeight:"160px",maxHeight:"2000px",flex:1}),Kl=m({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay",gap:"$space$2"}),Xt=defineComponent({name:"SandpackPreview",props:{showNavigator:{type:Boolean,required:!1,default:!1},showRefreshButton:{type:Boolean,required:!1,default:!0},showOpenInCodeSandbox:{type:Boolean,required:!1,default:!0},showSandpackErrorOverlay:{type:Boolean,required:!1,default:!0},showOpenNewtab:{type:Boolean,required:!1,default:!0},showRestartButton:{type:Boolean,required:!1,default:!0},actionsChildren:{type:Object,required:!1,default:null},startRoute:{type:String,required:!1,default:"/"}},setup(e,{slots:o,attrs:t,expose:n}){let{sandpack:s,listen:l,iframe:d,getClient:r,clientId:u,dispatch:g}=Ye({startRoute:e==null?void 0:e.startRoute}),f=ref(null),h,c=S(),{refresh:x}=xs(u.value),{restart:a}=Le(u.value);onMounted(()=>{nextTick(()=>{h&&h(),h=l(I=>{I.type==="resize"&&(f.value=I.height);});});}),onBeforeUnmount(()=>{h&&h();}),onUnmounted(()=>{h&&h();}),n({clientId:u.value,getClient:r});let j=I=>{d.value&&(d.value.src=I);};return ()=>createVNode(re,mergeProps(e,{class:c("preview",[(t==null?void 0:t.class)||""])}),{default:()=>[e.showNavigator&&createVNode(er,{clientId:u.value,startRoute:e==null?void 0:e.startRoute,onURLChange:j},null),createVNode("div",{class:c("preview-container",[Zl])},[createVNode("iframe",{ref:d,class:c("preview-iframe",[Gl]),style:{height:f.value?`${f.value}px`:void 0},title:"Sandpack Preview"},null),createVNode("div",{class:c("preview-actions",[Kl])},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,e.showRestartButton&&s.environment==="node"&&createVNode(pe,{onClick:a},{default:()=>[createVNode(Ae,null,null)]}),!e.showNavigator&&e.showRefreshButton&&s.status==="running"&&createVNode(pe,{onClick:x},{default:()=>[createVNode(It,null,null)]}),s.teamId&&createVNode("button",{class:c("button",[c("icon-standalone"),R,oe,ee]),onClick:()=>g({type:"sign-out"}),title:"Sign out",type:"button"},[createVNode(Bs,null,null)]),e.showOpenInCodeSandbox&&createVNode(dt,null,null)]),createVNode(Ze,{clientId:u.value,showOpenInCodeSandbox:e.showOpenInCodeSandbox},null),e.showSandpackErrorOverlay&&createVNode(Xe,{clientId:u.value},null),o.default?o.default():null])]})}});var sc=m({display:"flex",flexDirection:"column",width:"100%",position:"relative",overflow:"auto",minHeight:"160px",flex:1,[`.${L}-stack`]:{height:"100%"}}),or=defineComponent({name:"SandpackTranspiledCode",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:void 0},decorators:{type:Array,required:!1,default:void 0},code:{type:String,required:!1,default:void 0},wrapContent:{type:Boolean,required:!1,default:void 0},initMode:{type:String,required:!1,default:void 0}},setup(e,{attrs:o}){let{sandpack:t}=N(),n=S(),s=ref(null),l=computed(()=>t.bundlerState),d=computed(()=>{var u,g,f;let r=(u=l.value)==null?void 0:u.transpiledModules[t.activeFile+":"];return (f=(g=r==null?void 0:r.source)==null?void 0:g.compiledCode)!=null?f:""});return onMounted(()=>{let r=s.value;r&&t.registerBundler(r,"hidden");}),onUnmounted(()=>{t.unregisterBundler("hidden");}),()=>{var r;return createVNode("div",{class:n("transpiled-code",[Ve,sc,(o==null?void 0:o.class)||""])},[createVNode(Jt,mergeProps(e,{code:(r=d.value)!=null?r:"",initMode:t.initMode}),null),createVNode("iframe",{ref:s,style:{display:"none"},title:"transpiled sandpack code"},null),createVNode(Xe,{clientId:"hidden"},null),createVNode(Ze,{clientId:"hidden",showOpenInCodeSandbox:!1},null)])}}});var nr=["SyntaxError: ","Error in sandbox:"],sr={id:"random",method:"clear",data:["Console was cleared"]},an="@t",ln="#@t",cn="@r",dn=1e4,un=2,Zt=400,mn=Zt*2;var pn=function(){return (0, eval)("this")}(),rc=typeof ArrayBuffer=="function",ic=typeof Map=="function",ac=typeof Set=="function",Gt=function(e){return e[e.infinity=0]="infinity",e[e.minusInfinity=1]="minusInfinity",e[e.minusZero=2]="minusZero",e}(Gt||{}),fn={Arithmetic:e=>e===Gt.infinity?1/0:e===Gt.minusInfinity?-1/0:e===Gt.minusZero?-0:e,HTMLElement:e=>{let o=document.implementation.createHTMLDocument("sandbox");try{let t=o.createElement(e.tagName);t.innerHTML=e.innerHTML;for(let n of Object.keys(e.attributes))try{t.setAttribute(n,e.attributes[n]);}catch(s){}return t}catch(t){return e}},Function:e=>{let o=()=>{};return Object.defineProperty(o,"toString",{value:()=>`function ${e.name}() {${e.body}}`}),o},"[[NaN]]":()=>NaN,"[[undefined]]":()=>{},"[[Date]]":e=>{let o=new Date;return o.setTime(e),o},"[[RegExp]]":e=>new RegExp(e.src,e.flags),"[[Error]]":e=>{let o=pn[e.name]||Error,t=new o(e.message);return t.stack=e.stack,t},"[[ArrayBuffer]]":e=>{if(rc){let o=new ArrayBuffer(e.length);return new Int8Array(o).set(e),o}return e},"[[TypedArray]]":e=>typeof pn[e.ctorName]=="function"?new pn[e.ctorName](e.arr):e.arr,"[[Map]]":e=>{if(ic){let t=new Map;for(let n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}let o=[];for(let t=0;t<e.length;t+=2)o.push([e[i],e[i+1]]);return o},"[[Set]]":e=>{if(ac){let o=new Set;for(let t=0;t<e.length;t++)o.add(e[t]);return o}return e}};var vn=e=>{var o;if(typeof e=="string"||typeof e=="number"||e===null)return e;if(Array.isArray(e))return e.map(vn);if(typeof e=="object"&&an in e){let t=e[an],n=fn[t];return n(e.data)}else if(typeof e=="object"&&ln in e){let t=e[ln],n=fn[t];return n(e.data)}else if(typeof e=="object"&&((o=e.constructor)==null?void 0:o.name)==="NodeList"){let t={};return Object.entries(e).forEach(([n,s])=>{t[n]=vn(s);}),t}return e},lc=(e,o,t)=>`[${e.reduce((s,l,d)=>`${s}${d?", ":""}${Ge(l,o,t)}`,"")}]`,cc=(e,o,t)=>{let n=e.constructor.name!=="Object"?`${e.constructor.name} `:"";if(t>un)return n;let s=Object.entries(e),l=Object.entries(e).reduce((d,[r,u],g)=>{let f=g===0?"":", ",h=s.length>10?`
  `:"",c=Ge(u,o,t);return g===Zt?d+h+"...":g>Zt?d:d+`${f}${h}${r}: `+c},"");return `${n}{ ${l}${s.length>10?`
`:" "}}`},Ge=(e,o,t=0)=>{var n;try{let s=vn(e);if(Array.isArray(s))return lc(s,o,t+1);switch(typeof s){case"string":return `"${s}"`.slice(0,dn);case"number":case"function":case"symbol":return s.toString();case"boolean":return String(s);case"undefined":return "undefined";case"object":default:if(s instanceof RegExp||s instanceof Error||s instanceof Date)return s.toString();if(s===null)return String(null);if(s instanceof HTMLElement)return s.outerHTML.slice(0,dn);if(Object.entries(s).length===0)return "{}";if(cn in s){if(t>un)return "Unable to print information";let l=o[s[cn]];return Ge(l,o,t+1)}if(((n=s.constructor)==null?void 0:n.name)==="NodeList"){let{length:l}=s,d=new Array(l).fill(null).map((r,u)=>Ge(s[u],o));return `NodeList(${s.length})[${d}]`}return cc(s,o,t+1)}}catch(s){return "Unable to print information"}};var rr=e=>{switch(e){case"warn":return "warning";case"clear":return "clear";case"error":return "error";case"log":case"info":default:return "info"}};var ar=defineComponent({name:"ConsoleList",props:{data:{type:Array,required:!1,default(){return []}}},setup(e){let o=S();return ()=>createVNode(Fragment,null,[e.data.map(({data:t,id:n,method:s},l,d)=>t&&Array.isArray(t)?createVNode(Fragment,{key:n},[t.map((r,u)=>{let g=d.slice(l,d.length);return createVNode("div",{key:`${n}-${u}`,class:o("console-item",[uc({variant:rr(s)})])},[createVNode(Ee,{code:s==="clear"?r:Ge(r,g),fileType:"js",initMode:"user-visible",showReadOnly:!1,readOnly:!0,wrapContent:!0},null)])})]):null)])}}),uc=m({width:"100%",padding:"$space$3 $space$2",fontSize:".8em",position:"relative","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"},".sp-cm":{padding:0},".cm-editor":{background:"none"},".cm-content":{padding:0},[`.${L}-pre-placeholder`]:{margin:"0 !important",fontSize:"1em"},variants:{variant:{error:{color:"$colors$error",background:"$colors$errorSurface","&:not(:first-child):after":{background:"$colors$error",opacity:.07}},warning:{color:"$colors$warning",background:"$colors$warningSurface","&:not(:first-child):after":{background:"$colors$warning",opacity:.07}},clear:{fontStyle:"italic"},info:{}}}});var pc=m({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),lr=m({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),cr=defineComponent({name:"Header",props:{currentTab:{type:String,required:!0},setCurrentTab:{type:Function,required:!0},node:{type:Boolean,required:!0}},setup(e){let o=S(),t=o("console-header-button",[R,ee,m({padding:"$space$1 $space$3"})]);return ()=>createVNode("div",{class:o("console-header",[pc,lr])},[createVNode("p",{class:o("console-header-title",[m({lineHeight:1,margin:0,color:"$colors$base",fontSize:"$font$size",display:"flex",alignItems:"center",gap:"$space$2"})])},[createVNode(We,null,null),createVNode("span",null,[createTextVNode("Terminal")]),e.node&&createVNode("div",{class:o("console-header-actions",[lr])},[createVNode("button",{class:t,"data-active":e.currentTab==="server",onClick:()=>e.setCurrentTab("server"),type:"button"},[createTextVNode("Server")]),createVNode("button",{class:t,"data-active":e.currentTab==="client",onClick:()=>e.setCurrentTab("client"),type:"button"},[createTextVNode("Client")])])])])}});var yn=e=>{let o,t=ref([]),{listen:n}=N(),s=computed(()=>{var u;return (u=e==null?void 0:e.resetOnPreviewRestart)!=null?u:!1}),l=computed(()=>{var u;return (u=e==null?void 0:e.showSyntaxError)!=null?u:!1}),d=computed(()=>{var u;return (u=e==null?void 0:e.maxMessageCount)!=null?u:mn}),r=()=>{o&&o(),o=n(u=>{if(s.value&&u.type==="start")t.value=[];else if(u.type==="console"&&u.codesandbox){let g=Array.isArray(u.log)?u.log:[u.log];if(g.find(({method:c})=>c==="clear")){t.value=[sr];return}let f=l.value?g:g.filter(c=>{var a,j,I;return ((I=(j=(a=c==null?void 0:c.data)==null?void 0:a.filter)==null?void 0:j.call(a,q=>typeof q!="string"?!0:nr.filter(k=>q.startsWith(k)).length===0))!=null?I:[]).length>0});if(!f)return;let h=[...t.value,...f].filter((c,x,a)=>x===a.findIndex(j=>j.id===c.id));for(;h.length>mn;)h.shift();t.value=h;}},e==null?void 0:e.clientId);};return watch([d,l,s,()=>e==null?void 0:e.clientId],()=>{r();},{immediate:!0}),onBeforeUnmount(()=>{o&&o();}),onUnmounted(()=>{o&&o();}),{logs:t,reset:()=>{t.value=[];}}};var Qt=defineComponent({name:"SandpackConsole",props:{onLogsChange:{type:Function,required:!1,default:void 0},showSetupProgress:{type:Boolean,required:!1,default:!1},showRestartButton:{type:Boolean,required:!1,default:!0},showResetConsoleButton:{type:Boolean,required:!1,default:!0},resetOnPreviewRestart:{type:Boolean,required:!1,default:!1},showHeader:{type:Boolean,required:!1,default:!0},showSyntaxError:{type:Boolean,required:!1,default:!1},maxMessageCount:{type:Number,required:!1,default:void 0},standalone:{type:Boolean,required:!1,default:!1},actionsChildren:{type:Object,required:!1,default:null}},setup(e,{slots:o,attrs:t,expose:n}){let{sandpack:{environment:s}}=N(),l=ref(),{iframe:d,clientId:r}=Ye(),{restart:u}=Le(),g=S(),f=ref(s==="node"?"server":"client"),h=computed(()=>e.standalone?r.value:void 0),{logs:c,reset:x}=yn({maxMessageCount:e.maxMessageCount,showSyntaxError:e.showSyntaxError,resetOnPreviewRestart:e.resetOnPreviewRestart,clientId:h.value}),{logs:a,reset:j}=Ht({maxMessageCount:e.maxMessageCount,resetOnPreviewRestart:e.resetOnPreviewRestart,clientId:h.value}),I=computed(()=>f.value==="server"),q=computed(()=>s==="node");return n({reset(){x(),j();}}),watch([()=>e.onLogsChange,c,a,f],()=>{e.onLogsChange&&e.onLogsChange(toRaw(c.value)),nextTick(()=>{setTimeout(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight);});});}),()=>createVNode(re,mergeProps(e,{class:g("console",[m({height:"100%",background:"$surface1",iframe:{display:"none"},[`.${L}-bridge-frame`]:{display:"block",border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"}}),(t==null?void 0:t.class)||""])}),{default:()=>[e.showHeader&&q.value&&createVNode(cr,{currentTab:f.value,node:q.value,setCurrentTab:W=>{f.value=W;}},null),createVNode("div",{ref:l,class:g("console-list",[m({overflow:"auto",scrollBehavior:"smooth"})])},[I.value?createVNode(Dt,{data:a.value},null):createVNode(ar,{data:c.value},null)]),createVNode("div",{class:g("console-actions",[m({position:"absolute",bottom:"$space$2",right:"$space$2",display:"flex",gap:"$space$2"})])},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,e.showRestartButton&&I.value&&createVNode(pe,{onClick:()=>{u(),x(),j();}},{default:()=>[createVNode(Ae,null,null)]}),e.showResetConsoleButton&&createVNode(pe,{onClick:()=>{f.value==="client"?x():j();}},{default:()=>[createVNode(Fs,null,null)]})]),e.standalone&&createVNode(Fragment,null,[createVNode(Zs,{clientId:h.value},null),createVNode("iframe",{title:"console",ref:d},null)])]})}});var ur=e=>({"--test-pass":e?"#18df16":"#15c213","--test-fail":e?"#df162b":"#c21325","--test-skip":e?"#eace2b":"#c2a813","--test-run":e?"#eace2b":"#c2a813","--test-title":e?"#3fbabe":"#256c6f"}),eo=m({variants:{status:{pass:{color:"var(--test-pass)"},fail:{color:"var(--test-fail)"},skip:{color:"var(--test-skip)"},title:{color:"var(--test-title)"}}}}),Ce=eo({status:"pass"}),Z=eo({status:"fail"}),to=eo({status:"skip"}),mr=eo({status:"title"}),xn=m({variants:{status:{pass:{background:"var(--test-pass)",color:"$colors$surface1"},fail:{background:"var(--test-fail)",color:"$colors$surface1"},run:{background:"var(--test-run)",color:"$colors$surface1"}}}}),pr=xn({status:"run"}),fr=xn({status:"pass"}),Cn=xn({status:"fail"});var Tc=m({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),Sn=m({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),vr=defineComponent({name:"Header",props:{setVerbose:{type:Function,required:!0},setSuiteOnly:{type:Function,required:!0},verbose:{type:Boolean,required:!0},suiteOnly:{type:Boolean,required:!0},status:{type:String,required:!0},watchMode:{type:Boolean,required:!0},setWatchMode:{type:Function,required:!0},showSuitesOnly:{type:Boolean,required:!0},showVerboseButton:{type:Boolean,required:!0},showWatchButton:{type:Boolean,required:!0},hideTestsAndSupressLogs:{type:Boolean,required:!0}},setup(e){let o=S(),t=o("test-header-button",[R,ee,m({padding:"$space$1 $space$3"})]);return ()=>createVNode("div",{class:o("test-header",[Tc,Sn])},[createVNode("div",{class:o("test-header-wrapper",[Sn])},[createVNode("p",{class:o("test-header-title",[m({lineHeight:1,margin:0,color:"$colors$base",fontSize:"$font$size",display:"flex",alignItems:"center",gap:"$space$2"})])},[createVNode(We,null,null),createTextVNode("Tests")])]),createVNode("div",{class:o("test-header-actions",[Sn])},[e.showSuitesOnly&&createVNode("button",{class:t,"data-active":e.suiteOnly,disabled:e.status==="initialising",onClick:e.setSuiteOnly,type:"button"},[createTextVNode("Suite only")]),e.showVerboseButton&&createVNode("button",{class:t,"data-active":e.verbose,disabled:e.status==="initialising"||e.hideTestsAndSupressLogs,onClick:e.setVerbose,type:"button"},[createTextVNode("Verbose")]),e.showWatchButton&&createVNode("button",{class:t,"data-active":e.watchMode,disabled:e.status==="initialising",onClick:e.setWatchMode,type:"button"},[createTextVNode("Watch")])])])}});var gr=defineComponent({name:"RunButton",props:{onClick:{type:Function,required:!0}},setup(e){return ()=>createVNode(pe,{onClick:e.onClick,title:"Run tests"},{default:()=>[createVNode(_t,null,null)]})}});var kc=m({marginLeft:"$space$4"}),Lc=m({marginBottom:"$space$2",color:"$colors$clickable"}),Ac=m({marginBottom:"$space$2",color:"$colors$hover"}),Mc=m({marginLeft:"$space$2"}),En=m({marginRight:"$space$2"}),no=defineComponent({name:"Tests",props:{tests:{type:Array,required:!0}},setup(e){let o=S();return ()=>createVNode("div",{class:o("test",[kc])},[e.tests.map(t=>createVNode("div",{key:t.name,class:o("test-result",[Lc])},[t.status==="pass"&&createVNode("span",{class:o("test-pass-text",[Ce,En])},[createTextVNode("\u2713")]),t.status==="fail"&&createVNode("span",{class:o("test-fail-text",[Z,En])},[createTextVNode("\u2715")]),t.status==="idle"&&createVNode("span",{class:o("test-idle-text",[to,En])},[createTextVNode("\u25CB")]),createVNode("span",{class:o("test-name-text",[Ac])},[t.name]),t.duration!==void 0&&createVNode("span",{class:o("test-duration-text",[Mc])},[createTextVNode("("),t.duration,createTextVNode(" ms)")])]))])}});var so=e=>{var o,t;return Object.values((o=e.tests)!=null?o:{}).concat(...Object.values((t=e.describes)!=null?t:{}).map(so))},yr=e=>so(e).filter(o=>o.status==="fail"),br=e=>e.map(ro).reduce((o,t)=>({pass:o.pass+t.pass,fail:o.fail+t.fail,skip:o.skip+t.skip,total:o.total+t.total}),{pass:0,skip:0,fail:0,total:0}),ro=e=>so(e).reduce((o,t)=>({pass:t.status==="pass"?o.pass+1:o.pass,fail:t.status==="fail"?o.fail+1:o.fail,skip:t.status==="idle"||t.status==="running"?o.skip+1:o.skip,total:o.total+1}),{pass:0,fail:0,skip:0,total:0}),xr=e=>e.filter(o=>Object.values(o.describes).length>0||Object.values(o.tests).length>0).map(ro).reduce((o,t)=>({pass:o.pass+(t.fail===0?1:0),fail:o.fail+(t.fail>0?1:0),total:o.total+1}),{pass:0,fail:0,total:0}),Cr=e=>Ke(e,so).reduce((o,t)=>o+(t.duration||0),0),io=e=>Object.values((e==null?void 0:e.describes)||{}).length===0&&Object.values((e==null?void 0:e.tests)||{}).length===0,gt=e=>{let o=e.length-1,t=e.slice(0,o),n=e[o];return [t,n]},Ke=(e,o)=>e.map(o).reduce((t,n)=>t.concat(n),[]),Se=(e,o,t)=>Fc(e,o,t);var _c=m({color:"$colors$hover",marginBottom:"$space$2"}),Ic=m({marginLeft:"$space$4"}),wn=defineComponent({name:"Describes",props:{describes:{type:Array,required:!0}},setup(e){let o=S();return ()=>createVNode(Fragment,null,[e.describes.map(t=>{if(io(t))return null;let n=Object.values((t==null?void 0:t.tests)||{}),s=Object.values((t==null?void 0:t.describes)||{});return createVNode("div",{key:t.name,class:o("test-describe",[Ic])},[createVNode("div",{class:o("test-name",[_c])},[t.name]),createVNode(no,{tests:n},null),createVNode(wn,{describes:s},null)])})])}});var Bc=m({color:"$colors$hover",fontSize:"$font$size",padding:"$space$2",whiteSpace:"pre-wrap"}),Tn=defineComponent({name:"FormattedError",props:{error:{type:Object,required:!0},path:{type:String,required:!1,default:void 0}},setup(e){let o=S();return ()=>createVNode("div",{class:o("test-error",[Bc]),innerHTML:Vc(e.error,e==null?void 0:e.path)},null)}}),ao=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Vc=(e,o="")=>{let t="";if(e.matcherResult?t=`<span>${ao(e.message).replace(/(expected)/m,`<span class="${Ce}">$1</span>`).replace(/(received)/m,`<span class="${Z}">$1</span>`).replace(/(Difference:)/m,"<span>$1</span>").replace(/(Expected:)(.*)/m,`<span>$1</span><span class="${Ce}">$2</span>`).replace(/(Received:)(.*)/m,`<span>$1</span><span class="${Z}">$2</span>`).replace(/^(-.*)/gm,`<span class="${Z}">$1</span>`).replace(/^(\+.*)/gm,`<span class="${Ce}">$1</span>`)}</span>`:t=ao(e.message),e.mappedErrors&&e.mappedErrors[0]&&e.mappedErrors[0].fileName.endsWith(o)&&e.mappedErrors[0]._originalScriptCode){let s=e.mappedErrors[0]._originalScriptCode||[],l=Math.max(...s.map(r=>(r.lineNumber+"").length))+2,d=Array.from({length:l}).map(()=>" ");t+="<br />",t+="<br />",t+="<div>",s.filter(r=>r.content.trim()).forEach(r=>{let u=(r.lineNumber+"").length,g=[...d];g.length-=u,r.highlight&&(g.length-=2);let f=r.content.indexOf(".to"),h=Array.from({length:d.length+f-(l-1)},()=>" "),c=ao(r.content).replace(/(describe|test|it)(\()(&#039;|&quot;|`)(.*)(&#039;|&quot;|`)/m,`<span>$1$2$3</span><span class="${mr}">$4</span><span>$5</span>`).replace(/(expect\()(.*)(\)\..*)(to[\w\d]*)(\()(.*)(\))/m,`<span>$1</span><span class="${Z}">$2</span><span>$3</span><span style="text-decoration: underline; font-weight: 900">$4</span><span>$5</span><span class="${Ce}">$6</span><span>$7</span>`);t+=`<div ${r.highlight?'style="font-weight:200;"':""}>`+(r.highlight?`<span class="${Z}">></span> `:"")+g.join("")+ao(""+r.lineNumber)+" | "+c+"</div>"+(r.highlight?"<div>"+d.join("")+" | "+h.join("")+`<span class="${Z}">^</span></div>`:"");}),t+="</div>";}return t.replace(/(?:\r\n|\r|\n)/g,"<br />")};var qc=m({display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"$space$2"}),Nn=m({marginBottom:"$space$2"}),Hc=m({fontWeight:"bold"}),lo=m({borderRadius:"calc($border$radius / 2)"}),Uc=m({padding:"$space$1 $space$2",fontFamily:"$font$mono",textTransform:"uppercase",marginRight:"$space$2"}),zc=m({fontFamily:"$font$mono",cursor:"pointer",display:"inline-block"}),Yc=m({color:"$colors$clickable",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Jc=m({color:"$colors$hover",fontWeight:"bold",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Er=defineComponent({name:"Specs",props:{specs:{type:Array,required:!0},verbose:{type:Boolean,required:!0},status:{type:String,required:!0},openSpec:{type:Function,required:!0},hideTestsAndSupressLogs:{type:Boolean,required:!1,default:void 0}},setup(e){let o=S();return ()=>createVNode(Fragment,null,[e.specs.map(t=>{if(t.error)return createVNode("div",{key:t.name,class:o("test-spec",[Nn])},[createVNode(co,{class:o("test-spec-error",[lo,Cn])},{default:()=>[createTextVNode("Error")]}),createVNode(Sr,{onClick:()=>{e.openSpec(t.name);},path:t.name},null),createVNode(Tn,{error:t.error,path:t.name},null)]);if(io(t))return null;let n=Object.values(t.tests),s=Object.values(t.describes),l=ro(t);return createVNode("div",{key:t.name,class:o("test-spec-name",[Nn])},[createVNode("div",{class:o("test-spec-name-container",[qc])},[e.status==="complete"?l.fail>0?createVNode(co,{class:o("test-spec-complete",[lo,Cn])},{default:()=>[createTextVNode("Fail")]}):createVNode(co,{class:o("test-spec-pass",[lo,fr])},{default:()=>[createTextVNode("Pass")]}):createVNode(co,{class:o("test-spec-run",[lo,pr])},{default:()=>[createTextVNode("Run")]}),createVNode(Sr,{onClick:()=>{e.hideTestsAndSupressLogs||e.openSpec(t.name);},path:t.name},null)]),e.verbose&&!e.hideTestsAndSupressLogs&&createVNode(no,{tests:n},null),e.verbose&&!e.hideTestsAndSupressLogs&&createVNode(wn,{describes:s},null),!e.hideTestsAndSupressLogs&&yr(t).map(d=>createVNode("div",{key:`failing-${d.name}`,class:o("test-spec-error",[Nn])},[createVNode("div",{class:o("test-spec-error-text",[Hc,Z])},[createTextVNode("\u25CF "),d.blocks.join(" \u203A "),createTextVNode(" \u203A "),d.name]),d.errors.map(r=>createVNode(Tn,{key:`failing-${d.name}-error`,error:r,path:d.path},null))]))])})])}}),co=defineComponent({name:"SpecLabel",setup(e,{slots:o,attrs:t}){let n=S();return ()=>createVNode("span",{class:n("test-spec-label",[Uc,(t==null?void 0:t.class)||""])},[o.default?o.default():null])}}),Sr=defineComponent({name:"FilePath",props:{onClick:{type:Function,required:!0},path:{type:String,required:!0}},setup(e){let o=computed(()=>e.path.split("/")),t=computed(()=>o.value.slice(0,o.value.length-1).join("/")+"/"),n=computed(()=>o.value[o.value.length-1]),s=S();return ()=>createVNode("button",{class:s("test-filename",[R,zc]),onClick:()=>{e.onClick();},type:"button"},[createVNode("span",{class:s("test-filename-base",[Yc])},[t.value]),createVNode("span",{class:s("test-filename-file",[Jc])},[n.value])])}});var wr=m({marginBottom:"$space$2"}),Ln=m({fontWeight:"bold",color:"$colors$hover",whiteSpace:"pre-wrap"}),Xc=m({fontWeight:"bold",color:"$colors$clickable"}),Tr=defineComponent({name:"Summary",props:{suites:{type:Object,required:!0},tests:{type:Object,required:!0},duration:{type:Number,required:!0}},setup(e){let o=S(),t="Test suites: ",n=s=>{let l=t.length-s.length,d=Array.from({length:l},()=>" ").join("");return s+d};return ()=>createVNode("div",{class:o("test-summary",[Xc])},[createVNode("div",{class:o("test-summary",[wr])},[createVNode("span",{class:o("test-summary-suites-label",[Ln])},[t]),e.suites.fail>0&&createVNode("span",{class:o("test-summary-suites-fail",[Z])},[e.suites.fail,createTextVNode(" failed,")," "]),e.suites.pass>0&&createVNode("span",{class:o("test-summary-suites-pass",[Ce])},[e.suites.pass,createTextVNode(" passed,")," "]),createVNode("span",null,[e.suites.total,createTextVNode(" total")])]),createVNode("div",{class:o("test-summary",[wr])},[createVNode("span",{class:o("test-summary-label",[Ln])},[n("Tests:")]),e.tests.fail>0&&createVNode("span",{class:o("test-summary-fail",[Z])},[e.tests.fail,createTextVNode(" failed,")," "]),e.tests.skip>0&&createVNode("span",{class:o("test-summary-skip",[to])},[e.tests.skip,createTextVNode(" skipped,")," "]),e.tests.pass>0&&createVNode("span",{class:o("test-summary-pass",[Ce])},[e.tests.pass,createTextVNode(" passed,")," "]),createVNode("span",null,[e.tests.total,createTextVNode(" total")])]),createVNode("div",{class:o("test-summary-curation",[Ln])},[n("Time:"),e.duration/1e3,createTextVNode("s")])])}});var nd=m({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay","> *":{marginLeft:"$space$2"}}),sd={specs:{},status:"initialising",verbose:!1,watchMode:!0,suiteOnly:!1,specsCount:0},An=defineComponent({name:"SandpackTests",props:{verbose:{type:Boolean,required:!1,default:!1},watchMode:{type:Boolean,required:!1,default:!0},onComplete:{type:Function,required:!1,default:void 0},actionsChildren:{type:Object,required:!1,default:null},showVerboseButton:{type:Boolean,required:!1,default:!0},showWatchButton:{type:Boolean,required:!1,default:!0},hideTestsAndSupressLogs:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1}},setup(e,{slots:o,attrs:t}){let n,s,l=/.*\.(test|spec)\.[tj]sx?$/,d=Mt(),{getClient:r,iframe:u,listen:g,sandpack:f}=Ye(),h=S(),c=ref(E(y({},sd),{verbose:e.verbose||!1,watchMode:e.watchMode||!0})),x=()=>{c.value.status="running",c.value.specs={};let F=r();F&&F.dispatch({type:"run-all-tests"});},a=()=>{c.value=E(y({},c.value),{status:"running",specs:{}});let F=r();F&&F.dispatch({type:"run-tests",path:f.activeFile});},j=computed(()=>f.activeFile.match(l)!==null),I=()=>{let F=[],C="";s&&s(),s=g(v=>{if(!(c.value.suiteOnly&&("path"in v&&v.path!==f.activeFile||"test"in v&&"path"in v.test&&v.test.path!==f.activeFile))){if(v.type==="action"&&v.action==="clear-errors"&&v.source==="jest"){C=v.path;return}if(v.type==="test"){if(v.event==="initialize_tests"){if(F=[],C="",c.value.watchMode)return x();c.value=E(y({},c.value),{status:"idle",specs:{}});return}if(v.event==="test_count"){c.value=E(y({},c.value),{specsCount:v.count});return}if(v.event==="total_test_start"){F=[],c.value=E(y({},c.value),{status:"running"});return}if(v.event==="total_test_end"){e.onComplete!==void 0&&e.onComplete(c.value.specs),c.value=E(y({},c.value),{status:"complete"});return}if(v.event==="add_file"){c.value=Se(c.value,["specs",v.path],{describes:{},tests:{},name:v.path});return}if(v.event==="remove_file"){let T=Object.entries(c.value.specs).reduce((M,[O,B])=>O===v.path?M:E(y({},M),{[O]:B}),{});c.value=E(y({},c.value),{specs:T});return}if(v.event==="file_error"){c.value=Se(c.value,["specs",v.path,"error"],v.error);return}if(v.event==="describe_start"){F.push(v.blockName);let[T,M]=gt(F),O=C;if(M===void 0)return;c.value=Se(c.value,["specs",O,"describes",...Ke(T,B=>[B,"describes"]),M],{name:v.blockName,tests:{},describes:{}});return}if(v.event==="describe_end"){F.pop();return}if(v.event==="add_test"){let[T,M]=gt(F),O={status:"idle",errors:[],name:v.testName,blocks:[...F],path:v.path};if(M===void 0){c.value=Se(c.value,["specs",v.path,"tests",v.testName],O);return}else {c.value=Se(c.value,["specs",v.path,"describes",...Ke(T,B=>[B,"describes"]),M,"tests",v.testName],O);return}}if(v.event==="test_start"){let{test:T}=v,[M,O]=gt(T.blocks),B={status:"running",name:T.name,blocks:T.blocks,path:T.path,errors:[]};if(O===void 0){c.value=Se(c.value,["specs",T.path,"tests",T.name],B);return}else {c.value=Se(c.value,["specs",T.path,"describes",...Ke(M,te=>[te,"describes"]),O,"tests",T.name],B);return}}if(v.event==="test_end"){let{test:T}=v,[M,O]=gt(T.blocks),B={status:T.status,errors:T.errors,duration:T.duration,name:T.name,blocks:T.blocks,path:T.path};O===void 0?c.value=Se(c.value,["specs",T.path,"tests",T.name],B):c.value=Se(c.value,["specs",T.path,"describes",...Ke(M,te=>[te,"describes"]),O,"tests",T.name],B);}}}});},q=()=>{n&&n(),n=g(({type:F})=>{F==="done"&&c.value.watchMode&&(j.value?a():x());});};watchEffect(q),watchEffect(I),onMounted(q),onBeforeUnmount(()=>{n&&n(),s&&s();}),onUnmounted(()=>{n&&n(),s&&s();});let W=F=>{f.setActiveFile(F);},k=computed(()=>Object.values(c.value.specs)),_=computed(()=>Cr(k.value)),K=computed(()=>br(k.value)),fe=computed(()=>xr(k.value));return ()=>createVNode(re,mergeProps(e,{class:h("tests",[(t==null?void 0:t.class)||""]),style:y(y({},ur(d.mode==="dark")),(t==null?void 0:t.style)||{})}),{default:()=>[createVNode("iframe",{ref:u,style:{display:"none"},title:"Sandpack Tests"},null),createVNode(vr,{hideTestsAndSupressLogs:e.hideTestsAndSupressLogs,showVerboseButton:e.showVerboseButton,showWatchButton:e.showWatchButton,setSuiteOnly:()=>{c.value.suiteOnly=!c.value.suiteOnly;},setVerbose:()=>{c.value=E(y({},c.value),{verbose:!c.value.verbose});},setWatchMode:()=>{c.value=E(y({},c.value),{watchMode:!c.value.watchMode});},showSuitesOnly:c.value.specsCount>1,status:c.value.status,suiteOnly:c.value.suiteOnly,verbose:c.value.verbose,watchMode:c.value.watchMode},null),c.value.status==="running"||c.value.status==="initialising"?createVNode(Vt,{showOpenInCodeSandbox:!1},null):createVNode("div",{class:nd.toString()},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,createVNode(gr,{onClick:()=>{c.value.suiteOnly?a():x();}},null)]),createVNode("div",{class:rd.toString()},[k.value.length===0&&c.value.status==="complete"?createVNode("div",{class:id.toString()},[createVNode("p",null,[createTextVNode("No test files found.")]),createVNode("p",null,[createTextVNode("Test match:")," ",createVNode("span",{class:Z.toString()},[l.toString()])])]):createVNode(Fragment,null,[createVNode(Er,{openSpec:W,specs:k.value,status:c.value.status,verbose:c.value.verbose,hideTestsAndSupressLogs:e.hideTestsAndSupressLogs},null),c.value.status==="complete"&&K.value.total>0&&createVNode(Tr,{duration:_.value,suites:fe.value,tests:K.value},null)])])]})}}),rd=m({padding:"$space$4",height:"100%",overflow:"auto",display:"flex",flexDirection:"column",position:"relative",fontFamily:"$font$mono"}),id=m({fontWeight:"bold",color:"$colors$base"});var kr=defineComponent({name:"SandpackRender",props:{fragment:{type:Boolean,required:!1,default:!1}},setup(e,{slots:o}){return ()=>e.fragment?o.default?o.default():null:createVNode(re,null,{default:()=>[o.default?o.default():null]})}});var ud={files:{type:Object,required:!1,default:void 0},template:{type:String,required:!1,default:void 0},customSetup:{type:Object,required:!1,default:void 0},theme:{type:[String,Object],required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1}},Fr=defineComponent({name:"Sandpack",props:ud,setup(e){var _,K,fe,F;let o=ref(0),t=ref(null),n=ref((K=(_=e.options)==null?void 0:_.editorWidthPercentage)!=null?K:50),s=ref(70),l=ref((F=(fe=e.options)==null?void 0:fe.showConsole)!=null?F:!1),d=computed(()=>{var C,v;return (v=(e==null?void 0:e.rtl)||((C=e==null?void 0:e.options)==null?void 0:C.rtl))!=null?v:!1}),r=computed(()=>{var C,v;return (v=(C=e.options)==null?void 0:C.resizablePanels)!=null?v:!0}),u=computed(()=>{var C,v,T,M,O,B,te,ue,ve,me,ye,Te,$e,Ne;return {showTabs:(C=e.options)==null?void 0:C.showTabs,showLineNumbers:(v=e.options)==null?void 0:v.showLineNumbers,showInlineErrors:(T=e.options)==null?void 0:T.showInlineErrors,wrapContent:(M=e.options)==null?void 0:M.wrapContent,closableTabs:(O=e.options)==null?void 0:O.closableTabs,initMode:(B=e.options)==null?void 0:B.initMode,extensions:(ue=(te=e.options)==null?void 0:te.codeEditor)==null?void 0:ue.extensions,extensionsKeymap:(me=(ve=e.options)==null?void 0:ve.codeEditor)==null?void 0:me.extensionsKeymap,readOnly:(ye=e.options)==null?void 0:ye.readOnly,showReadOnly:(Te=e.options)==null?void 0:Te.showReadOnly,additionalLanguages:(Ne=($e=e.options)==null?void 0:$e.codeEditor)==null?void 0:Ne.additionalLanguages}}),g=computed(()=>{var C,v,T,M,O,B,te,ue,ve,me,ye,Te,$e,Ne,et;return {activeFile:(C=e.options)==null?void 0:C.activeFile,visibleFiles:(v=e.options)==null?void 0:v.visibleFiles,recompileMode:(T=e.options)==null?void 0:T.recompileMode,recompileDelay:(M=e.options)==null?void 0:M.recompileDelay,autorun:(O=e.options)==null?void 0:O.autorun,autoReload:(B=e.options)==null?void 0:B.autoReload,bundlerURL:(te=e.options)==null?void 0:te.bundlerURL,startRoute:(ue=e.options)==null?void 0:ue.startRoute,skipEval:(ve=e.options)==null?void 0:ve.skipEval,fileResolver:(me=e.options)==null?void 0:me.fileResolver,initMode:(ye=e.options)==null?void 0:ye.initMode,initModeObserverOptions:(Te=e.options)==null?void 0:Te.initModeObserverOptions,externalResources:($e=e.options)==null?void 0:$e.externalResources,logLevel:(Ne=e.options)==null?void 0:Ne.logLevel,classes:(et=e.options)==null?void 0:et.classes}}),f=computed(()=>{var C,v;return {flexGrow:100-n.value,flexShrink:100-n.value,flexBasis:0,width:100-n.value+"%",gap:l.value?"1px":"0",height:(C=e.options)!=null&&C.editorHeight?`${(v=e.options)==null?void 0:v.editorHeight}px`:void 0}}),h=computed(()=>{var C;return (C=nt[e.template])!=null?C:{}}),c=computed(()=>{var C,v;return (C=e.options)!=null&&C.layout?(v=e.options)==null?void 0:v.layout:"mode"in h.value?h.value.mode:"preview"}),x=computed(()=>{var C;return (C=e.options)!=null&&C.showConsoleButton?createVNode(md,{counter:o.value,onClick:()=>{l.value=!l.value;}},null):void 0}),a=computed(()=>{var C,v;return ((C=e.options)==null?void 0:C.showConsole)||((v=e.options)==null?void 0:v.showConsoleButton)}),j=computed(()=>a.value?{class:L+"-preset-column",style:f.value}:{}),I=computed(()=>a.value?{flexGrow:s.value,flexShrink:s.value,flexBasis:0,overflow:"hidden"}:f.value),q=C=>{if(!t.value)return;C.preventDefault();let v=t.value.parentElement;if(!v)return;let M=t.value.dataset.direction==="horizontal",{left:O,top:B,height:te,width:ue}=v.getBoundingClientRect(),ve=M?(C.clientX-O)/ue*100:(C.clientY-B)/te*100,me=Math.min(Math.max(ve,25),75);M?n.value=d.value?100-me:me:s.value=me,v.querySelectorAll(`.${L}-stack`).forEach(ye=>{ye.style.pointerEvents="none";});},W=()=>{var v;let C=(v=t.value)==null?void 0:v.parentElement;C&&(C.querySelectorAll(`.${L}-stack`).forEach(T=>{T.style.pointerEvents="";}),t.value=null);},k=S();return watch([()=>{var C;return (C=e.options)==null?void 0:C.showConsole}],()=>{var C,v;l.value=(v=(C=e.options)==null?void 0:C.showConsole)!=null?v:!1;},{immediate:!0}),watch([()=>e.options],()=>{r.value&&typeof document!="undefined"&&(document.body.removeEventListener("mousemove",q),document.body.removeEventListener("mouseup",W),document.body.addEventListener("mousemove",q),document.body.addEventListener("mouseup",W));},{immediate:!0}),onBeforeUnmount(()=>{typeof document!="undefined"&&(document.body.removeEventListener("mousemove",q),document.body.removeEventListener("mouseup",W));}),()=>createVNode(Lt,mergeProps(e,{key:e.template,customSetup:e.customSetup,files:e.files,options:g.value,template:e.template,theme:e.theme}),{default:()=>[createVNode(Bt,{class:d.value?k("rtl-layout",[vd]):""},{default:()=>{var C;return [createVNode(zt,mergeProps(u.value,{style:{height:`${(C=e.options)==null?void 0:C.editorHeight}px`,flexGrow:n.value,flexShrink:n.value,flexBasis:0,overflow:"hidden"}}),null),r.value&&createVNode("div",{class:k("resize-handler",[Ar({direction:"horizontal"})]),"data-direction":"horizontal",onMousedown:v=>{t.value=v.target;},style:{left:`calc(${d.value?100-n.value:n.value}% - 5px)`}},null),createVNode(kr,mergeProps({fragment:!a.value},j.value),{default:()=>{var v,T,M;return [c.value==="preview"&&createVNode(Xt,{actionsChildren:x.value,showNavigator:(v=e.options)==null?void 0:v.showNavigator,showRefreshButton:(T=e.options)==null?void 0:T.showRefreshButton,style:I.value},null),c.value==="tests"&&createVNode(An,{standalone:!0,actionsChildren:x.value,style:I.value},null),c.value==="console"&&createVNode(Qt,{actionsChildren:x.value,style:I.value},null),(((M=e.options)==null?void 0:M.showConsoleButton)||l.value)&&createVNode(Fragment,null,[r.value&&l.value&&createVNode("div",{class:k("resize-handler",[Ar({direction:"vertical"})]),"data-direction":"vertical",onMousedown:O=>{t.value=O.target;},style:{top:`calc(${s.value}% - 5px)`}},null),createVNode("div",{class:k("console-wrapper",[fd]),style:{flexGrow:l.value?100-s.value:0,flexShrink:l.value?100-s.value:0,flexBasis:0}},[createVNode(Qt,{onLogsChange:O=>{o.value=O.length;},showHeader:!1},null)])])]}})]}})]})}}),md=defineComponent({props:{onClick:{type:Function,required:!0},counter:{type:Number,required:!0}},setup(e){return ()=>createVNode(pe,{class:pd.toString(),onClick:e.onClick},{default:()=>[createVNode(We,null,null),e.counter>0&&createVNode("strong",null,[e.counter])]})}}),Ar=m({position:"absolute",zIndex:"$top",variants:{direction:{vertical:{right:0,left:0,height:10,cursor:"ns-resize"},horizontal:{top:0,bottom:0,width:10,cursor:"ew-resize"}}},"@media screen and (max-width: 768px)":{display:"none"}}),pd=m({position:"relative",strong:{background:"$colors$clickable",color:"$colors$surface1",minWidth:"12px",height:"12px",padding:"0 2px",borderRadius:"12px",fontSize:"8px",lineHeight:"12px",position:"absolute",top:"0",right:"0",fontWeight:"normal"}}),fd=m({transition:"flex $transitions$default",width:"100%",overflow:"hidden"}),vd=m({flexDirection:"row-reverse","@media screen and (max-width: 768px)":{flexFlow:"wrap-reverse !important",flexDirection:"initial"}});function hd(){return {install(e){e.component("Sandpack",Fr),e.component("SandpackLayout",Bt),e.component("SandpackProvider",Lt),e.component("ErrorOverlay",Xe),e.component("LoadingOverlay",Ze),e.component("CodeEditor",Ee),e.component("SandpackCodeEditor",zt),e.component("SandpackCodeViewer",Jt),e.component("SandpackPreview",Xt),e.component("SandpackStack",re),e.component("SandpackTranspiledCode",or),e.component("SandpackFileExplorer",Qs);}}}

export { Ao as ANGULAR_TEMPLATE, As as BackwardIcon, Fs as CleanIcon, Ps as CloseIcon, Ee as CodeEditor, We as ConsoleIcon, Zs as DependenciesProgress, nn as Directory, _s as DirectoryIconClosed, Rs as DirectoryIconOpen, Xe as ErrorOverlay, Os as ExportIcon, qo as FADE_ANIMATION_DURATION, pt as File, Is as FileIcon, Pt as FileTabs, Ms as ForwardIcon, Ze as LoadingOverlay, Yt as ModuleList, er as Navigator, dt as OpenInCodeSandboxButton, Mo as REACT_TEMPLATE, Fo as REACT_TYPESCRIPT_TEMPLATE, It as RefreshIcon, Ae as RestartIcon, pe as RoundedButton, jt as RunButton, _t as RunIcon, nt as SANDBOX_TEMPLATES, Zn as SANDPACK_THEMES, Oo as SOLID_TEMPLATE, Ro as SVELTE_TEMPLATE, Fr as Sandpack, zt as SandpackCodeEditor, Jt as SandpackCodeViewer, Qt as SandpackConsole, Qs as SandpackFileExplorer, Bt as SandpackLayout, Xt as SandpackPreview, Lt as SandpackProvider, re as SandpackStack, hs as SandpackStateContext, An as SandpackTests, Ho as SandpackThemeContext, gs as SandpackThemeProvider, or as SandpackTranspiledCode, js as SignInIcon, Bs as SignOutIcon, _o as TEST_TYPESCRIPT_TEMPLATE, Zo as UnstyledOpenInCodeSandboxButton, Io as VANILLA_TEMPLATE, Po as VANILLA_TYPESCRIPT_TEMPLATE, wo as VITE_PREACT_TEMPLATE, To as VITE_PREACT_TS_TEMPLATE, So as VITE_REACT_TEMPLATE, Eo as VITE_REACT_TS_TEMPLATE, $o as VITE_SVELTE_TEMPLATE, No as VITE_SVELTE_TS_TEMPLATE, Co as VITE_TEMPLATE, ko as VITE_VUE_TEMPLATE, Lo as VITE_VUE_TS_TEMPLATE, jo as VUE2_TEMPLATE, Bo as VUE2_TS_TEMPLATE, Nt as VUE_TEMPLATE, kt as VUE_TS_TEMPLATE, Ip as createContext, hd as default, Et as defaultDark, ke as defaultLight, Xr as getSandpackCssText, Ma as layoutClassName, Ve as stackClassName, ba as tabButton, At as useActiveCode, S as useClassNames, He as useContext, bs as useLoadingOverlayState, N as useSandpack, Ye as useSandpackClient, yn as useSandpackConsole, xs as useSandpackNavigation, Le as useSandpackShell, Mt as useSandpackTheme };
