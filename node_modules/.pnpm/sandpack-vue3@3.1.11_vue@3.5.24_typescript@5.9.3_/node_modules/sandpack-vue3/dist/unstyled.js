"use strict";var No=Object.defineProperty,Co=Object.defineProperties;var wo=Object.getOwnPropertyDescriptors;var qt=Object.getOwnPropertySymbols;var xo=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable;var _t=(e,o,n)=>o in e?No(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,w=(e,o)=>{for(var n in o||(o={}))xo.call(o,n)&&_t(e,n,o[n]);if(qt)for(var n of qt(o))So.call(o,n)&&_t(e,n,o[n]);return e},T=(e,o)=>Co(e,wo(o));var he=(e,o,n)=>new Promise((s,a)=>{var c=f=>{try{r(n.next(f))}catch(g){a(g)}},u=f=>{try{r(n.throw(f))}catch(g){a(g)}},r=f=>f.done?s(f.value):Promise.resolve(f.value).then(c,u);r((n=n.apply(e,o)).next())});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),Vo=require("dequal");require("@stitches/core");const ie=require("@codesandbox/sandpack-client"),To=require("lz-string"),Eo=require("ansi-to-vue3"),ko=require("clean-set"),$t=require("@codemirror/autocomplete"),nt=require("@codemirror/language"),$=require("@codemirror/view"),Ao=require("@codemirror/lang-css"),Lo=require("@codemirror/lang-html"),Ut=require("@codemirror/lang-javascript"),I=require("@lezer/highlight"),ye=require("@codemirror/state"),ge=require("@codemirror/commands"),Mo={onCodeUpdate:{type:Function},code:{type:String,required:!0},filePath:{type:String},fileType:{type:String},showLineNumbers:{type:Boolean,default:!1},showInlineErrors:{type:Boolean,default:!1},wrapContent:{type:Boolean,default:!1},editorState:{type:String,default:"pristine"},readOnly:{type:Boolean,default:!1},showReadOnly:{type:Boolean,default:!0},decorators:{type:Array,default(){return[]}},initMode:{type:String,default:"lazy"},extensions:{type:Array,default(){return[]}},extensionsKeymap:{type:Array,default(){return[]}},additionalLanguages:{type:Array,default(){return[]}}};function Oo(e){return t.getCurrentScope()?(t.onScopeDispose(e),!0):!1}const Fo=typeof window<"u",Ro=Fo?window:void 0;function Ht(e){var n;const o=t.unref(e);return(n=o==null?void 0:o.$el)!=null?n:o}const Ge=()=>{};function jo(e,o,n={}){const{root:s,rootMargin:a="0px",threshold:c=.1,window:u=Ro}=n,r=u&&"IntersectionObserver"in u;let f=Ge;const g=r?t.watch(()=>({el:Ht(e),root:Ht(s)}),({el:h,root:d})=>{if(f(),!h)return;const N=new IntersectionObserver(o,{root:d,rootMargin:a,threshold:c});N.observe(h),f=()=>{N.disconnect(),f=Ge}},{immediate:!0,flush:"post"}):Ge,m=()=>{f(),g()};return Oo(m),{isSupported:r,stop:m}}const Ie=e=>{const o=e.lastIndexOf("/");return e.slice(o+1)},Io=(e,o)=>{const n=(e[0]==="/"?e.slice(1):e).split("/"),s=[];if(n.length===1)s.unshift(n[0]);else for(let a=0;a<o.length;a++){const c=o[a].split("/");for(let u=1;u<=n.length;u++){const r=n[n.length-u],f=c[c.length-u];if(s.length<u&&s.unshift(r),r!==f)break}}return s.length<n.length&&s.unshift(".."),s.join("/")},zt=e=>{let o=0,n=0,s=0;if(e.startsWith("#")){if(e.length<7)return!0;o=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),s=parseInt(e.substr(5,2),16)}else{const c=e.replace("rgb(","").replace("rgba(","").replace(")","").split(",");if(c.length<3)return!0;o=parseInt(c[0],10),n=parseInt(c[1],10),s=parseInt(c[2],10)}return(o*299+n*587+s*114)/1e3<128};let Po=0;const Pe=()=>(+(Date.now().toString(10).substr(0,4)+Po++)).toString(16),Se=()=>"",ot=()=>Se,vn=Object.getOwnPropertyDescriptors({toString:Se});Object.defineProperties(Se,vn);Object.defineProperties(ot,vn);const Do={createTheme:Se,css:ot,getCssText:Se,keyframes:ot},ve={colors:{surface1:"#ffffff",surface2:"#EFEFEF",surface3:"#F3F3F3",disabled:"#C5C5C5",base:"#323232",clickable:"#808080",hover:"#4D4D4D",accent:"#3973E0",error:"#EA3323",errorSurface:"#FCF1F0",warning:"#6A4516",warningSurface:"#FEF2C0"},syntax:{plain:"#151515",comment:{color:"#999",fontStyle:"italic"},keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},De={colors:{surface1:"#151515",surface2:"#252525",surface3:"#2F2F2F",disabled:"#4D4D4D",base:"#808080",clickable:"#999999",hover:"#C5C5C5",accent:"#E5E5E5",error:"#FFB4A6",errorSurface:"#690000",warning:"#E7C400",warningSurface:"#3A3000"},syntax:{plain:"#FFFFFF",comment:{color:"#757575",fontStyle:"italic"},keyword:"#77B7D7",tag:"#DFAB5C",punctuation:"#ffffff",definition:"#86D9CA",property:"#77B7D7",static:"#C64640",string:"#977CDC"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}};var mn;const hn={light:ve,dark:De,auto:typeof window<"u"&&(mn=window==null?void 0:window.matchMedia)!=null&&mn.call(window,"(prefers-color-scheme: dark)").matches?De:ve},B="sp",{createTheme:Jt,css:Ba,getCssText:Bo,keyframes:gn}=Do,qo={space:new Array(11).fill(" ").reduce((e,o,n)=>T(w({},e),{[n+1]:`${(n+1)*4}px`}),{}),border:{radius:"4px"},layout:{height:"300px",headerHeight:"40px"},transitions:{default:"150ms ease"},zIndices:{base:"1",overlay:"2",top:"3"}},Yt=e=>{const n=Object.entries(e.syntax).reduce((s,[a,c])=>{let u={[`color-${a}`]:c};return typeof c=="object"&&(u=Object.entries(c).reduce((r,[f,g])=>T(w({},r),{[`${f}-${a}`]:g}),{})),w(w({},s),u)},{});return T(w({},qo),{colors:e.colors,font:e.font,syntax:n})},Zt=e=>{var g,m,h,d,N;const o="default";if(e=e||"light",typeof e=="string"){const l=hn[e];if(!l)throw new Error(`[sandpack-vue3]: invalid theme '${e}' provided.`);return{theme:l,id:e,mode:zt(l.colors.surface1)?"dark":"light"}}const n=zt((m=(g=e==null?void 0:e.colors)==null?void 0:g.surface1)!=null?m:ve.colors.surface1)?"dark":"light",s=n==="dark"?De:ve,a=w(w({},s.colors),(h=e==null?void 0:e.colors)!=null?h:{}),c=w(w({},s.syntax),(d=e==null?void 0:e.syntax)!=null?d:{}),u=w(w({},s.font),(N=e==null?void 0:e.font)!=null?N:{}),r={colors:a,syntax:c,font:u},f=e?_o(JSON.stringify(r)):o;return{theme:r,id:`sp-${f}`,mode:n}},_o=e=>{let o=0;for(let n=0;n<e.length;o&=o)o=31*o+e.charCodeAt(n++);return Math.abs(o)},y=()=>"";y.toString=y;const st=(e,{line:o,column:n})=>e.line(o).from+(n!=null?n:0)-1,$o=()=>$.EditorView.theme({"&":{backgroundColor:`var(--${B}-colors-surface1)`,color:`var(--${B}-syntax-color-plain)`,height:"100%"},".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{color:"inherit",backgroundColor:"rgba(128,128,128,.25)",backgroundBlendMode:"difference"},"&.cm-editor.cm-focused":{outline:"none"},".cm-activeLine":{backgroundColor:`var(--${B}-colors-surface3)`,borderRadius:`var(--${B}-border-radius)`},".cm-errorLine":{backgroundColor:`var(--${B}-colors-errorSurface)`,borderRadius:`var(--${B}-border-radius)`},".cm-content":{caretColor:`var(--${B}-colors-accent)`,padding:`0 var(--${B}-space-4)`},".cm-scroller":{fontFamily:`var(--${B}-font-mono)`,lineHeight:`var(--${B}-font-lineHeight)`},".cm-gutters":{backgroundColor:`var(--${B}-colors-surface1)`,color:`var(--${B}-colors-disabled)`,border:"none",paddingLeft:`var(--${B}-space-1)`},".cm-gutter.cm-lineNumbers":{fontSize:".6em"},".cm-lineNumbers .cm-gutterElement":{lineHeight:`var(--${B}-font-lineHeight)`,minWidth:`var(--${B}-space-5)`},".cm-content .cm-line":{paddingLeft:`var(--${B}-space-1)`},".cm-content.cm-readonly .cm-line":{paddingLeft:0}}),se=e=>`${B}-syntax-${e}`,Uo=e=>nt.HighlightStyle.define([{tag:I.tags.link,textDecoration:"underline"},{tag:I.tags.emphasis,fontStyle:"italic"},{tag:I.tags.strong,fontWeight:"bold"},{tag:I.tags.keyword,class:se("keyword")},{tag:[I.tags.atom,I.tags.number,I.tags.bool],class:se("static")},{tag:I.tags.variableName,class:se("plain")},{tag:I.tags.function(I.tags.variableName),class:se("definition")},{tag:I.tags.standard(I.tags.tagName),class:se("tag")},{tag:[I.tags.function(I.tags.variableName),I.tags.definition(I.tags.function(I.tags.variableName)),I.tags.tagName],class:se("definition")},{tag:I.tags.propertyName,class:se("property")},{tag:[I.tags.literal,I.tags.inserted],class:se(e.syntax.string?"string":"static")},{tag:I.tags.punctuation,class:se("punctuation")},{tag:[I.tags.comment,I.tags.quote],class:se("comment")}]),Ho=(e,o,n)=>{if(!e&&!o)return"javascript";let s=o;if(!s&&e){const a=e.lastIndexOf(".");s=e.slice(a+1)}for(const a of n)if(s===a.name||a.extensions.includes(s||""))return a.name;switch(s){case"ts":case"tsx":return"typescript";case"html":case"svelte":case"vue":case"astro":return"html";case"css":case"less":case"scss":return"css";case"js":case"jsx":case"json":default:return"javascript"}},zo=(e,o)=>{const n={javascript:Ut.javascript({jsx:!0,typescript:!1}),typescript:Ut.javascript({jsx:!0,typescript:!0}),html:Lo.html(),css:Ao.css()};for(const s of o)if(e===s.name)return s.language;return n[e]};function Jo(e){return $.ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDecoration(o)}update(o){}getDecoration(o){if(!e)return $.Decoration.none;const n=e.map(s=>{var r,f,g;const a=$.Decoration.line({attributes:{class:(r=s.className)!=null?r:""}}),c=$.Decoration.mark({class:(f=s.className)!=null?f:"",attributes:(g=s.elementAttributes)!=null?g:void 0}),u=st(o.state.doc,{line:s.line,column:s.startColumn})+1;if(s.startColumn&&s.endColumn){const m=st(o.state.doc,{line:s.line,column:s.endColumn})+1;return c.range(u,m)}return a.range(u)});return $.Decoration.set(n)}},{decorations:o=>o.decorations})}function Yo(){return Wo}const Zo=$.Decoration.line({attributes:{class:"cm-errorLine"}}),Wo=$.ViewPlugin.fromClass(class{constructor(){this.decorations=$.Decoration.none}update(e){e.transactions.forEach(o=>{const n=o.annotation("show-error");if(n!==void 0){const s=st(e.view.state.doc,{line:n})+1;this.decorations=$.Decoration.set([Zo.range(s)])}else o.annotation("remove-errors")&&(this.decorations=$.Decoration.none)})}},{decorations:e=>e.decorations}),Wt=(e,o)=>{if(e.length!==o.length)return!1;let n=!0;for(let s=0;s<e.length;s++)if(e[s]!==o[s]){n=!1;break}return n},yn=Symbol("classNamesProvider"),Go=t.defineComponent({name:"ClassNamesProvider",props:{classes:{type:Object,required:!1,default(){return{}}}},setup(e,{slots:o}){return t.provide(yn,e.classes),()=>t.createVNode(t.Fragment,null,[o.default?o.default():null])}}),L=()=>{const e=qe(yn,{});return function(n,s=[]){const a=`${B}-${n}`;return Ko(...s,a,e[a])}},Ko=(...e)=>e.filter(Boolean).join(" "),j={"/styles.css":{code:`body {
  font-family: sans-serif;
  -webkit-font-smoothing: auto;
  -moz-font-smoothing: auto;
  -moz-osx-font-smoothing: grayscale;
  font-smoothing: auto;
  text-rendering: optimizeLegibility;
  font-smooth: always;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

h1 {
  font-size: 1.5rem;
}`}},Xo={files:{"/src/styles.css":j["/styles.css"],"/src/pages/index.astro":{code:`---
import "../styles.css";
const data = "world";
---

<h1>Hello {data}</h1>

<style>
  h1 {
    font-size: 1.5rem;
  }
</style>`},"/src/env.d.ts":{code:'/// <reference types="astro/client" />'},".env":{code:'ASTRO_TELEMETRY_DISABLED="1"'},"/astro.config.mjs":{code:`import { defineConfig } from 'astro/config';

// https://astro.build/config
export default defineConfig({});`},"/tsconfig.json":{code:`{
  "extends": "astro/tsconfigs/base"
}`},"/package.json":{code:JSON.stringify({dependencies:{astro:"^1.9.2","esbuild-wasm":"^0.17.19"},scripts:{dev:"astro dev",start:"astro dev",build:"astro build",preview:"astro preview",astro:"astro"}},null,2)}},main:"/src/pages/index.astro",environment:"node"},Qo={files:T(w({},j),{"/styles.css":j["/styles.css"],"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Lit + TS</title>
    <link rel="stylesheet" href="/styles.css" />
    <script type="module" src="/main.ts"><\/script>
  </head>
  <body>
    <my-element />
  </body>
</html>
`},"/main.ts":{code:`import { LitElement, html } from 'lit'
import { customElement, property } from 'lit/decorators.js'

@customElement('my-element')
export class MyElement extends LitElement {
  @property()
  msg = 'Hello world'

  render() {
    return html\`<h1>\${this.msg}</h1>\`
  }
}

declare global {
  interface HTMLElementTagNameMap {
    'my-element': MyElement
  }
}
`},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/tsconfig.json":{code:`{
  "compilerOptions": {
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "declaration": true,
    "emitDeclarationOnly": true,
    "outDir": "./types",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "moduleResolution": "Node",
    "isolatedModules": true,
    "allowSyntheticDefaultImports": true,
    "experimentalDecorators": true,
    "forceConsistentCasingInFileNames": true,
    "useDefineForClassFields": false,
    "skipLibCheck": true
  },
  "references": [{ "path": "./tsconfig.node.json" }]
}
`},"/tsconfig.node.json":{code:`{
  "compilerOptions": {
    "composite": true,
    "module": "ESNext",
    "moduleResolution": "Node",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}
`},"/vite.config.ts":{code:`import { defineConfig } from 'vite'

// https://vitejs.dev/config/
export default defineConfig({
  build: {
    lib: {
      entry: '/main.ts',
      formats: ['es'],
    },
    rollupOptions: {
      external: /^lit/,
    },
  },
})
`},"/package.json":{code:`{
  "name": "vite-lit",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build"
  },
  "dependencies": {
    "lit": "^2.7.4"
  },
  "devDependencies": {
    "typescript": "^5.0.4",
    "vite": "4.2.2",
    "esbuild-wasm": "^0.17.19"
  }
}
`}}),entry:"/main.ts",main:"/main.ts",environment:"node"},es={files:T(w({},j),{"/pages/_app.js":{code:`import '../styles.css'

export default function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}`},"/pages/index.js":{code:`export default function Home({ data }) {
  return (
    <div>
      <h1>Hello {data}</h1>
    </div>
  );
}

export function getServerSideProps() {
  return {
    props: { data: "world" },
  }
}
`},"/next.config.js":{code:`/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
}

module.exports = nextConfig
`},"/package.json":{code:JSON.stringify({name:"my-app",version:"0.1.0",private:!0,scripts:{dev:"NEXT_TELEMETRY_DISABLED=1 next dev",build:"next build",start:"next start",lint:"next lint"},dependencies:{next:"12.1.6",react:"18.2.0","react-dom":"18.2.0","@next/swc-wasm-nodejs":"12.1.6"}},null,2)}}),main:"/pages/index.js",environment:"node"},ts={files:{"/index.js":{code:`const http = require('http');

const hostname = '127.0.0.1';
const port = 3000;

const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/html');
  res.end('Hello world');
});

server.listen(port, hostname, () => {
  console.log(\`Server running at http://\${hostname}:\${port}/\`);
});`},"/package.json":{code:JSON.stringify({dependencies:{},scripts:{start:"node index.js"},main:"index.js"},null,2)}},main:"/index.js",environment:"node"},ns={files:T(w({},j),{"/App.tsx":{code:`import { Component } from "solid-js";

const App: Component = () => {
  return <h1>Hello world</h1>
};

export default App;`},"/index.tsx":{code:`import { render } from "solid-js/web";
import App from "./App";

import "./styles.css";

render(() => <App />, document.getElementById("app"));`},"/index.html":{code:`<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="app"></div>
  <script type="module" src="/index.tsx"><\/script>
</body>
</html>`},"/vite.config.ts":{code:`/// <reference types="vite/client" />

import { defineConfig } from 'vite';
import solidPlugin from 'vite-plugin-solid';

export default defineConfig({
  plugins: [solidPlugin()],
  build: {
    target: 'esnext',
  },
  resolve: {
    conditions: ['development', 'browser'],
  },
});`},"/tsconfig.json":{code:`{
  "compilerOptions": {
    "strict": true,
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "node",
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "jsx": "preserve",
    "jsxImportSource": "solid-js",
    "types": ["vite/client", "@testing-library/jest-dom"]
  }
}`},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite",build:"tsc && vite build",serve:"vite preview"},dependencies:{"solid-js":"^1.7.5"},devDependencies:{vite:"4.2.2",typescript:"^5.0.4","vite-plugin-solid":"^2.7.0","esbuild-wasm":"^0.17.19"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"node"},bn={files:T(w({},j),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/index.js"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},devDependencies:{vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}}),main:"/index.js",environment:"node"},Nn={files:T(w({},j),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@vitejs/plugin-react":"^3.1.0",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)},"/vite.config.js":{code:`import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
});
`}}),main:"/App.jsx",environment:"node"},Cn={files:T(w({},j),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";
import React from "react";

const root = createRoot(document.getElementById("root") as HTMLElement);
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"><\/script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx"},references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@types/react":"^18.0.28","@types/react-dom":"^18.0.11","@vitejs/plugin-react":"^3.1.0","vite-plugin-checker":"^0.5.6",typescript:"^5.0.4",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react(),
  ],
})
`}}),main:"/App.tsx",environment:"node"},wn={files:T(w({},j),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root");
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",vite:"4.2.2","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:`import { defineConfig } from "vite";
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
});
`}}),main:"/App.jsx",environment:"node"},xn={files:T(w({},j),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root") as HTMLElement;
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"><\/script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx",jsxImportSource:"preact"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",typescript:"^4.9.5",vite:"4.2.2","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
})
`}}),main:"/App.tsx",environment:"node"},Sn={files:{"/src/styles.css":j["/styles.css"],"/src/App.svelte":{code:`<script>
const data = "world";
<\/script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"><\/script>
  </body>
</html>
`},"svelte.config.js":{code:`import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'

export default {
  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess
  // for more information about preprocessors
  preprocess: vitePreprocess(),
}
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},dependencies:{svelte:"^3.59.1"},devDependencies:{"@sveltejs/vite-plugin-svelte":"2.1.1",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.svelte",environment:"node"},Vn={files:{"/src/styles.css":j["/styles.css"],"/src/App.svelte":{code:`<script lang="ts">
const data: string = "world";
<\/script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"><\/script>
  </body>
</html>
`},"/vite-env.d.ts":{code:`/// <reference types="svelte" />
/// <reference types="vite/client" />`},"svelte.config.js":{code:`import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'

export default {
  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess
  // for more information about preprocessors
  preprocess: vitePreprocess(),
}
`},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"tsconfig.json":{code:JSON.stringify({extends:"@tsconfig/svelte/tsconfig.json",compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",resolveJsonModule:!0,allowJs:!0,checkJs:!0,isolatedModules:!0},include:["src/**/*.d.ts","src/**/*.ts","src/**/*.js","src/**/*.svelte"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node"},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"2.1.1","@tsconfig/svelte":"^4.0.1",svelte:"^3.59.1","svelte-check":"^3.3.2",typescript:"^5.0.4",tslib:"^2.5.0",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.svelte",environment:"node"},Tn={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<script setup>
import { ref } from "vue";

const data = ref("world");
<\/script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"

createApp(App).mount('#app')
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"><\/script>
  </body>
</html>
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{vue:"^3.3.2"},devDependencies:{"@vitejs/plugin-vue":"^4.2.3",vite:"4.2.2","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.vue",environment:"node"},En={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<script setup lang="ts">
import { ref } from "vue";

const data = ref<string>("world");
<\/script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"

createApp(App).mount('#app')
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"><\/script>
  </body>
</html>
`},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",moduleResolution:"Node",strict:!0,jsx:"preserve",resolveJsonModule:!0,isolatedModules:!0,esModuleInterop:!0,lib:["ESNext","DOM"],skipLibCheck:!0,noEmit:!0},include:["src/**/*.ts","src/**/*.d.ts","src/**/*.tsx","src/**/*.vue"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{vue:"^3.3.2"},devDependencies:{"@vitejs/plugin-vue":"^4.2.3",vite:"4.2.2","vue-tsc":"^1.6.5",typescript:"^5.0.4","esbuild-wasm":"^0.17.19"}},null,2)}},main:"/src/App.vue",environment:"node"},kn={files:{"/src/app/app.component.css":j["/styles.css"],"/src/app/app.component.html":{code:`<div>
<h1>{{ helloWorld }}</h1>
</div>
`},"/src/app/app.component.ts":{code:`import { Component } from "@angular/core";

@Component({
  selector: "app-root",
  templateUrl: "./app.component.html",
  styleUrls: ["./app.component.css"]
})
export class AppComponent {
  helloWorld = "Hello world";
}
`},"/src/app/app.module.ts":{code:`import { BrowserModule } from "@angular/platform-browser";
import { NgModule } from "@angular/core";

import { AppComponent } from "./app.component";

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}
`},"/src/index.html":{code:`<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Angular</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
   <app-root></app-root>
</body>

</html>
`},"/src/main.ts":{code:`import { enableProdMode } from "@angular/core";
import { platformBrowserDynamic } from "@angular/platform-browser-dynamic";

import { AppModule } from "./app/app.module";

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch(err => console.log(err));

`},"/src/polyfills.ts":{code:`import "core-js/proposals/reflect-metadata";
      import "zone.js/dist/zone";
`},"/package.json":{code:JSON.stringify({dependencies:{"@angular/core":"^11.2.0","@angular/platform-browser":"^11.2.0","@angular/platform-browser-dynamic":"^11.2.0","@angular/common":"^11.2.0","@angular/compiler":"^11.2.0","zone.js":"0.11.3","core-js":"3.8.3",rxjs:"6.6.3"},main:"/src/main.ts"},null,2)}},main:"/src/app/app.component.ts",environment:"angular-cli"},An={files:T(w({},j),{"/App.js":{code:`export default function App() {
  return <h1>Hello world</h1>
}
`},"/index.js":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},main:"/index.js"},null,2)}}),main:"/App.js",environment:"create-react-app"},Ln={files:T(w({},j),{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/App.tsx":{code:`export default function App(): JSX.Element {
  return <h1>Hello world</h1>
}
`},"/index.tsx":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},devDependencies:{"@types/react":"^18.0.0","@types/react-dom":"^18.0.0",typescript:"^4.0.0"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"create-react-app"},Mn={files:T(w({},j),{"/App.tsx":{code:`import { Component } from "solid-js";

const App: Component = () => {
  return <h1>Hello world</h1>
};

export default App;`},"/index.tsx":{code:`import { render } from "solid-js/web";
import App from "./App";

import "./styles.css";

render(() => <App />, document.getElementById("app"));`},"/index.html":{code:`<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="app"></div>
  <script src="src/index.tsx"><\/script>
</body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{"solid-js":"1.3.15"},main:"/index.tsx"},null,2)}}),main:"/App.tsx",environment:"solid"},On={files:T(w({},j),{"/App.svelte":{code:`<style>
  h1 {
    font-size: 1.5rem;
  }
</style>

<script>
  let name = 'world';
<\/script>

<main>
  <h1>Hello {name}</h1>
</main>`},"/index.js":{code:`import App from "./App.svelte";
import "./styles.css";

const app = new App({
  target: document.body
});

export default app;
      `},"/public/index.html":{code:`<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8" />
    <meta name="viewport" content="width=device-width" />

    <title>Svelte app</title>

    <link rel="stylesheet" href="public/bundle.css" />
  </head>

  <body>
    <script src="bundle.js"><\/script>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{svelte:"^3.0.0"},main:"/index.js"},null,2)}}),main:"/App.svelte",environment:"svelte"},Fn={files:{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/add.ts":{code:"export const add = (a: number, b: number): number => a + b;"},"/add.test.ts":{code:`import { add } from './add';

describe('add', () => {
  test('Commutative Law of Addition', () => {
    expect(add(1, 2)).toBe(add(2, 1));
  });
});`},"package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/add.ts"},null,2)}},main:"/add.test.ts",environment:"parcel",mode:"tests"},Rn={files:T(w({},j),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.js">
  <\/script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.js"},null,2)}}),main:"/index.js",environment:"parcel"},jn={files:T(w({},j),{"tsconfig.json":{code:`{
  "compilerOptions": {
    "strict": true,
    "module": "commonjs",
    "jsx": "preserve",
    "esModuleInterop": true,
    "sourceMap": true,
    "allowJs": true,
    "lib": [
      "es6",
      "dom"
    ],
    "rootDir": "src",
    "moduleResolution": "node"
  }
}`},"/index.ts":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.ts">
  <\/script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/index.ts"},null,2)}}),main:"/index.ts",environment:"parcel"},at={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup>
import { ref } from 'vue';
const msg = ref('world');
<\/script>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.30.2",vue:"^3.3.2"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8"}},null,2)}},main:"/src/App.vue",environment:"vue-cli"},it={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup lang="ts">
import { ref } from 'vue';
const msg = ref<string>('world');
<\/script>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/src/shims-vue.d.ts":`/* eslint-disable */
declare module "*.vue" {
  import type { DefineComponent } from "vue";
  const component: DefineComponent<{}, {}, any>;
  export default component;
}`,"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.30.2",vue:"^3.3.2"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.5"}},null,2)},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",experimentalDecorators:!0,skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!1,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]},null,2)}},main:"/src/App.vue",environment:"vue-cli"},In={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<template>
  <div id="app">
    <h1>Hello {{ msg }}</h1>
    <button @click="add">add</button>
    <p>count: {{ count }}</p>
  </div>
</template>

<script>
import Vue from 'vue';

export default Vue.extend({
  name: "App",
  data() {
    return {
      msg: "",
      count: 1,
    };
  },
  methods: {
    add() {
      this.count += 1;
    },
  },
  mounted() {
    this.msg = "world";
  },
});
<\/script>`},"/src/main.js":{code:`import Vue from "vue";
import App from "./App.vue";
import "./styles.css";

Vue.config.productionTip = false;
new Vue({
  render: h => h(App)
}).$mount("#app");
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^2.7.14"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8","vue-template-compiler":"^2.7.14"}},null,2)}},main:"/src/App.vue",environment:"vue-cli"},Pn={files:{"/src/styles.css":j["/styles.css"],"/src/App.vue":{code:`<template>
  <div id="app">
    <h1>Hello {{ msg }}</h1>
    <button @click="add">add</button>
    <p>count: {{ count }}</p>
  </div>
</template>

<script lang="ts">
import Vue from "vue";

export default Vue.extend({
  name: "App",
  data() {
    return {
      msg: "",
      count: 1,
    };
  },
  methods: {
    add() {
      this.count += 1;
    },
  },
  mounted() {
    this.msg = "world";
  },
});
<\/script>`},"/src/main.ts":{code:`import Vue from "vue";
import App from "./App.vue";
import "./styles.css";

Vue.config.productionTip = false;
new Vue({
  render: h => h(App)
}).$mount("#app");
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/src/shims-vue.d.ts":`declare module '*.vue' {
  import Vue from 'vue'
  export default Vue
}`,"/package.json":{code:JSON.stringify({name:"vue-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^2.7.14"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.3","vue-template-compiler":"^2.7.14"}},null,2)},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!0,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]},null,2)}},main:"/src/App.vue",environment:"vue-cli"},os={files:T(w({},j),{"/index.html":{code:`<!DOCTYPE html>
<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <h1>Hello world</h1>
</body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.html"})}}),main:"/index.html",environment:"static"},Be={react:An,"react-ts":Ln,vue2:In,"vue2-ts":Pn,vue:at,"vue-ts":it,vue3:at,"vue3-ts":it,vanilla:Rn,"vanilla-ts":jn,static:os,angular:kn,svelte:On,solid:Mn,"test-ts":Fn,node:ts,nextjs:es,vite:bn,"vite-react":Nn,"vite-react-ts":Cn,"vite-preact":wn,"vite-preact-ts":xn,"vite-vue":Tn,"vite-vue-ts":En,"vite-svelte":Sn,"vite-svelte-ts":Vn,"vite-solid":ns,"vite-lit":Qo,astro:Xo},Ce=e=>{var r,f,g,m,h,d;const o=ie.normalizePath(e.files),n=ss({template:e.template,customSetup:e.customSetup,files:o});let s=ie.normalizePath((f=(r=e.options)==null?void 0:r.visibleFiles)!=null?f:[]),a=(g=e.options)!=null&&g.activeFile?Gt((m=e.options)==null?void 0:m.activeFile,n.files):void 0;s.length===0&&o&&Object.keys(o).forEach(N=>{const l=o[N];if(typeof l=="string"){s.push(N);return}!a&&l.active&&(a=N,l.hidden===!0&&s.push(N)),l.hidden||s.push(N)}),s.length===0&&(s=[n.main]),n.entry&&!n.files[n.entry]&&(n.entry=Gt(n.entry,n.files)),!a&&n.main&&(a=n.main),(!a||!n.files[a])&&(a=s[0]),s.includes(a)||s.push(a);const c=ie.addPackageJSONIfNeeded(n.files,(h=n.dependencies)!=null?h:{},(d=n.devDependencies)!=null?d:{},n.entry);return{visibleFiles:s.filter(N=>c[N]),activeFile:a,files:c,environment:n.environment,shouldUpdatePreview:!0}},Gt=(e,o)=>{const n=ie.normalizePath(o),s=ie.normalizePath(e);if(s in n)return s;if(!e)return null;let a=null,c=0;const u=[".js",".jsx",".ts",".tsx"];for(;!a&&c<u.length;){const f=`${s.split(".")[0]}${u[c]}`;n[f]!==void 0&&(a=f),c++}return a},ss=({files:e,template:o,customSetup:n})=>{if(!o){if(!n){const a=Be.vanilla;return T(w({},a),{files:w(w({},a.files),je(e))})}if(!e||Object.keys(e).length===0)throw new Error("[sandpack-vue3]: without a template, you must pass at least one file");return T(w({},n),{files:je(e)})}const s=Be[o];if(!s)throw new Error(`[sandpack-vue3]: invalid template "${o}" provided`);return!n&&!e?s:{files:je(w(w({},s.files),e)),dependencies:w(w({},s.dependencies),n==null?void 0:n.dependencies),devDependencies:w(w({},s.devDependencies),n==null?void 0:n.devDependencies),entry:ie.normalizePath((n==null?void 0:n.entry)||s.entry),main:s.main,environment:(n==null?void 0:n.environment)||s.environment}},je=e=>e?Object.keys(e).reduce((o,n)=>(typeof e[n]=="string"?o[n]={code:e[n]}:o[n]=e[n],o),{}):{},as=3e4,ut=Symbol("sandpackStateContext"),ft=t.defineComponent({name:"SandpackProvider",props:{files:{type:Object,required:!1,default:void 0},template:{type:String,required:!1,default:void 0},customSetup:{type:Object,required:!1,default:void 0},theme:{type:[String,Object],required:!1,default:void 0},options:{type:Object,required:!1,default:void 0}},setup(e,{attrs:o,slots:n}){var X,oe,re,le,ce,Ne,Lt;const{activeFile:s,visibleFiles:a=[],files:c,environment:u}=Ce(e),r=((X=e.options)==null?void 0:X.initMode)||"lazy",f=t.ref(null),g=t.ref(null),m=t.ref({}),h=t.ref(null),d=t.ref(),N=t.ref(),l=t.reactive({visibleFiles:a,activeFile:s,files:c,environment:u,visibleFilesFromProps:a,shouldUpdatePreview:!0,editorState:"pristine",teamId:e.teamId,openFile:O,resetFile:q,resetAllFiles:H,setActiveFile:S,updateFile:M,updateCurrentFile:J,addFile:M,closeFile:ee,deleteFile:k,autoReload:(re=(oe=e.options)==null?void 0:oe.autoReload)!=null?re:!0,reactDevTools:void 0,startRoute:(le=e.options)==null?void 0:le.startRoute,initMode:((ce=e.options)==null?void 0:ce.initMode)||"lazy",bundlerState:{entry:"",transpiledModules:{}},error:{message:""},status:(Lt=(Ne=e.options)==null?void 0:Ne.autorun)==null||Lt?"initial":"idle",clients:{},lazyAnchorRef:null,unsubscribeClientListenersRef:{},queuedListenersRef:{global:{}},initializeSandpackIframe:te,runSandpack:K,registerBundler:x,unregisterBundler:E,registerReactDevTools:R,addListener:v,dispatchMessage:C,listen:v,dispatch:C});function R(p){l.reactDevTools=p}function O(p){const{visibleFiles:b}=l,V=b.includes(p)?b:[...b,p];l.activeFile=p,l.visibleFiles=V}function q(p){const{files:b}=Ce(e);l.files=T(w({},t.toRaw(l.files)),{[p]:b[p]})}function H(){const{files:p}=Ce(e);l.files=p}function S(p){l&&l.files[p]&&(l.activeFile=p)}function M(p,b,V=!0){typeof p=="string"&&typeof b=="string"?l.files=T(w({},t.toRaw(l.files)),{[p]:{code:b}}):typeof p=="object"&&(l.files=ie.normalizePath(w(w({},t.toRaw(l.files)),je(p)))),l.shouldUpdatePreview=V}function J(p,b=!0){M(l.activeFile,p,b)}function ee(p){if(l.visibleFiles.length===1)return;const b=l.visibleFiles.indexOf(p),V=l.visibleFiles.filter(_=>_!==p);l.activeFile=p===l.activeFile?b===0?l.visibleFiles[1]:l.visibleFiles[b-1]:l.activeFile,l.visibleFiles=V}function k(p,b=!0){const{visibleFiles:V,files:_,activeFile:Y}=l,G=w({},_);delete G[p];const F=V.filter(z=>z!==p);if(F.length===0){const z=Object.keys(_)[Object.keys(_).length-1];l.visibleFiles=[z],l.activeFile=z}else l.visibleFiles=F,l.activeFile=p===Y?F[F.length-1]:Y;l.files=t.toRaw(G),l.shouldUpdatePreview=b}function C(p,b){var V;if(l.status!=="running"){console.warn("[sandpack-vue3]: dispatch cannot be called while in idle mode");return}b?(V=t.toRaw(l.clients[b]))==null||V.dispatch(p):Object.values(l.clients).forEach(_=>{t.toRaw(_).dispatch(p)})}function v(p,b){if(b){if(l.clients[b])return t.toRaw(l.clients[b]).listen(p);{const V=Pe();return l.queuedListenersRef[b]=l.queuedListenersRef[b]||{},l.unsubscribeClientListenersRef[b]=l.unsubscribeClientListenersRef[b]||{},l.queuedListenersRef[b][V]=p,()=>{l.queuedListenersRef[b][V]?delete l.queuedListenersRef[b][V]:l.unsubscribeClientListenersRef[b][V]&&(l.unsubscribeClientListenersRef[b][V](),delete l.unsubscribeClientListenersRef[b][V])}}}else{const V=Pe();l.queuedListenersRef.global[V]=p;const Y=Object.values(l.clients).map(F=>t.toRaw(F).listen(p));return()=>{Y.forEach(F=>F()),delete l.queuedListenersRef.global[V],Object.values(l.unsubscribeClientListenersRef).forEach(F=>{var U;(U=F==null?void 0:F[V])==null||U.call(F)})}}}function x(p,b,V){return he(this,null,function*(){m.value[b]={iframe:p,clientPropsOverride:V},l.status==="running"&&(yield P(p,b,V))})}function E(p){var Y,G;const b=t.toRaw(l.clients[p]);b&&(b.destroy(),(Y=b.iframe.contentWindow)==null||Y.location.replace("about:blank"),b.iframe.removeAttribute("src"),delete l.clients[p]),delete m.value[p],h.value&&clearTimeout(h.value),Object.values((G=l.unsubscribeClientListenersRef[p])!=null?G:{}).forEach(F=>{Object.values(F).forEach(z=>z())});const _=Object.keys(l.clients).length>0?"running":"idle";l.status=_}function A(p){p.type==="start"?l.error=null:p.type==="state"?l.bundlerState=p.state:p.type==="done"&&!p.compilatonError||p.type==="connected"?(h.value&&clearTimeout(h.value),l.error=null):p.type==="action"&&p.action==="show-error"?l.error=ie.extractErrorDetails(p):p.type==="action"&&p.action==="notification"&&p.notificationType==="error"&&(l.error={message:p.title})}function P(p,b,V){return he(this,null,function*(){var z,Ae,Mt,Ot,Ft,Rt,jt,It,Pt,Dt,Bt;l.clients[b]&&l.clients[b].destroy();const _=(z=e==null?void 0:e.customSetup)!=null?z:{npmRegistries:[]},Y=(Mt=(Ae=e==null?void 0:e.options)==null?void 0:Ae.bundlerTimeOut)!=null?Mt:as;h.value&&clearTimeout(h.value),typeof d.value!="function"&&(h.value=setTimeout(()=>{Z(),l.status="timeout"},Y));const F=yield ie.loadSandpackClient(p,{files:t.toRaw(l.files),template:t.toRaw(l.environment)},{externalResources:(Ot=e.options)==null?void 0:Ot.externalResources,bundlerURL:(Ft=e.options)==null?void 0:Ft.bundlerURL,startRoute:(jt=V==null?void 0:V.startRoute)!=null?jt:(Rt=e.options)==null?void 0:Rt.startRoute,fileResolver:(It=e.options)==null?void 0:It.fileResolver,skipEval:(Dt=(Pt=e.options)==null?void 0:Pt.skipEval)!=null?Dt:!1,logLevel:(Bt=e.options)==null?void 0:Bt.logLevel,showOpenInCodeSandbox:!1,showErrorScreen:!0,showLoadingScreen:!0,reactDevTools:l.reactDevTools,customNpmRegistries:_==null?void 0:_.npmRegistries,teamId:e.teamId,sandboxId:e.sandboxId});typeof d.value!="function"&&(d.value=F.listen(A)),l.unsubscribeClientListenersRef[b]=l.unsubscribeClientListenersRef[b]||{},l.queuedListenersRef[b]&&(Object.keys(l.queuedListenersRef[b]).forEach(Le=>{const Ze=l.queuedListenersRef[b][Le],We=F.listen(Ze);l.unsubscribeClientListenersRef[b][Le]=We}),l.queuedListenersRef[b]={}),Object.entries(l.queuedListenersRef.global).forEach(([Le,Ze])=>{const We=F.listen(Ze);l.unsubscribeClientListenersRef[b][Le]=We}),l.clients[b]=F})}function Z(){Object.keys(l.clients).map(E),typeof d.value=="function"&&(d.value(),d.value=void 0)}function K(){return he(this,null,function*(){yield Promise.all(Object.entries(m.value).map(_=>he(this,[_],function*([p,{iframe:b,clientPropsOverride:V={}}]){yield P(b,p,V)}))),l.error=null,l.status="running"})}function te(){var V,_,Y,G,F;if(!((_=(V=e.options)==null?void 0:V.autorun)!=null?_:!0))return;const b=(G=(Y=e.options)==null?void 0:Y.initModeObserverOptions)!=null?G:{rootMargin:"1000px 0px"};f.value&&l.lazyAnchorRef&&((F=f.value)==null||F.unobserve(l.lazyAnchorRef)),l.lazyAnchorRef&&l.initMode==="lazy"?(f.value=new IntersectionObserver(U=>{var z;U.some(Ae=>Ae.isIntersecting)&&(g.value=setTimeout(()=>{K()},50),l.lazyAnchorRef&&((z=f.value)==null||z.unobserve(l.lazyAnchorRef)))},b),f.value.observe(l.lazyAnchorRef)):l.lazyAnchorRef&&l.initMode==="user-visible"?(f.value=new IntersectionObserver(U=>{U.some(z=>z.isIntersecting)?g.value=setTimeout(()=>{K()},50):(g.value&&clearTimeout(g.value),Object.keys(l.clients).map(E),Z())},b),f.value.observe(l.lazyAnchorRef)):g.value=setTimeout(()=>K(),50)}return t.provide(ut,l),t.watch([()=>l.files,()=>l.environment,()=>l.shouldUpdatePreview,()=>l.reactDevTools,()=>l.status,()=>{var p;return(p=e.options)==null?void 0:p.recompileMode},()=>{var p;return(p=e.options)==null?void 0:p.recompileDelay}],()=>{var _,Y,G,F;const{environment:p}=Ce(e),b=(Y=(_=e.options)==null?void 0:_.recompileMode)!=null?Y:"delayed",V=(F=(G=e.options)==null?void 0:G.recompileDelay)!=null?F:500;if(!(l.status!=="running"||!l.shouldUpdatePreview)&&(p!==l.environment&&(l.environment=p,Object.entries(l.clients).forEach(([U,z])=>{x(t.toRaw(z).iframe,U)})),b==="immediate"&&Object.values(l.clients).forEach(U=>{U.status==="done"&&t.toRaw(U).updateSandbox({files:w({},t.toRaw(l.files)),template:t.toRaw(l.environment)})}),b==="delayed")){if(typeof window>"u")return;window.clearTimeout(N.value),N.value=window.setTimeout(()=>{Object.values(l.clients).forEach(U=>{U.status==="done"&&t.toRaw(U).updateSandbox({files:w({},t.toRaw(l.files)),template:t.toRaw(l.environment)})})},V)}},{immediate:!0,deep:!0}),t.watch([()=>{var p;return(p=e.options)==null?void 0:p.initMode},()=>l.initMode,()=>{var p;return(p=e.options)==null?void 0:p.autorun},()=>{var p;return(p=e.options)==null?void 0:p.initModeObserverOptions},()=>l.environment,()=>l.files,()=>l.reactDevTools],()=>{r!==l.initMode&&(l.initMode=r,te())},{immediate:!0,deep:!0}),t.watch([()=>e.options,()=>e.template,()=>e==null?void 0:e.files,()=>e.customSetup],()=>{const p=Ce(e);l.activeFile=p.activeFile,l.visibleFiles=p.visibleFiles,l.visibleFilesFromProps=p.visibleFiles,l.files=p.files,l.environment=p.environment;const b=Vo.dequal(p.files,t.toRaw(l.files))?"pristine":"dirty";b!==l.editorState&&(l.editorState=b)},{deep:!0}),t.onMounted(()=>{typeof d.value=="function"&&d.value(),h.value&&clearTimeout(h.value),N.value&&clearTimeout(N.value),g.value&&clearTimeout(g.value),f.value&&f.value.disconnect(),t.nextTick(()=>{te()})}),()=>{var p;return t.createVNode(Go,{classes:(p=e.options)==null?void 0:p.classes},{default:()=>[t.createVNode(qn,{style:(o==null?void 0:o.style)||{},class:(o==null?void 0:o.class)||"",theme:e.theme},{default:()=>[n.default?n.default():null]})]})}}});function D(){let e=qe(ut,void 0);return e||(e={files:{},dispatch:()=>{},listen:()=>{}},console.error('[sandpack-vue3]: "useSandpack" must be wrapped by a "SandpackProvider"')),{sandpack:e,dispatch:e.dispatch,listen:e.listen}}const pt=()=>{const{sandpack:e}=D(),o=t.computed(()=>{var s;return(s=e==null?void 0:e.files[e.activeFile])==null?void 0:s.code}),n=t.computed(()=>{var s,a;return(a=(s=e==null?void 0:e.files[e.activeFile])==null?void 0:s.readOnly)!=null?a:!1});return{code:o,readOnly:n,updateCode:e.updateCurrentFile}},mt=200,Dn=e=>{let o,n;const{sandpack:s,listen:a}=D(),c=t.ref("LOADING"),u=()=>{o&&o(),o=a(r=>{r.type==="start"&&r.firstLoad===!0&&(c.value="LOADING"),r.type==="done"&&(c.value=c.value==="LOADING"?"PRE_FADING":"HIDDEN")},e.clientId)};return t.onBeforeMount(()=>{c.value="LOADING"}),t.onBeforeUnmount(()=>{o&&o()}),t.onUnmounted(()=>{o&&o()}),t.watch(()=>s.status,()=>{s.status!=="running"&&(c.value="HIDDEN"),s.status==="timeout"&&(c.value="TIMEOUT"),s.status==="idle"&&u()},{immediate:!0}),t.watch(()=>e.clientId,u,{immediate:!0}),t.watch([c,()=>e.loading],()=>{n&&clearTimeout(n),c.value==="PRE_FADING"&&!e.loading?c.value="FADING":c.value==="FADING"&&(n&&clearTimeout(n),n=setTimeout(()=>{c.value="HIDDEN"},mt))},{deep:!0,immediate:!0}),c},Bn=e=>{const{dispatch:o}=D();return{refresh:()=>o({type:"refresh"},e),back:()=>o({type:"urlback"},e),forward:()=>o({type:"urlforward"},e)}},is=y,vt=Symbol("sandpackThemeProvider"),qn=t.defineComponent({name:"SandpackThemeProvider",props:{theme:{type:[String,Object],required:!1,default:void 0},mode:{type:String,required:!1,default:"light"}},setup(e,{slots:o,attrs:n}){const{theme:s,id:a="",mode:c="light"}=Zt(e.theme),u=L(),r=t.ref({}),f=t.reactive({theme:s,id:a,mode:c});f.theme&&(r.value=Jt(a,Yt(s)),t.provide(vt,f));const g=()=>{const{theme:m,id:h}=Zt(e.theme);e.theme&&(f.id=h,f.theme=m,r.value=Jt(h,Yt(m)))};return t.watch(()=>e.theme,g,{immediate:!0}),()=>t.createVNode("div",{class:u("wrapper",[r.value.toString(),is(),(n==null?void 0:n.class)||""])},[o.default?o.default():null])}}),rs=(e,o=Symbol())=>{if(!e||typeof e!="object")throw new Error("context can only be object: Record<string, any>");const n=t.reactive(w({},e)),s=t.defineComponent({name:"ContextProvider",inheritAttrs:!1,setup(a,{slots:c}){return t.provide(o,n),()=>{var u;return(u=c.default)==null?void 0:u.call(c)}}});return{state:n,Provider:s}},qe=(e=Symbol(),o)=>{const n=t.inject(e,o);return n==null?o:n},ht=()=>qe(vt,{theme:ve,id:"light",mode:"light"}),_e=e=>{const{sandpack:o,listen:n,dispatch:s}=D(),a=t.ref(null),c=t.ref(Pe());return t.onMounted(()=>{const r=a.value;r!==null&&o.registerBundler(r,c.value,e)}),t.onBeforeUnmount(()=>{o&&c.value&&o.unregisterBundler(c.value)}),t.onUnmounted(()=>{o&&c.value&&o.unregisterBundler(c.value)}),{sandpack:o,getClient:()=>{const{clients:r}=o;return t.toRaw(r[c.value]||null)},clientId:c,iframe:a,listen:r=>n(r,c.value),dispatch:r=>s(r,c.value)}},Te=e=>{const{dispatch:o}=D();return{restart:()=>o({type:"shell/restart"},e),openPreview:()=>o({type:"shell/openPreview"},e)}},ls=({langSupport:e,highlightTheme:o,code:n=""})=>{const s=e.language.parser.parse(n);let a=0;const c=[],u=(r,f)=>{if(r>a){const g=n.slice(a,r);c.push(f?t.createVNode("span",{key:`${r}${a}`,class:f},[g]):g),a=r}};return I.highlightTree(s,o,(r,f,g)=>{u(r,""),u(f,g)}),a<n.length&&(n!=null&&n.includes(`
`))&&c.push(`

`),c};function cs(e){let o;const n=ht(),s=Ho(e.filePath,e.fileType,e.additionalLanguages),a=zo(s,e.additionalLanguages),c=Uo(n.theme),u=ls({langSupport:a,highlightTheme:c,code:e.code}),r=t.ref(e.code),f=t.ref(),g=t.ref(),m=t.ref(!1),h=t.computed(()=>e.initMode||"lazy"),d=t.computed(()=>{const S=e.decorators?[...e.decorators]:[];return S&&S.sort((M,J)=>M.line-J.line)}),N=t.ref(h.value==="immediate"),l=t.ref([]),R=t.ref([]);jo(f,([{isIntersecting:S}])=>{m.value=S},{rootMargin:"600px 0px",threshold:.2});const O=()=>{!f.value||!N.value||(H(),o=setTimeout(q))},q=()=>{const S=[{key:"Tab",run:C=>{var x,E;ge.indentMore(C);const v=e.extensionsKeymap.find(({key:A})=>A==="Tab");return(E=(x=v==null?void 0:v.run)==null?void 0:x.call(v,C))!=null?E:!0}},{key:"Shift-Tab",run:({state:C,dispatch:v})=>{var E,A;ge.indentLess({state:C,dispatch:v});const x=e.extensionsKeymap.find(({key:P})=>P==="Shift-Tab");return(A=(E=x==null?void 0:x.run)==null?void 0:E.call(x,k))!=null?A:!0}},{key:"Escape",run:()=>(e.readOnly||f.value&&f.value.focus(),!0)},{key:"mod-Backspace",run:ge.deleteGroupBackward}],M=[$.highlightSpecialChars(),ge.history(),$t.closeBrackets(),...e.extensions,$.keymap.of([...$t.closeBracketsKeymap,...ge.defaultKeymap,...ge.historyKeymap,...S,...e.extensionsKeymap]),a,$o(),nt.syntaxHighlighting(c)];e.readOnly?(M.push(ye.EditorState.readOnly.of(!0)),M.push($.EditorView.editable.of(!1))):(M.push(nt.bracketMatching()),M.push($.highlightActiveLine())),d.value&&M.push(Jo(d.value)),e.wrapContent&&M.push($.EditorView.lineWrapping),e.showLineNumbers&&M.push($.lineNumbers()),e.showInlineErrors&&M.push(Yo());const J=f.value,ee=J.querySelector(".sp-pre-placeholder");ee&&J.removeChild(ee);const k=new $.EditorView({doc:e.code,extensions:M,parent:J,dispatch:C=>{var v;if(k.update([C]),C.docChanged){const x=C.newDoc.sliceString(0,C.newDoc.length);r.value=x,(v=e.onCodeUpdate)==null||v.call(e,x)}}});k.contentDOM.setAttribute("data-gramm","false"),k.contentDOM.setAttribute("data-lt-active","false"),k.contentDOM.setAttribute("aria-label",e.filePath?`Code Editor for ${Ie(e.filePath)}`:"Code Editor"),e.readOnly?k.contentDOM.classList.add("cm-readonly"):k.contentDOM.setAttribute("tabIndex","-1"),g.value=k},H=()=>{var S;(S=g.value)==null||S.destroy(),o&&clearTimeout(o)};return t.watch([()=>e.readOnly,()=>e.showLineNumbers,()=>e.showInlineErrors,()=>e.wrapContent,()=>e.readOnly,()=>n.id,N,d],O,{immediate:!0}),t.watch([()=>e.initMode,m],()=>{(h.value==="lazy"||h.value==="user-visible")&&m.value&&(N.value=!0)}),t.watch([()=>e.extensions,()=>e.extensionsKeymap],()=>{const S=g.value,M=!Wt(e.extensions,l.value)||!Wt(e.extensionsKeymap,R.value);S&&M&&(S.dispatch({effects:ye.StateEffect.appendConfig.of(e.extensions||[])}),S.dispatch({effects:ye.StateEffect.appendConfig.of($.keymap.of([...e.extensionsKeymap||[]]))}),l.value=e.extensions,R.value=e.extensionsKeymap)},{immediate:!0}),t.onMounted(()=>{t.nextTick(O)}),t.onUnmounted(H),{internalCode:r,shouldInitEditor:N,wrapperRef:f,cmView:g,languageExtension:s,syntaxHighlightRender:u}}const be=y,Q=y,ue=y,ds=y;gn({"0%":{opacity:0,transform:"translateY(4px)"},"100%":{opacity:1,transform:"translateY(0)"}});const xe=y,_n=y,rt=y,de=y,Kt=y,Xt=y,$n=y,Qt=y,us=y,Ee=t.defineComponent({name:"CodeMirror",props:Mo,setup(e,o){let n;const{cmView:s,wrapperRef:a,languageExtension:c,internalCode:u,syntaxHighlightRender:r}=cs(e),f=L(),{listen:g}=D(),m=d=>{d.key==="Enter"&&s.value&&(d.preventDefault(),s.value.contentDOM.focus())};o.expose({getCodemirror:()=>s.value}),t.onMounted(()=>{t.nextTick(()=>{s.value&&e.editorState==="dirty"&&window.matchMedia("(min-width: 768px)").matches&&s.value.contentDOM.focus()})}),t.watch(()=>e.code,d=>{if(s.value&&typeof d=="string"&&d!==u.value){const N=s.value,l=N.state.selection.ranges.some(({to:O,from:q})=>O>d.length||q>d.length)?ye.EditorSelection.cursor(d.length):N.state.selection,R={from:0,to:N.state.doc.length,insert:d};N.dispatch({changes:R,selection:l})}},{immediate:!0}),t.watch([()=>e.showInlineErrors],()=>{e.showInlineErrors&&(n&&n(),n=g(d=>{const N=s.value;d.type==="success"?N==null||N.dispatch({annotations:[new ye.Annotation("remove-errors",!0)]}):d.type==="action"&&d.action==="show-error"&&d.path===e.filePath&&d.line&&(N==null||N.dispatch({annotations:[new ye.Annotation("show-error",d.line)]})),d.type==="action"&&d.action==="show-error"&&d.line&&(N==null||N.dispatch({annotations:[{type:"error",value:d.line}]}))}))},{immediate:!0});const h=()=>{let d=4;return e.showLineNumbers&&(d+=6),e.readOnly||(d+=1),`var(--${B}-space-${d})`};return t.onBeforeUnmount(()=>{n&&n()}),t.onUnmounted(()=>{n&&n()}),()=>e.readOnly?t.createVNode(t.Fragment,null,[t.createVNode("pre",{ref:a,class:f("cm",[f(e.editorState),f(c),Qt,Xt]),translate:"no"},[t.createVNode("code",{class:f("pre-placeholder",[Kt]),style:{marginLeft:h()}},[r])]),e.readOnly&&e.showReadOnly&&t.createVNode("span",{class:f("read-only",[us])},[t.createTextVNode("Read-only")])]):t.createVNode("div",{ref:a,"aria-autocomplete":"list","aria-label":e.filePath?`Code Editor for ${Ie(e.filePath)}`:"Code Editor","aria-multiline":"true",onKeydown:m,class:f("cm",[f(e.editorState),f(c),Qt,Xt]),role:"textbox",tabindex:0,translate:"no"},[t.createVNode("pre",{class:f("pre-placeholder",[Kt]),style:{marginLeft:h()}},[r])])}}),W=t.defineComponent({props:{fill:{type:String,required:!1,default:"currentColor"},height:{type:String,required:!1,default:"16"},viewBox:{type:String,required:!1,default:"0 0 16 16"},stroke:{type:String,required:!1,default:void 0},width:{type:String,required:!1,default:"16"},xmlns:{type:String,required:!1,default:"http://www.w3.org/2000/svg"}},setup(e,{slots:o}){return()=>t.createVNode("svg",e,[o.default?o.default():null])}}),ke=()=>t.createVNode(W,{fill:"none",stroke:"currentColor"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Restart script")]),t.createVNode("path",{d:"M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118","stroke-linecap":"round"},null),t.createVNode("path",{d:"M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623","stroke-linecap":"round"},null),t.createVNode("path",{d:"M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683","stroke-linecap":"round"},null),t.createVNode("path",{d:"M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332","stroke-linecap":"round"},null),t.createVNode("path",{d:"M10 10L12 12L10 14","stroke-linecap":"round","stroke-linejoin":"round"},null),t.createVNode("path",{d:"M14.667 14L12.667 14","stroke-linecap":"round","stroke-linejoin":"round"},null)]}),gt=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Run sandbox")]),t.createVNode("path",{d:"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z"},null)]}),Un=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Click to go back")]),t.createVNode("path",{d:"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z"},null)]}),Hn=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Click to go forward")]),t.createVNode("path",{d:"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z"},null)]}),yt=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Refresh preview")]),t.createVNode("path",{"clip-rule":"evenodd",d:"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z","fill-rule":"evenodd"},null)]}),zn=()=>t.createVNode(W,{fill:"none",stroke:"currentColor"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Clean")]),t.createVNode("circle",{cx:"7.99998",cy:"8.00004",r:"4.66667","stroke-linecap":"round"},null),t.createVNode("path",{d:"M4.66669 4.66663L11.3334 11.3333"},null)]}),Jn=()=>t.createVNode(W,{fill:"none",stroke:"currentColor"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Open on CodeSandbox")]),t.createVNode("path",{d:"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337","stroke-linecap":"round"},null),t.createVNode("path",{d:"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004","stroke-linecap":"round"},null),t.createVNode("path",{d:"M7.33331 8.66668L12.5333 3.46667","stroke-linecap":"round"},null)]}),Yn=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Directory")]),t.createVNode("path",{d:"M12.5526 12.6667H3.66675C3.2922 12.6667 2.96575 12.4608 2.79442 12.156L3.81072 8.0908C3.92201 7.64563 4.32199 7.33333 4.78086 7.33333H13.386C14.0365 7.33333 14.5139 7.94472 14.3561 8.57587L13.5228 11.9092C13.4115 12.3544 13.0115 12.6667 12.5526 12.6667Z",fill:"currentColor"},null),t.createVNode("path",{d:"M13.3334 6.63333V6.33333C13.3334 5.78105 12.8857 5.33333 12.3334 5.33333H8.30286C8.10543 5.33333 7.91242 5.2749 7.74816 5.16538L6.25201 4.16795C6.08774 4.05844 5.89473 4 5.69731 4H3.66675C3.11446 4 2.66675 4.44772 2.66675 5L2.66675 11.6667C2.66675 12.219 3.11446 12.6667 3.66675 12.6667H12.5526C13.0115 12.6667 13.4115 12.3544 13.5228 11.9092L14.3561 8.57587C14.5139 7.94472 14.0365 7.33333 13.386 7.33333H4.78086C4.32199 7.33333 3.92201 7.64563 3.81072 8.0908L2.75008 12.3333",fill:"none",stroke:"currentColor","stroke-linecap":"round"},null)]}),Zn=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Directory")]),t.createVNode("path",{d:"M12.3334 12.6667H3.66675C3.11446 12.6667 2.66675 12.219 2.66675 11.6667V5C2.66675 4.44772 3.11446 4 3.66675 4H5.69731C5.89473 4 6.08774 4.05844 6.25201 4.16795L7.74816 5.16538C7.91242 5.2749 8.10543 5.33333 8.30286 5.33333H12.3334C12.8857 5.33333 13.3334 5.78105 13.3334 6.33333V11.6667C13.3334 12.219 12.8857 12.6667 12.3334 12.6667Z",fill:"currentColor",stroke:"currentColor","stroke-linecap":"round"},null)]}),Wn=()=>t.createVNode(W,{fill:"currentColor"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("File")]),t.createVNode("path",{"clip-rule":"evenodd",d:"M4.5 4.33325C4.5 4.05711 4.72386 3.83325 5 3.83325H8.16675V6.56659C8.16675 6.89795 8.43538 7.16658 8.76675 7.16658H11.5V12.3333C11.5 12.6094 11.2761 12.8333 11 12.8333H5C4.72386 12.8333 4.5 12.6094 4.5 12.3333V4.33325ZM12.5 6.67568C12.5001 6.67265 12.5001 6.66962 12.5001 6.66658C12.5001 6.66355 12.5001 6.66052 12.5 6.65749V6.41413C12.5 6.01631 12.342 5.63478 12.0607 5.35347L9.97978 3.27259C9.69848 2.99129 9.31694 2.83325 8.91912 2.83325H8.66675H5C4.17157 2.83325 3.5 3.50483 3.5 4.33325V12.3333C3.5 13.1617 4.17157 13.8333 5 13.8333H11C11.8284 13.8333 12.5 13.1617 12.5 12.3333V6.67568ZM9.16675 3.89888C9.20518 3.92078 9.24085 3.94787 9.27267 3.9797L11.3536 6.06058C11.3854 6.09243 11.4125 6.12813 11.4344 6.16658H9.16675V3.89888Z","fill-rule":"evenodd"},null)]}),Gn=()=>t.createVNode(W,{stroke:"currentColor"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Close file")]),t.createVNode("path",{d:"M12 4L4 12","stroke-linecap":"round"},null),t.createVNode("path",{d:"M4 4L12 12","stroke-linecap":"round"},null)]}),$e=()=>t.createVNode(W,null,{default:()=>[t.createVNode("title",null,[t.createTextVNode("Open browser console")]),t.createVNode("path",{d:"M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z"},null),t.createVNode("path",{d:"M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z"},null)]}),Kn=()=>t.createVNode(W,{viewBox:"0 0 48 48"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Sign in")]),t.createVNode("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"},null)]}),Xn=()=>t.createVNode(W,{viewBox:"0 0 48 48"},{default:()=>[t.createVNode("title",null,[t.createTextVNode("Sign out")]),t.createVNode("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"},null)]}),fs=y,ps=y,ms=y,Qn=y,bt=t.defineComponent({name:"FileTabs",props:{closableTabs:{type:Boolean,required:!1,default:void 0}},setup(e,{attrs:o}){const{sandpack:n}=D(),s=L(),a=u=>{u.stopPropagation();const r=u.target.closest("[data-active]"),f=r==null?void 0:r.getAttribute("title");f&&n.closeFile(f)},c=u=>{const r=Ie(u),f=(n.visibleFiles||[]).reduce((g,m)=>(m===u||Ie(m)===r&&g.push(m),g),[]);return f.length===0?r:Io(u,f)};return()=>t.createVNode("div",{class:s("tabs",[fs,(o==null?void 0:o.class)||""]),translate:"no"},[t.createVNode("div",{"aria-label":"Select active file",class:s("tabs-scrollable-container",[ps]),role:"tablist"},[(n.visibleFiles||[]).map(u=>t.createVNode("button",{key:u,"aria-selected":u===n.activeFile,class:s("tab-button",[Q,Qn]),"data-active":u===n.activeFile,onClick:()=>n.setActiveFile(u),role:"tab",title:u,type:"button",style:{display:"flex !important"}},[c(u),e.closableTabs&&n.visibleFiles.length>1&&t.createVNode("span",{class:s("close-button",[ms]),onClick:a},[t.createVNode(Gn,null,null)])]))])])}}),fe=t.defineComponent({name:"RoundedButton",props:{title:{type:String,required:!1,default:""},onClick:{type:Function,required:!1,default:()=>{}}},setup(e,{slots:o,attrs:n}){const s=L();return()=>t.createVNode("button",{title:e.title,class:s("button",[s("icon-standalone"),Q,be,ue,(n==null?void 0:n.class)||""]),onClick:e.onClick,type:"button"},[o.default?o.default():null])}}),vs=y,Nt=t.defineComponent({name:"RunButton",props:{onClick:{type:Function,default:null}},setup(e){const{sandpack:o}=D();return()=>t.createVNode(fe,{class:vs.toString(),onClick:n=>{o&&o.runSandpack&&o.runSandpack(),e.onClick&&e.onClick(n)}},{default:()=>[t.createVNode(gt,null,null),t.createVNode("span",null,[t.createTextVNode("Run")])]})}}),Ue=y,pe=t.defineComponent({name:"SandpackStack",setup(e,{slots:o,attrs:n}){const s=L();return()=>t.createVNode("div",{class:s("stack",[Ue,(n==null?void 0:n.class)||""]),style:(n==null?void 0:n.style)||{}},[o.default?o.default():null])}}),eo=y,Ct=t.defineComponent({name:"SandpackLayout",setup(e,{slots:o,attrs:n}){const s=t.ref(),{sandpack:a}=D(),c=L();return t.watch(s,()=>{a&&s.value&&(a.lazyAnchorRef=s)}),()=>t.createVNode("div",{ref:s,class:c("layout",[eo,(n==null?void 0:n.class)||""])},[o.default?o.default():null])}}),hs=()=>{const{sandpack:e}=D();return t.computed(()=>{var n;return(n=e.error)!=null?n:{message:""}})},gs=e=>{const o=e.replace("[sandpack-client]: ","");if(/process.exit/.test(o)){const n=o.match(/process.exit\((\d+)\)/);return n?Number(n[1])===0?"Server is not running, would you like to start it again?":`Server has crashed with status code ${n[1]}, would you like to restart the server?`:o}return o},He=t.defineComponent({name:"ErrorOverlay",props:{clientId:{type:String,required:!1,default:""}},setup(e,{slots:o,attrs:n}){const s=hs(),{restart:a}=Te(),{sandpack:c,dispatch:u}=D(),r=L(),f=t.computed(()=>{var h,d;return(d=(h=s.value)==null?void 0:h.message)==null?void 0:d.startsWith("[sandpack-client]")}),g=t.computed(()=>{var h,d;return(d=(h=s.value)==null?void 0:h.message)==null?void 0:d.includes("NPM_REGISTRY_UNAUTHENTICATED_REQUEST")}),m=()=>{c!=null&&c.teamId&&u({type:"sign-in",teamId:c.teamId})};return()=>{var h,d,N;return t.createVNode(t.Fragment,null,[g.value?t.createVNode("div",t.mergeProps(e,{class:r("overlay",[r("error"),xe,rt,(n==null?void 0:n.class)||""])}),[t.createVNode("p",{class:r("error-message",[de])},[t.createVNode("strong",null,[t.createTextVNode("Unable to fetch required dependency.")])]),t.createVNode("div",{class:r("error-message",[de])},[t.createVNode("p",null,[t.createTextVNode("Authentication required. Please sign in to your account (make sure to allow pop-ups to this page) and try again. If the issue persists, contact")," ",t.createVNode("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error"},[t.createTextVNode("support")])," ",t.createTextVNode("for further assistance.")])]),t.createVNode("div",null,[t.createVNode("button",{class:r("button",[Q,be,ue]),onClick:m},[t.createVNode(Kn,null,null),t.createVNode("span",null,[t.createTextVNode("Sign in")])])])]):t.createVNode(t.Fragment,null,[f.value&&((h=s.value)!=null&&h.message)?t.createVNode("div",t.mergeProps({class:r("overlay",[r("error"),xe,rt,(n==null?void 0:n.class)||""])},e),[t.createVNode("div",{class:r("error-message",[de])},[t.createVNode("p",{class:r("error-title",[y])},[t.createTextVNode("Couldn't connect to server")]),t.createVNode("p",null,[gs((d=s.value)==null?void 0:d.message)]),t.createVNode("div",null,[t.createVNode("button",{class:r("button",[r("icon-standalone"),Q,be,ue]),onClick:()=>{a(),c&&c.runSandpack()},title:"Restart script",type:"button"},[t.createVNode(ke,null,null),t.createTextVNode(" "),t.createVNode("span",null,[t.createTextVNode("Restart")])])])])]):!s.value.message&&!o.default?null:t.createVNode("div",{class:r("overlay",[r("error"),xe,_n(),(n==null?void 0:n.class)||""]),translate:"no"},[t.createVNode("p",{class:r("error-message",[de])},[t.createVNode("strong",null,[t.createTextVNode("Something went wrong")])]),t.createVNode("p",{class:r("error-message",[de()])},[((N=s.value)==null?void 0:N.message)||(o.default?o.default():null)])])])])}}}),ys=e=>To.compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),en="https://codesandbox.io/api/v1/sandboxes/define",bs=(e,o)=>{const n=Object.keys(e).reduce((s,a)=>{const c=a.replace("/",""),u={content:e[a].code,isBinary:!1};return T(w({},s),{[c]:u})},{});return ys(w({files:n},o?{template:o}:null))},to=t.defineComponent({name:"UnstyledOpenInCodeSandboxButton",setup(e,{slots:o}){let n;const{sandpack:s}=D(),a=t.ref(),c=t.ref({});return t.watch([()=>s.activeFile,()=>s.environment,()=>s.files],()=>{n&&clearTimeout(n),n=setTimeout(()=>{const u=bs(s.files,s.environment),r=new URLSearchParams({parameters:u,query:new URLSearchParams({file:s.activeFile,utm_medium:"sandpack"}).toString()});c.value=r},600)},{deep:!0,immediate:!0}),()=>{var u,r,f,g,m;return((g=(f=(r=(u=c.value)==null?void 0:u.get)==null?void 0:r.call(u,"parameters"))==null?void 0:f.length)!=null?g:0)>1500?t.createVNode("button",{onClick:()=>{var h;return(h=a.value)==null?void 0:h.submit()},title:"Open in CodeSandbox",type:"button"},[t.createVNode("form",{ref:a,action:en,method:"POST",style:{visibility:"hidden"},target:"_blank"},[t.createVNode("input",{name:"environment",type:"hidden",value:s.environment==="node"?"server":s.environment},null),Array.from(c.value,([h,d])=>t.createVNode("input",{key:h,name:h,type:"hidden",value:d},null))]),o.default?o.default():null]):t.createVNode("a",{href:`${en}?${(m=c.value)==null?void 0:m.toString()}&environment=${s.environment==="node"?"server":s.environment}`,rel:"noreferrer noopener",target:"_blank",title:"Open in CodeSandbox"},[o.default?o.default():null])}}}),wt=t.defineComponent({name:"OpenInCodeSandboxButton",setup(){const e=L();return()=>t.createVNode(to,{class:e("button",[e("icon-standalone"),Q,be,ue])},{default:()=>[t.createVNode(Jn,null,null),t.createVNode("span",null,[t.createTextVNode("Open Sandbox")])]})}}),Ns=y,Cs=y;gn({"0%":{transform:"rotateX(-25.5deg) rotateY(45deg)"},"100%":{transform:"rotateX(-25.5deg) rotateY(405deg)"}});const ws=y,no=t.defineComponent({name:"Loading",props:{showOpenInCodeSandbox:{type:Boolean,required:!0,default:!1}},setup(e,{attrs:o}){const n=L();return()=>t.createVNode("div",{class:n("cube-wrapper",[Cs,(o==null?void 0:o.class)||""]),title:"Open in CodeSandbox"},[e.showOpenInCodeSandbox&&t.createVNode(wt,null,null),t.createVNode("div",{class:n("cube",[Ns])},[t.createVNode("div",{class:n("sides",[ws])},[t.createVNode("div",{class:"top"},null),t.createVNode("div",{class:"right"},null),t.createVNode("div",{class:"bottom"},null),t.createVNode("div",{class:"left"},null),t.createVNode("div",{class:"front"},null),t.createVNode("div",{class:"back"},null)])])])}});function xs(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!t.isVNode(e)}const oo=t.defineComponent({name:"StdoutList",props:{data:{type:Array,required:!1,default(){return[]}}},setup(e){const o=L();return()=>t.createVNode(t.Fragment,null,[e.data.map(({data:n,id:s})=>t.createVNode("div",{key:s,class:o("console-item",[Ss])},[t.createVNode(Eo,{linkify:!0},xs(n)?n:{default:()=>[n]})]))])}}),Ss=y,Vs=(e,o)=>{var n;switch(e.state){case"downloading_manifest":return"[1/3] Downloading manifest";case"downloaded_module":return`[2/3] Downloaded ${e.name} (${o-e.totalPending}/${o})`;case"starting_command":return"[3/3] Starting command";case"command_running":return`[3/3] Running "${(n=e.command)==null?void 0:n.trim()}"`}},so=e=>{let o,n;const s=t.ref(!1),a=t.ref(),c=t.ref(null),{listen:u}=D();return t.watch([a,s,()=>e==null?void 0:e.timeout,()=>e==null?void 0:e.clientId],()=>{o&&o(),o=u(r=>{r.type==="start"&&r.firstLoad&&(s.value=!1),e!=null&&e.timeout&&(n=setTimeout(()=>{c.value=null},e==null?void 0:e.timeout)),r.type==="shell/progress"&&!s.value&&(!a.value&&r.data.state==="downloaded_module"&&(a.value=r.data.totalPending),a.value!==void 0&&(c.value=Vs(r.data,a.value))),r.type==="done"&&r.compilatonError===!1&&(s.value=!0,c.value=null,clearTimeout(n))},e==null?void 0:e.clientId)},{immediate:!0}),t.onBeforeUnmount(()=>{n&&clearTimeout(n),o&&o()}),t.onUnmounted(()=>{n&&clearTimeout(n),o&&o()}),c},Ts=400*2,ao=e=>{let o;const n=t.ref([]),{listen:s}=D(),a=t.computed(()=>{var u;return(u=e==null?void 0:e.maxMessageCount)!=null?u:Ts}),c=t.computed(()=>{var u;return(u=e==null?void 0:e.resetOnPreviewRestart)!=null?u:!1});return t.watch([a,()=>e==null?void 0:e.clientId],()=>{o&&o(),o=s(u=>{if(c.value&&u.type==="start")n.value=[];else if(u.type==="stdout"&&u.payload.data&&u.payload.data.trim()){const f=[...[...t.toRaw(n.value)],{data:u.payload.data,id:Pe()}];for(;f.length>a.value;)f.shift();n.value=t.toRaw(f)}},e==null?void 0:e.clientId)},{immediate:!0}),t.onBeforeUnmount(()=>{o&&o()}),t.onUnmounted(()=>{o&&o()}),{logs:n,reset:()=>{n.value=[]}}},Es=y,ze=t.defineComponent({name:"LoadingOverlay",props:{clientId:String,loading:Boolean,showOpenInCodeSandbox:{type:Boolean,required:!0,default:!1}},setup(e,{attrs:o}){let n;const{sandpack:s}=D(),{restart:a}=Te(e.clientId),c=L(),u=t.ref(!1),r=Dn(e),f=so({clientId:e==null?void 0:e.clientId}),{logs:g}=ao({clientId:e==null?void 0:e.clientId}),m=t.computed(()=>r.value!=="HIDDEN"),h=t.computed(()=>r.value==="TIMEOUT"),d=t.computed(()=>r.value==="LOADING"),N=t.computed(()=>d.value||r.value==="PRE_FADING"),l=()=>t.createVNode("div",{class:c("overlay",[c("error"),xe,_n,rt,(o==null?void 0:o.class)||""])},[t.createVNode("div",{class:c(c("error-message",[de]))},[t.createVNode("p",{class:c("error-title",[y])},[t.createTextVNode("Couldn't connect to server")]),t.createVNode("div",{class:c("error-message",[de])},[t.createVNode("p",null,[t.createTextVNode("This means sandpack cannot connect to the runtime or your network is having some issues. Please check the network tab in your browser and try again. If the problem persists, report it via")," ",t.createVNode("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error"},[t.createTextVNode("email")])," ",t.createTextVNode("or submit an issue on")," ",t.createVNode("a",{href:"https://github.com/codesandbox/sandpack/issues",rel:"noreferrer noopener",target:"_blank"},[t.createTextVNode("GitHub.")])])]),t.createVNode("p",{class:c("error-message",[de()])},[t.createTextVNode("ENV: "),s.environment,t.createVNode("br",null,null),t.createTextVNode("ERROR: TIME_OUT")]),t.createVNode("div",null,[t.createVNode("button",{class:c("button",[c("icon-standalone"),Q,be,ue]),onClick:()=>he(this,null,function*(){s&&(yield s.runSandpack()),a()}),title:"Restart script",type:"button"},[t.createVNode(ke,null,null),t.createVNode("span",null,[t.createTextVNode("Try again")])])])])]);return t.watch(f,()=>{var R;n&&clearTimeout(n),(R=f.value)!=null&&R.includes("Running")&&(n=setTimeout(()=>{u.value=!0},3e3))},{immediate:!0}),t.onBeforeUnmount(()=>{n&&clearTimeout(n)}),t.onUnmounted(()=>{n&&clearTimeout(n)}),()=>t.createVNode(t.Fragment,null,[m.value?h.value?l():d.value?t.createVNode(t.Fragment,null,[t.createVNode("div",{class:c("overlay",[c("loading"),xe,Es,(o==null?void 0:o.class)||""]),style:T(w({},o.style||{}),{opacity:s&&N.value&&s.status&&s.status!=="idle"?1:0,transition:`opacity ${mt}ms ease-out`})},[u.value&&t.createVNode("div",{class:ks.toString()},[t.createVNode(oo,{data:g.value},null)]),t.createVNode(no,{showOpenInCodeSandbox:e.showOpenInCodeSandbox},null)]),f.value&&t.createVNode("div",{class:As.toString()},[t.createVNode("p",null,[f.value])])]):null:null])}}),ks=y,As=y,io=t.defineComponent({name:"SandpackLayout",props:{clientId:{type:String,required:!1,default:void 0}},setup(e){const o=so({timeout:3e3,clientId:e==null?void 0:e.clientId});return()=>t.createVNode(t.Fragment,null,[o.value?t.createVNode("div",{class:Ls.toString()},[t.createVNode("p",null,[o.value])]):null])}}),Ls=y,xt=t.defineComponent({name:"SandpackCodeEditor",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:!1},showInlineErrors:{type:Boolean,required:!1,default:!1},wrapContent:{type:Boolean,required:!1,default:!1},closableTabs:{type:Boolean,required:!1},initMode:{type:String,required:!1,default:void 0},extensions:{type:Array,required:!1,default:void 0},extensionsKeymap:{type:Array,required:!1,default:void 0},readOnly:{type:Boolean,required:!1,default:void 0},showReadOnly:{type:Boolean,required:!1,default:void 0},additionalLanguages:{type:Array,required:!1,default:void 0}},setup(e,{attrs:o}){const{sandpack:n}=D(),{code:s,readOnly:a}=pt(),c=t.computed(()=>{var m,h;return(h=e.showTabs)!=null?h:((m=n==null?void 0:n.visibleFiles)==null?void 0:m.length)>1}),u=t.computed(()=>!(n!=null&&n.autorun)),r=t.ref(null),f=L(),g=(m,h=!0)=>{n.updateCurrentFile(m,h)};return()=>t.createVNode(pe,{class:f("editor",[(o==null?void 0:o.class)||""]),style:(o==null?void 0:o.style)||{}},{default:()=>[c.value&&t.createVNode(bt,{closableTabs:e.closableTabs},null),t.createVNode("div",{class:f("code-editor",[$n])},[t.createVNode(Ee,{key:n.activeFile,ref:r,code:s.value,editorState:n.editorState,extensions:e.extensions,extensionsKeymap:e.extensionsKeymap,filePath:n.activeFile,initMode:e.initMode||n.initMode,onCodeUpdate:m=>{var h;g(m,(h=n.autoReload)!=null?h:!0)},readOnly:e.readOnly||a.value,showInlineErrors:e.showInlineErrors,showLineNumbers:e.showLineNumbers,showReadOnly:e.showReadOnly,wrapContent:e.wrapContent,additionalLanguages:e.additionalLanguages},null),u.value&&(!n.autoReload||n.status==="idle")?t.createVNode(Nt,null,null):null])]})}}),Ms=y,St=t.defineComponent({name:"File",props:{path:{type:String},selectFile:{type:Function,required:!1,default:void 0},active:{type:Boolean,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},depth:{type:Number},isDirOpen:{type:Boolean,required:!1,default:void 0}},setup(e){const o=L(),n=t.computed(()=>e.path.split("/").filter(Boolean).pop()),s=a=>{e.selectFile&&e.selectFile(e.path),e.onClick&&e.onClick(a)};return()=>t.createVNode("button",{class:o("button",[o("explorer"),Q,Ms]),"data-active":e.active,onClick:s,style:{paddingLeft:9*e.depth+"px"},type:"button"},[e.selectFile?t.createVNode(Wn,null,null):e.isDirOpen?t.createVNode(Yn,null,null):t.createVNode(Zn,null,null),t.createVNode("span",null,[n.value])])}}),Os=({autoHiddenFiles:e,visibleFiles:o=[],files:n,prefixedPath:s})=>{const a=o.length>0,c=e&&!a,u=e&&!!a,r=Object.keys(n).filter(m=>{var d;const h=m.startsWith(s);return u?h&&o.includes(m):c?h&&!((d=n[m])!=null&&d.hidden):h}).map(m=>m.substring(s.length)),f=Array.from(new Set(r.filter(m=>m.includes("/")).map(m=>`${s}${m.split("/")[0]}/`))),g=r.filter(m=>!m.includes("/")).map(m=>`${s}${m}`);return{directories:f,modules:g}},Vt=t.defineComponent({name:"ModuleList",props:{prefixedPath:{type:String},files:{type:Object},selectFile:{type:Function},activeFile:{type:String},depth:{type:Number,required:!1,default:0},autoHiddenFiles:{type:Boolean,required:!1,default:!1},visibleFiles:{type:Array,required:!1,default:void 0},initialCollapsedFolder:{type:Array,required:!1,default(){return[]}}},setup(e){const o=t.computed(()=>Os({visibleFiles:e.visibleFiles,autoHiddenFiles:e.autoHiddenFiles,prefixedPath:e.prefixedPath,files:e.files}));return()=>t.createVNode("div",null,[Array.from(o.value.directories).map(n=>t.createVNode(ro,{key:n,activeFile:e.activeFile,autoHiddenFiles:e.autoHiddenFiles,depth:e.depth,files:e.files,initialCollapsedFolder:e.initialCollapsedFolder,prefixedPath:n,selectFile:e.selectFile,visibleFiles:e.visibleFiles},null)),o.value.modules.map(n=>t.createVNode(St,{key:n,active:e.activeFile===n,depth:e.depth,path:n,selectFile:e.selectFile},null))])}}),ro=t.defineComponent({name:"Directory",props:{prefixedPath:{type:String},files:{type:Object},selectFile:{type:Function},activeFile:{type:String},depth:{type:Number,required:!1,default:0},visibleFiles:{type:Array,required:!1,default:void 0},initialCollapsedFolder:{type:Array,required:!1,default(){return[]}},autoHiddenFiles:{type:Boolean,required:!1,default:!1}},setup(e){var s;const o=t.ref(!((s=e.initialCollapsedFolder)!=null&&s.includes(e.prefixedPath||""))),n=()=>{o.value=!o.value};return()=>t.createVNode("div",{key:e.prefixedPath},[t.createVNode(St,{depth:e.depth,isDirOpen:o.value,onClick:n,path:e.prefixedPath+"/"},null),o.value?t.createVNode(Vt,{autoHiddenFiles:e.autoHiddenFiles,activeFile:e.activeFile,depth:e.depth+1,files:e.files,initialCollapsedFolder:e.initialCollapsedFolder,prefixedPath:e.prefixedPath,selectFile:e.selectFile,visibleFiles:e.visibleFiles},null):null])}}),Fs=y,lo=t.defineComponent({name:"SandpackFileExplorer",props:{autoHiddenFiles:{type:Boolean,required:!1,default:!1},initialCollapsedFolder:{type:Array,required:!1,default(){return[]}}},setup(e,{attrs:o}){let n;const{sandpack:s,listen:a}=D(),c=L(),u=t.computed(()=>Object.keys(s.files).sort().reduce((r,f)=>(r[f]=s.files[f],r),{}));return t.watch(()=>s.status,()=>{if(s.status==="running")return n&&n(),n=a(r=>{r.type==="fs/change"&&s.updateFile(r.path,r.content,!1),r.type==="fs/remove"&&s.deleteFile(r.path,!1)}),n},{immediate:!0}),t.onBeforeUnmount(()=>{n&&n()}),t.onUnmounted(()=>{n&&n()}),()=>{var r;return t.createVNode("div",{class:c("file-explorer",[Ue,(o==null?void 0:o.class)||""])},[t.createVNode("div",{class:c("file-explorer-list",[Fs])},[t.createVNode(Vt,{activeFile:s.activeFile,autoHiddenFiles:e.autoHiddenFiles,files:u.value,initialCollapsedFolder:(r=e==null?void 0:e.initialCollapsedFolder)!=null?r:[],prefixedPath:"/",selectFile:s.openFile,visibleFiles:s.visibleFilesFromProps},null)])])}}}),Tt=t.defineComponent({name:"SandpackCodeViewer",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:void 0},decorators:{type:Object,required:!1,default:void 0},code:{type:String,required:!1,default:void 0},initMode:{type:String,required:!1,default:void 0},wrapContent:{type:String,required:!1,default:void 0},additionalLanguages:{type:Array,required:!1,default:void 0}},setup(e){const{sandpack:o}=D(),{code:n}=pt(),s=L(),a=t.ref(),c=t.computed(()=>{var u,r;return(r=e.showTabs)!=null?r:((u=o==null?void 0:o.visibleFiles)==null?void 0:u.length)>1});return()=>t.createVNode(pe,{class:s("editor-viewer")},{default:()=>{var u;return[c.value?t.createVNode(bt,null,null):null,t.createVNode("div",{class:s("code-editor",[$n])},[t.createVNode(Ee,{ref:a,code:(u=e.code)!=null?u:n.value,additionalLanguages:e.additionalLanguages,decorators:e.decorators,filePath:o.activeFile,initMode:e.initMode||o.initMode,showLineNumbers:e.showLineNumbers,showReadOnly:!1,wrapContent:e.wrapContent,readOnly:!0},null)]),o.status==="idle"?t.createVNode(Nt,null,null):null]}})}}),Rs=y,js=y,Is=e=>{const o=e.match(/(https?:\/\/.*?)\//);return o&&o[1]?[o[1],e.replace(o[1],"")]:[e,"/"]},co=t.defineComponent({name:"Navigator",props:{clientId:{type:String,required:!0},onURLChange:{type:Function,required:!1,default:void 0},startRoute:{type:String,required:!1,default:void 0}},setup(e,{attrs:o}){var q,H;let n;const s=t.ref(""),{sandpack:a,dispatch:c,listen:u}=D(),r=t.ref((H=(q=e==null?void 0:e.startRoute)!=null?q:a.startRoute)!=null?H:"/"),f=t.ref(!1),g=t.ref(!1),m=L();t.watch(()=>e.clientId,()=>{n&&n(),n=u(S=>{if(S.type==="urlchange"){const{url:M,back:J,forward:ee}=S,[k,C]=Is(M);s.value=k,r.value=C,f.value=J,g.value=ee}},e.clientId)},{immediate:!0});const h=S=>{const M=S.target.value.startsWith("/")?S.target.value:`/${S.target.value}`;r.value=M},d=S=>{var M;S.code==="Enter"&&(S.preventDefault(),S.stopPropagation(),typeof e.onURLChange=="function"&&e.onURLChange(s.value+((M=S.currentTarget)==null?void 0:M.value)))},N=()=>{c({type:"refresh"})},l=()=>{c({type:"urlback"})},R=()=>{c({type:"urlforward"})},O=m("button",[m("icon"),Q,ds,y]);return t.onBeforeUnmount(()=>{n&&n()}),t.onUnmounted(()=>{n&&n()}),()=>t.createVNode("div",{class:m("navigator",[Rs,(o==null?void 0:o.class)||""])},[t.createVNode("button",{"aria-label":"Go back one page",class:O,disabled:!f.value,onClick:l,type:"button"},[t.createVNode(Un,null,null)]),t.createVNode("button",{"aria-label":"Go forward one page",class:O,disabled:!g.value,onClick:R,type:"button"},[t.createVNode(Hn,null,null)]),t.createVNode("button",{"aria-label":"Refresh page",class:O,onClick:N,type:"button"},[t.createVNode(yt,null,null)]),t.createVNode("input",{"aria-label":"Current Sandpack URL",class:m("input",[js]),name:"Current Sandpack URL",onChange:h,onKeydown:d,type:"text",value:r.value},null)])}}),Ps=y,Ds=y,Bs=y,Et=t.defineComponent({name:"SandpackPreview",props:{showNavigator:{type:Boolean,required:!1,default:!1},showRefreshButton:{type:Boolean,required:!1,default:!0},showOpenInCodeSandbox:{type:Boolean,required:!1,default:!0},showSandpackErrorOverlay:{type:Boolean,required:!1,default:!0},showOpenNewtab:{type:Boolean,required:!1,default:!0},showRestartButton:{type:Boolean,required:!1,default:!0},actionsChildren:{type:Object,required:!1,default:null},startRoute:{type:String,required:!1,default:"/"}},setup(e,{slots:o,attrs:n,expose:s}){const{sandpack:a,listen:c,iframe:u,getClient:r,clientId:f,dispatch:g}=_e({startRoute:e==null?void 0:e.startRoute}),m=t.ref(null);let h;const d=L(),{refresh:N}=Bn(f.value),{restart:l}=Te(f.value);t.onMounted(()=>{t.nextTick(()=>{h&&h(),h=c(O=>{O.type==="resize"&&(m.value=O.height)})})}),t.onBeforeUnmount(()=>{h&&h()}),t.onUnmounted(()=>{h&&h()}),s({clientId:f.value,getClient:r});const R=O=>{u.value&&(u.value.src=O)};return()=>t.createVNode(pe,t.mergeProps(e,{class:d("preview",[(n==null?void 0:n.class)||""])}),{default:()=>[e.showNavigator&&t.createVNode(co,{clientId:f.value,startRoute:e==null?void 0:e.startRoute,onURLChange:R},null),t.createVNode("div",{class:d("preview-container",[Ps])},[t.createVNode("iframe",{ref:u,class:d("preview-iframe",[Ds]),style:{height:m.value?`${m.value}px`:void 0},title:"Sandpack Preview"},null),t.createVNode("div",{class:d("preview-actions",[Bs])},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,e.showRestartButton&&a.environment==="node"&&t.createVNode(fe,{onClick:l},{default:()=>[t.createVNode(ke,null,null)]}),!e.showNavigator&&e.showRefreshButton&&a.status==="running"&&t.createVNode(fe,{onClick:N},{default:()=>[t.createVNode(yt,null,null)]}),a.teamId&&t.createVNode("button",{class:d("button",[d("icon-standalone"),Q,be,ue]),onClick:()=>g({type:"sign-out"}),title:"Sign out",type:"button"},[t.createVNode(Xn,null,null)]),e.showOpenInCodeSandbox&&t.createVNode(wt,null,null)]),t.createVNode(ze,{clientId:f.value,showOpenInCodeSandbox:e.showOpenInCodeSandbox},null),e.showSandpackErrorOverlay&&t.createVNode(He,{clientId:f.value},null),o.default?o.default():null])]})}}),qs=y,uo=t.defineComponent({name:"SandpackTranspiledCode",props:{showTabs:{type:Boolean,required:!1,default:void 0},showLineNumbers:{type:Boolean,required:!1,default:void 0},decorators:{type:Array,required:!1,default:void 0},code:{type:String,required:!1,default:void 0},wrapContent:{type:Boolean,required:!1,default:void 0},initMode:{type:String,required:!1,default:void 0}},setup(e,{attrs:o}){const{sandpack:n}=D(),s=L(),a=t.ref(null),c=t.computed(()=>n.bundlerState),u=t.computed(()=>{var f,g,m;const r=(f=c.value)==null?void 0:f.transpiledModules[n.activeFile+":"];return(m=(g=r==null?void 0:r.source)==null?void 0:g.compiledCode)!=null?m:""});return t.onMounted(()=>{const r=a.value;r&&n.registerBundler(r,"hidden")}),t.onUnmounted(()=>{n.unregisterBundler("hidden")}),()=>{var r;return t.createVNode("div",{class:s("transpiled-code",[Ue,qs,(o==null?void 0:o.class)||""])},[t.createVNode(Tt,t.mergeProps(e,{code:(r=u.value)!=null?r:"",initMode:n.initMode}),null),t.createVNode("iframe",{ref:a,style:{display:"none"},title:"transpiled sandpack code"},null),t.createVNode(He,{clientId:"hidden"},null),t.createVNode(ze,{clientId:"hidden",showOpenInCodeSandbox:!1},null)])}}}),_s=["SyntaxError: ","Error in sandbox:"],$s={id:"random",method:"clear",data:["Console was cleared"]},tn="@t",nn="#@t",on="@r",sn=1e4,fo=2,lt=400,an=lt*2,Ke=function(){return(0,eval)("this")}(),Us=typeof ArrayBuffer=="function",Hs=typeof Map=="function",zs=typeof Set=="function";var Js=(e=>(e[e.infinity=0]="infinity",e[e.minusInfinity=1]="minusInfinity",e[e.minusZero=2]="minusZero",e))(Js||{});const rn={Arithmetic:e=>e===0?1/0:e===1?-1/0:e===2?-0:e,HTMLElement:e=>{const o=document.implementation.createHTMLDocument("sandbox");try{const n=o.createElement(e.tagName);n.innerHTML=e.innerHTML;for(const s of Object.keys(e.attributes))try{n.setAttribute(s,e.attributes[s])}catch(a){}return n}catch(n){return e}},Function:e=>{const o=()=>{};return Object.defineProperty(o,"toString",{value:()=>`function ${e.name}() {${e.body}}`}),o},"[[NaN]]":()=>NaN,"[[undefined]]":()=>{},"[[Date]]":e=>{const o=new Date;return o.setTime(e),o},"[[RegExp]]":e=>new RegExp(e.src,e.flags),"[[Error]]":e=>{const o=Ke[e.name]||Error,n=new o(e.message);return n.stack=e.stack,n},"[[ArrayBuffer]]":e=>{if(Us){const o=new ArrayBuffer(e.length);return new Int8Array(o).set(e),o}return e},"[[TypedArray]]":e=>typeof Ke[e.ctorName]=="function"?new Ke[e.ctorName](e.arr):e.arr,"[[Map]]":e=>{if(Hs){const n=new Map;for(let s=0;s<e.length;s+=2)n.set(e[s],e[s+1]);return n}const o=[];for(let n=0;n<e.length;n+=2)o.push([e[i],e[i+1]]);return o},"[[Set]]":e=>{if(zs){const o=new Set;for(let n=0;n<e.length;n++)o.add(e[n]);return o}return e}},ct=e=>{var o;if(typeof e=="string"||typeof e=="number"||e===null)return e;if(Array.isArray(e))return e.map(ct);if(typeof e=="object"&&tn in e){const n=e[tn],s=rn[n];return s(e.data)}else if(typeof e=="object"&&nn in e){const n=e[nn],s=rn[n];return s(e.data)}else if(typeof e=="object"&&((o=e.constructor)==null?void 0:o.name)==="NodeList"){const n={};return Object.entries(e).forEach(([s,a])=>{n[s]=ct(a)}),n}return e},Ys=(e,o,n)=>`[${e.reduce((a,c,u)=>`${a}${u?", ":""}${Ve(c,o,n)}`,"")}]`,Zs=(e,o,n)=>{const s=e.constructor.name!=="Object"?`${e.constructor.name} `:"";if(n>fo)return s;const a=Object.entries(e),c=Object.entries(e).reduce((u,[r,f],g)=>{const m=g===0?"":", ",h=a.length>10?`
  `:"",d=Ve(f,o,n);return g===lt?u+h+"...":g>lt?u:u+`${m}${h}${r}: `+d},"");return`${s}{ ${c}${a.length>10?`
`:" "}}`},Ve=(e,o,n=0)=>{var s;try{const a=ct(e);if(Array.isArray(a))return Ys(a,o,n+1);switch(typeof a){case"string":return`"${a}"`.slice(0,sn);case"number":case"function":case"symbol":return a.toString();case"boolean":return String(a);case"undefined":return"undefined";case"object":default:if(a instanceof RegExp||a instanceof Error||a instanceof Date)return a.toString();if(a===null)return String(null);if(a instanceof HTMLElement)return a.outerHTML.slice(0,sn);if(Object.entries(a).length===0)return"{}";if(on in a){if(n>fo)return"Unable to print information";const c=o[a[on]];return Ve(c,o,n+1)}if(((s=a.constructor)==null?void 0:s.name)==="NodeList"){const{length:c}=a,u=new Array(c).fill(null).map((r,f)=>Ve(a[f],o));return`NodeList(${a.length})[${u}]`}return Zs(a,o,n+1)}}catch(a){return"Unable to print information"}},Ws=t.defineComponent({name:"ConsoleList",props:{data:{type:Array,required:!1,default(){return[]}}},setup(e){const o=L();return()=>t.createVNode(t.Fragment,null,[e.data.map(({data:n,id:s,method:a},c,u)=>n&&Array.isArray(n)?t.createVNode(t.Fragment,{key:s},[n.map((r,f)=>{const g=u.slice(c,u.length);return t.createVNode("div",{key:`${s}-${f}`,class:o("console-item",[Gs()])},[t.createVNode(Ee,{code:a==="clear"?r:Ve(r,g),fileType:"js",initMode:"user-visible",showReadOnly:!1,readOnly:!0,wrapContent:!0},null)])})]):null)])}}),Gs=y,Ks=y,ln=y,Xs=t.defineComponent({name:"Header",props:{currentTab:{type:String,required:!0},setCurrentTab:{type:Function,required:!0},node:{type:Boolean,required:!0}},setup(e){const o=L(),n=o("console-header-button",[Q,ue,y]);return()=>t.createVNode("div",{class:o("console-header",[Ks,ln])},[t.createVNode("p",{class:o("console-header-title",[y])},[t.createVNode($e,null,null),t.createVNode("span",null,[t.createTextVNode("Terminal")]),e.node&&t.createVNode("div",{class:o("console-header-actions",[ln])},[t.createVNode("button",{class:n,"data-active":e.currentTab==="server",onClick:()=>e.setCurrentTab("server"),type:"button"},[t.createTextVNode("Server")]),t.createVNode("button",{class:n,"data-active":e.currentTab==="client",onClick:()=>e.setCurrentTab("client"),type:"button"},[t.createTextVNode("Client")])])])])}}),po=e=>{let o;const n=t.ref([]),{listen:s}=D(),a=t.computed(()=>{var f;return(f=e==null?void 0:e.resetOnPreviewRestart)!=null?f:!1}),c=t.computed(()=>{var f;return(f=e==null?void 0:e.showSyntaxError)!=null?f:!1}),u=t.computed(()=>{var f;return(f=e==null?void 0:e.maxMessageCount)!=null?f:an}),r=()=>{o&&o(),o=s(f=>{if(a.value&&f.type==="start")n.value=[];else if(f.type==="console"&&f.codesandbox){const g=Array.isArray(f.log)?f.log:[f.log];if(g.find(({method:d})=>d==="clear")){n.value=[$s];return}const m=c.value?g:g.filter(d=>{var l,R,O;return((O=(R=(l=d==null?void 0:d.data)==null?void 0:l.filter)==null?void 0:R.call(l,q=>typeof q!="string"?!0:_s.filter(S=>q.startsWith(S)).length===0))!=null?O:[]).length>0});if(!m)return;const h=[...n.value,...m].filter((d,N,l)=>N===l.findIndex(R=>R.id===d.id));for(;h.length>an;)h.shift();n.value=h}},e==null?void 0:e.clientId)};return t.watch([u,c,a,()=>e==null?void 0:e.clientId],()=>{r()},{immediate:!0}),t.onBeforeUnmount(()=>{o&&o()}),t.onUnmounted(()=>{o&&o()}),{logs:n,reset:()=>{n.value=[]}}},dt=t.defineComponent({name:"SandpackConsole",props:{onLogsChange:{type:Function,required:!1,default:void 0},showSetupProgress:{type:Boolean,required:!1,default:!1},showRestartButton:{type:Boolean,required:!1,default:!0},showResetConsoleButton:{type:Boolean,required:!1,default:!0},resetOnPreviewRestart:{type:Boolean,required:!1,default:!1},showHeader:{type:Boolean,required:!1,default:!0},showSyntaxError:{type:Boolean,required:!1,default:!1},maxMessageCount:{type:Number,required:!1,default:void 0},standalone:{type:Boolean,required:!1,default:!1},actionsChildren:{type:Object,required:!1,default:null}},setup(e,{slots:o,attrs:n,expose:s}){const{sandpack:{environment:a}}=D(),c=t.ref(),{iframe:u,clientId:r}=_e(),{restart:f}=Te(),g=L(),m=t.ref(a==="node"?"server":"client"),h=t.computed(()=>e.standalone?r.value:void 0),{logs:d,reset:N}=po({maxMessageCount:e.maxMessageCount,showSyntaxError:e.showSyntaxError,resetOnPreviewRestart:e.resetOnPreviewRestart,clientId:h.value}),{logs:l,reset:R}=ao({maxMessageCount:e.maxMessageCount,resetOnPreviewRestart:e.resetOnPreviewRestart,clientId:h.value}),O=t.computed(()=>m.value==="server"),q=t.computed(()=>a==="node");return s({reset(){N(),R()}}),t.watch([()=>e.onLogsChange,d,l,m],()=>{e.onLogsChange&&e.onLogsChange(t.toRaw(d.value)),t.nextTick(()=>{setTimeout(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)})})}),()=>t.createVNode(pe,t.mergeProps(e,{class:g("console",[y,(n==null?void 0:n.class)||""])}),{default:()=>[e.showHeader&&q.value&&t.createVNode(Xs,{currentTab:m.value,node:q.value,setCurrentTab:H=>{m.value=H}},null),t.createVNode("div",{ref:c,class:g("console-list",[y])},[O.value?t.createVNode(oo,{data:l.value},null):t.createVNode(Ws,{data:d.value},null)]),t.createVNode("div",{class:g("console-actions",[y])},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,e.showRestartButton&&O.value&&t.createVNode(fe,{onClick:()=>{f(),N(),R()}},{default:()=>[t.createVNode(ke,null,null)]}),e.showResetConsoleButton&&t.createVNode(fe,{onClick:()=>{m.value==="client"?N():R()}},{default:()=>[t.createVNode(zn,null,null)]})]),e.standalone&&t.createVNode(t.Fragment,null,[t.createVNode(io,{clientId:h.value},null),t.createVNode("iframe",{title:"console",ref:u},null)])]})}}),Qs=e=>({"--test-pass":e?"#18df16":"#15c213","--test-fail":e?"#df162b":"#c21325","--test-skip":e?"#eace2b":"#c2a813","--test-run":e?"#eace2b":"#c2a813","--test-title":e?"#3fbabe":"#256c6f"}),Je=y,me=Je(),ne=Je(),mo=Je(),ea=Je(),kt=y,ta=kt(),na=kt(),cn=kt(),oa=y,Xe=y,sa=t.defineComponent({name:"Header",props:{setVerbose:{type:Function,required:!0},setSuiteOnly:{type:Function,required:!0},verbose:{type:Boolean,required:!0},suiteOnly:{type:Boolean,required:!0},status:{type:String,required:!0},watchMode:{type:Boolean,required:!0},setWatchMode:{type:Function,required:!0},showSuitesOnly:{type:Boolean,required:!0},showVerboseButton:{type:Boolean,required:!0},showWatchButton:{type:Boolean,required:!0},hideTestsAndSupressLogs:{type:Boolean,required:!0}},setup(e){const o=L(),n=o("test-header-button",[Q,ue,y]);return()=>t.createVNode("div",{class:o("test-header",[oa,Xe])},[t.createVNode("div",{class:o("test-header-wrapper",[Xe])},[t.createVNode("p",{class:o("test-header-title",[y])},[t.createVNode($e,null,null),t.createTextVNode("Tests")])]),t.createVNode("div",{class:o("test-header-actions",[Xe])},[e.showSuitesOnly&&t.createVNode("button",{class:n,"data-active":e.suiteOnly,disabled:e.status==="initialising",onClick:e.setSuiteOnly,type:"button"},[t.createTextVNode("Suite only")]),e.showVerboseButton&&t.createVNode("button",{class:n,"data-active":e.verbose,disabled:e.status==="initialising"||e.hideTestsAndSupressLogs,onClick:e.setVerbose,type:"button"},[t.createTextVNode("Verbose")]),e.showWatchButton&&t.createVNode("button",{class:n,"data-active":e.watchMode,disabled:e.status==="initialising",onClick:e.setWatchMode,type:"button"},[t.createTextVNode("Watch")])])])}}),aa=t.defineComponent({name:"RunButton",props:{onClick:{type:Function,required:!0}},setup(e){return()=>t.createVNode(fe,{onClick:e.onClick,title:"Run tests"},{default:()=>[t.createVNode(gt,null,null)]})}}),ia=y,ra=y,la=y,ca=y,Qe=y,vo=t.defineComponent({name:"Tests",props:{tests:{type:Array,required:!0}},setup(e){const o=L();return()=>t.createVNode("div",{class:o("test",[ia])},[e.tests.map(n=>t.createVNode("div",{key:n.name,class:o("test-result",[ra])},[n.status==="pass"&&t.createVNode("span",{class:o("test-pass-text",[me,Qe])},[t.createTextVNode("")]),n.status==="fail"&&t.createVNode("span",{class:o("test-fail-text",[ne,Qe])},[t.createTextVNode("")]),n.status==="idle"&&t.createVNode("span",{class:o("test-idle-text",[mo,Qe])},[t.createTextVNode("")]),t.createVNode("span",{class:o("test-name-text",[la])},[n.name]),n.duration!==void 0&&t.createVNode("span",{class:o("test-duration-text",[ca])},[t.createTextVNode("("),n.duration,t.createTextVNode(" ms)")])]))])}}),Ye=e=>{var o,n;return Object.values((o=e.tests)!=null?o:{}).concat(...Object.values((n=e.describes)!=null?n:{}).map(Ye))},da=e=>Ye(e).filter(o=>o.status==="fail"),ua=e=>e.map(At).reduce((o,n)=>({pass:o.pass+n.pass,fail:o.fail+n.fail,skip:o.skip+n.skip,total:o.total+n.total}),{pass:0,skip:0,fail:0,total:0}),At=e=>Ye(e).reduce((o,n)=>({pass:n.status==="pass"?o.pass+1:o.pass,fail:n.status==="fail"?o.fail+1:o.fail,skip:n.status==="idle"||n.status==="running"?o.skip+1:o.skip,total:o.total+1}),{pass:0,fail:0,skip:0,total:0}),fa=e=>e.filter(o=>Object.values(o.describes).length>0||Object.values(o.tests).length>0).map(At).reduce((o,n)=>({pass:o.pass+(n.fail===0?1:0),fail:o.fail+(n.fail>0?1:0),total:o.total+1}),{pass:0,fail:0,total:0}),pa=e=>we(e,Ye).reduce((o,n)=>o+(n.duration||0),0),ho=e=>Object.values((e==null?void 0:e.describes)||{}).length===0&&Object.values((e==null?void 0:e.tests)||{}).length===0,Me=e=>{const o=e.length-1,n=e.slice(0,o),s=e[o];return[n,s]},we=(e,o)=>e.map(o).reduce((n,s)=>n.concat(s),[]),ae=(e,o,n)=>ko(e,o,n),ma=y,va=y,go=t.defineComponent({name:"Describes",props:{describes:{type:Array,required:!0}},setup(e){const o=L();return()=>t.createVNode(t.Fragment,null,[e.describes.map(n=>{if(ho(n))return null;const s=Object.values((n==null?void 0:n.tests)||{}),a=Object.values((n==null?void 0:n.describes)||{});return t.createVNode("div",{key:n.name,class:o("test-describe",[va])},[t.createVNode("div",{class:o("test-name",[ma])},[n.name]),t.createVNode(vo,{tests:s},null),t.createVNode(go,{describes:a},null)])})])}}),ha=y,dn=t.defineComponent({name:"FormattedError",props:{error:{type:Object,required:!0},path:{type:String,required:!1,default:void 0}},setup(e){const o=L();return()=>t.createVNode("div",{class:o("test-error",[ha]),innerHTML:ga(e.error,e==null?void 0:e.path)},null)}}),Oe=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),ga=(e,o="")=>{let n="";if(e.matcherResult?n=`<span>${Oe(e.message).replace(/(expected)/m,`<span class="${me}">$1</span>`).replace(/(received)/m,`<span class="${ne}">$1</span>`).replace(/(Difference:)/m,"<span>$1</span>").replace(/(Expected:)(.*)/m,`<span>$1</span><span class="${me}">$2</span>`).replace(/(Received:)(.*)/m,`<span>$1</span><span class="${ne}">$2</span>`).replace(/^(-.*)/gm,`<span class="${ne}">$1</span>`).replace(/^(\+.*)/gm,`<span class="${me}">$1</span>`)}</span>`:n=Oe(e.message),e.mappedErrors&&e.mappedErrors[0]&&e.mappedErrors[0].fileName.endsWith(o)&&e.mappedErrors[0]._originalScriptCode){const a=e.mappedErrors[0]._originalScriptCode||[],c=Math.max(...a.map(r=>(r.lineNumber+"").length))+2,u=Array.from({length:c}).map(()=>" ");n+="<br />",n+="<br />",n+="<div>",a.filter(r=>r.content.trim()).forEach(r=>{const f=(r.lineNumber+"").length,g=[...u];g.length-=f,r.highlight&&(g.length-=2);const m=r.content.indexOf(".to"),h=Array.from({length:u.length+m-(c-1)},()=>" "),d=Oe(r.content).replace(/(describe|test|it)(\()(&#039;|&quot;|`)(.*)(&#039;|&quot;|`)/m,`<span>$1$2$3</span><span class="${ea}">$4</span><span>$5</span>`).replace(/(expect\()(.*)(\)\..*)(to[\w\d]*)(\()(.*)(\))/m,`<span>$1</span><span class="${ne}">$2</span><span>$3</span><span style="text-decoration: underline; font-weight: 900">$4</span><span>$5</span><span class="${me}">$6</span><span>$7</span>`);n+=`<div ${r.highlight?'style="font-weight:200;"':""}>`+(r.highlight?`<span class="${ne}">></span> `:"")+g.join("")+Oe(""+r.lineNumber)+" | "+d+"</div>"+(r.highlight?"<div>"+u.join("")+" | "+h.join("")+`<span class="${ne}">^</span></div>`:"")}),n+="</div>"}return n.replace(/(?:\r\n|\r|\n)/g,"<br />")},ya=y,et=y,ba=y,Fe=y,Na=y,Ca=y,wa=y,xa=y,Sa=t.defineComponent({name:"Specs",props:{specs:{type:Array,required:!0},verbose:{type:Boolean,required:!0},status:{type:String,required:!0},openSpec:{type:Function,required:!0},hideTestsAndSupressLogs:{type:Boolean,required:!1,default:void 0}},setup(e){const o=L();return()=>t.createVNode(t.Fragment,null,[e.specs.map(n=>{if(n.error)return t.createVNode("div",{key:n.name,class:o("test-spec",[et])},[t.createVNode(Re,{class:o("test-spec-error",[Fe,cn])},{default:()=>[t.createTextVNode("Error")]}),t.createVNode(un,{onClick:()=>{e.openSpec(n.name)},path:n.name},null),t.createVNode(dn,{error:n.error,path:n.name},null)]);if(ho(n))return null;const s=Object.values(n.tests),a=Object.values(n.describes),c=At(n);return t.createVNode("div",{key:n.name,class:o("test-spec-name",[et])},[t.createVNode("div",{class:o("test-spec-name-container",[ya])},[e.status==="complete"?c.fail>0?t.createVNode(Re,{class:o("test-spec-complete",[Fe,cn])},{default:()=>[t.createTextVNode("Fail")]}):t.createVNode(Re,{class:o("test-spec-pass",[Fe,na])},{default:()=>[t.createTextVNode("Pass")]}):t.createVNode(Re,{class:o("test-spec-run",[Fe,ta])},{default:()=>[t.createTextVNode("Run")]}),t.createVNode(un,{onClick:()=>{e.hideTestsAndSupressLogs||e.openSpec(n.name)},path:n.name},null)]),e.verbose&&!e.hideTestsAndSupressLogs&&t.createVNode(vo,{tests:s},null),e.verbose&&!e.hideTestsAndSupressLogs&&t.createVNode(go,{describes:a},null),!e.hideTestsAndSupressLogs&&da(n).map(u=>t.createVNode("div",{key:`failing-${u.name}`,class:o("test-spec-error",[et])},[t.createVNode("div",{class:o("test-spec-error-text",[ba,ne])},[t.createTextVNode(" "),u.blocks.join("  "),t.createTextVNode("  "),u.name]),u.errors.map(r=>t.createVNode(dn,{key:`failing-${u.name}-error`,error:r,path:u.path},null))]))])})])}}),Re=t.defineComponent({name:"SpecLabel",setup(e,{slots:o,attrs:n}){const s=L();return()=>t.createVNode("span",{class:s("test-spec-label",[Na,(n==null?void 0:n.class)||""])},[o.default?o.default():null])}}),un=t.defineComponent({name:"FilePath",props:{onClick:{type:Function,required:!0},path:{type:String,required:!0}},setup(e){const o=t.computed(()=>e.path.split("/")),n=t.computed(()=>o.value.slice(0,o.value.length-1).join("/")+"/"),s=t.computed(()=>o.value[o.value.length-1]),a=L();return()=>t.createVNode("button",{class:a("test-filename",[Q,Ca]),onClick:()=>{e.onClick()},type:"button"},[t.createVNode("span",{class:a("test-filename-base",[wa])},[n.value]),t.createVNode("span",{class:a("test-filename-file",[xa])},[s.value])])}}),fn=y,tt=y,Va=y,Ta=t.defineComponent({name:"Summary",props:{suites:{type:Object,required:!0},tests:{type:Object,required:!0},duration:{type:Number,required:!0}},setup(e){const o=L(),n="Test suites: ",s=a=>{const c=n.length-a.length,u=Array.from({length:c},()=>" ").join("");return a+u};return()=>t.createVNode("div",{class:o("test-summary",[Va])},[t.createVNode("div",{class:o("test-summary",[fn])},[t.createVNode("span",{class:o("test-summary-suites-label",[tt])},[n]),e.suites.fail>0&&t.createVNode("span",{class:o("test-summary-suites-fail",[ne])},[e.suites.fail,t.createTextVNode(" failed,")," "]),e.suites.pass>0&&t.createVNode("span",{class:o("test-summary-suites-pass",[me])},[e.suites.pass,t.createTextVNode(" passed,")," "]),t.createVNode("span",null,[e.suites.total,t.createTextVNode(" total")])]),t.createVNode("div",{class:o("test-summary",[fn])},[t.createVNode("span",{class:o("test-summary-label",[tt])},[s("Tests:")]),e.tests.fail>0&&t.createVNode("span",{class:o("test-summary-fail",[ne])},[e.tests.fail,t.createTextVNode(" failed,")," "]),e.tests.skip>0&&t.createVNode("span",{class:o("test-summary-skip",[mo])},[e.tests.skip,t.createTextVNode(" skipped,")," "]),e.tests.pass>0&&t.createVNode("span",{class:o("test-summary-pass",[me])},[e.tests.pass,t.createTextVNode(" passed,")," "]),t.createVNode("span",null,[e.tests.total,t.createTextVNode(" total")])]),t.createVNode("div",{class:o("test-summary-curation",[tt])},[s("Time:"),e.duration/1e3,t.createTextVNode("s")])])}}),Ea=y,ka={specs:{},status:"initialising",verbose:!1,watchMode:!0,suiteOnly:!1,specsCount:0},yo=t.defineComponent({name:"SandpackTests",props:{verbose:{type:Boolean,required:!1,default:!1},watchMode:{type:Boolean,required:!1,default:!0},onComplete:{type:Function,required:!1,default:void 0},actionsChildren:{type:Object,required:!1,default:null},showVerboseButton:{type:Boolean,required:!1,default:!0},showWatchButton:{type:Boolean,required:!1,default:!0},hideTestsAndSupressLogs:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1}},setup(e,{slots:o,attrs:n}){let s,a;const c=/.*\.(test|spec)\.[tj]sx?$/,u=ht(),{getClient:r,iframe:f,listen:g,sandpack:m}=_e(),h=L(),d=t.ref(T(w({},ka),{verbose:e.verbose||!1,watchMode:e.watchMode||!0})),N=()=>{d.value.status="running",d.value.specs={};const k=r();k&&k.dispatch({type:"run-all-tests"})},l=()=>{d.value=T(w({},d.value),{status:"running",specs:{}});const k=r();k&&k.dispatch({type:"run-tests",path:m.activeFile})},R=t.computed(()=>m.activeFile.match(c)!==null),O=()=>{let k=[],C="";a&&a(),a=g(v=>{if(!(d.value.suiteOnly&&("path"in v&&v.path!==m.activeFile||"test"in v&&"path"in v.test&&v.test.path!==m.activeFile))){if(v.type==="action"&&v.action==="clear-errors"&&v.source==="jest"){C=v.path;return}if(v.type==="test"){if(v.event==="initialize_tests"){if(k=[],C="",d.value.watchMode)return N();d.value=T(w({},d.value),{status:"idle",specs:{}});return}if(v.event==="test_count"){d.value=T(w({},d.value),{specsCount:v.count});return}if(v.event==="total_test_start"){k=[],d.value=T(w({},d.value),{status:"running"});return}if(v.event==="total_test_end"){e.onComplete!==void 0&&e.onComplete(d.value.specs),d.value=T(w({},d.value),{status:"complete"});return}if(v.event==="add_file"){d.value=ae(d.value,["specs",v.path],{describes:{},tests:{},name:v.path});return}if(v.event==="remove_file"){const x=Object.entries(d.value.specs).reduce((E,[A,P])=>A===v.path?E:T(w({},E),{[A]:P}),{});d.value=T(w({},d.value),{specs:x});return}if(v.event==="file_error"){d.value=ae(d.value,["specs",v.path,"error"],v.error);return}if(v.event==="describe_start"){k.push(v.blockName);const[x,E]=Me(k),A=C;if(E===void 0)return;d.value=ae(d.value,["specs",A,"describes",...we(x,P=>[P,"describes"]),E],{name:v.blockName,tests:{},describes:{}});return}if(v.event==="describe_end"){k.pop();return}if(v.event==="add_test"){const[x,E]=Me(k),A={status:"idle",errors:[],name:v.testName,blocks:[...k],path:v.path};if(E===void 0){d.value=ae(d.value,["specs",v.path,"tests",v.testName],A);return}else{d.value=ae(d.value,["specs",v.path,"describes",...we(x,P=>[P,"describes"]),E,"tests",v.testName],A);return}}if(v.event==="test_start"){const{test:x}=v,[E,A]=Me(x.blocks),P={status:"running",name:x.name,blocks:x.blocks,path:x.path,errors:[]};if(A===void 0){d.value=ae(d.value,["specs",x.path,"tests",x.name],P);return}else{d.value=ae(d.value,["specs",x.path,"describes",...we(E,Z=>[Z,"describes"]),A,"tests",x.name],P);return}}if(v.event==="test_end"){const{test:x}=v,[E,A]=Me(x.blocks),P={status:x.status,errors:x.errors,duration:x.duration,name:x.name,blocks:x.blocks,path:x.path};A===void 0?d.value=ae(d.value,["specs",x.path,"tests",x.name],P):d.value=ae(d.value,["specs",x.path,"describes",...we(E,Z=>[Z,"describes"]),A,"tests",x.name],P)}}}})},q=()=>{s&&s(),s=g(({type:k})=>{k==="done"&&d.value.watchMode&&(R.value?l():N())})};t.watchEffect(q),t.watchEffect(O),t.onMounted(q),t.onBeforeUnmount(()=>{s&&s(),a&&a()}),t.onUnmounted(()=>{s&&s(),a&&a()});const H=k=>{m.setActiveFile(k)},S=t.computed(()=>Object.values(d.value.specs)),M=t.computed(()=>pa(S.value)),J=t.computed(()=>ua(S.value)),ee=t.computed(()=>fa(S.value));return()=>t.createVNode(pe,t.mergeProps(e,{class:h("tests",[(n==null?void 0:n.class)||""]),style:w(w({},Qs(u.mode==="dark")),(n==null?void 0:n.style)||{})}),{default:()=>[t.createVNode("iframe",{ref:f,style:{display:"none"},title:"Sandpack Tests"},null),t.createVNode(sa,{hideTestsAndSupressLogs:e.hideTestsAndSupressLogs,showVerboseButton:e.showVerboseButton,showWatchButton:e.showWatchButton,setSuiteOnly:()=>{d.value.suiteOnly=!d.value.suiteOnly},setVerbose:()=>{d.value=T(w({},d.value),{verbose:!d.value.verbose})},setWatchMode:()=>{d.value=T(w({},d.value),{watchMode:!d.value.watchMode})},showSuitesOnly:d.value.specsCount>1,status:d.value.status,suiteOnly:d.value.suiteOnly,verbose:d.value.verbose,watchMode:d.value.watchMode},null),d.value.status==="running"||d.value.status==="initialising"?t.createVNode(no,{showOpenInCodeSandbox:!1},null):t.createVNode("div",{class:Ea.toString()},[o.actionsChildren?o.actionsChildren():e.actionsChildren?e.actionsChildren:null,t.createVNode(aa,{onClick:()=>{d.value.suiteOnly?l():N()}},null)]),t.createVNode("div",{class:Aa.toString()},[S.value.length===0&&d.value.status==="complete"?t.createVNode("div",{class:La.toString()},[t.createVNode("p",null,[t.createTextVNode("No test files found.")]),t.createVNode("p",null,[t.createTextVNode("Test match:")," ",t.createVNode("span",{class:ne.toString()},[c.toString()])])]):t.createVNode(t.Fragment,null,[t.createVNode(Sa,{openSpec:H,specs:S.value,status:d.value.status,verbose:d.value.verbose,hideTestsAndSupressLogs:e.hideTestsAndSupressLogs},null),d.value.status==="complete"&&J.value.total>0&&t.createVNode(Ta,{duration:M.value,suites:ee.value,tests:J.value},null)])])]})}}),Aa=y,La=y,Ma=t.defineComponent({name:"SandpackRender",props:{fragment:{type:Boolean,required:!1,default:!1}},setup(e,{slots:o}){return()=>e.fragment?o.default?o.default():null:t.createVNode(pe,null,{default:()=>[o.default?o.default():null]})}}),Oa={files:{type:Object,required:!1,default:void 0},template:{type:String,required:!1,default:void 0},customSetup:{type:Object,required:!1,default:void 0},theme:{type:[String,Object],required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1}},bo=t.defineComponent({name:"Sandpack",props:Oa,setup(e){var M,J,ee,k;const o=t.ref(0),n=t.ref(null),s=t.ref((J=(M=e.options)==null?void 0:M.editorWidthPercentage)!=null?J:50),a=t.ref(70),c=t.ref((k=(ee=e.options)==null?void 0:ee.showConsole)!=null?k:!1),u=t.computed(()=>{var C,v;return(v=(e==null?void 0:e.rtl)||((C=e==null?void 0:e.options)==null?void 0:C.rtl))!=null?v:!1}),r=t.computed(()=>{var C,v;return(v=(C=e.options)==null?void 0:C.resizablePanels)!=null?v:!0}),f=t.computed(()=>{var C,v,x,E,A,P,Z,K,te,X,oe,re,le,ce;return{showTabs:(C=e.options)==null?void 0:C.showTabs,showLineNumbers:(v=e.options)==null?void 0:v.showLineNumbers,showInlineErrors:(x=e.options)==null?void 0:x.showInlineErrors,wrapContent:(E=e.options)==null?void 0:E.wrapContent,closableTabs:(A=e.options)==null?void 0:A.closableTabs,initMode:(P=e.options)==null?void 0:P.initMode,extensions:(K=(Z=e.options)==null?void 0:Z.codeEditor)==null?void 0:K.extensions,extensionsKeymap:(X=(te=e.options)==null?void 0:te.codeEditor)==null?void 0:X.extensionsKeymap,readOnly:(oe=e.options)==null?void 0:oe.readOnly,showReadOnly:(re=e.options)==null?void 0:re.showReadOnly,additionalLanguages:(ce=(le=e.options)==null?void 0:le.codeEditor)==null?void 0:ce.additionalLanguages}}),g=t.computed(()=>{var C,v,x,E,A,P,Z,K,te,X,oe,re,le,ce,Ne;return{activeFile:(C=e.options)==null?void 0:C.activeFile,visibleFiles:(v=e.options)==null?void 0:v.visibleFiles,recompileMode:(x=e.options)==null?void 0:x.recompileMode,recompileDelay:(E=e.options)==null?void 0:E.recompileDelay,autorun:(A=e.options)==null?void 0:A.autorun,autoReload:(P=e.options)==null?void 0:P.autoReload,bundlerURL:(Z=e.options)==null?void 0:Z.bundlerURL,startRoute:(K=e.options)==null?void 0:K.startRoute,skipEval:(te=e.options)==null?void 0:te.skipEval,fileResolver:(X=e.options)==null?void 0:X.fileResolver,initMode:(oe=e.options)==null?void 0:oe.initMode,initModeObserverOptions:(re=e.options)==null?void 0:re.initModeObserverOptions,externalResources:(le=e.options)==null?void 0:le.externalResources,logLevel:(ce=e.options)==null?void 0:ce.logLevel,classes:(Ne=e.options)==null?void 0:Ne.classes}}),m=t.computed(()=>{var C,v;return{flexGrow:100-s.value,flexShrink:100-s.value,flexBasis:0,width:100-s.value+"%",gap:c.value?"1px":"0",height:(C=e.options)!=null&&C.editorHeight?`${(v=e.options)==null?void 0:v.editorHeight}px`:void 0}}),h=t.computed(()=>{var C;return(C=Be[e.template])!=null?C:{}}),d=t.computed(()=>{var C,v;return(C=e.options)!=null&&C.layout?(v=e.options)==null?void 0:v.layout:"mode"in h.value?h.value.mode:"preview"}),N=t.computed(()=>{var C;return(C=e.options)!=null&&C.showConsoleButton?t.createVNode(Fa,{counter:o.value,onClick:()=>{c.value=!c.value}},null):void 0}),l=t.computed(()=>{var C,v;return((C=e.options)==null?void 0:C.showConsole)||((v=e.options)==null?void 0:v.showConsoleButton)}),R=t.computed(()=>l.value?{class:B+"-preset-column",style:m.value}:{}),O=t.computed(()=>l.value?{flexGrow:a.value,flexShrink:a.value,flexBasis:0,overflow:"hidden"}:m.value),q=C=>{if(!n.value)return;C.preventDefault();const v=n.value.parentElement;if(!v)return;const E=n.value.dataset.direction==="horizontal",{left:A,top:P,height:Z,width:K}=v.getBoundingClientRect(),te=E?(C.clientX-A)/K*100:(C.clientY-P)/Z*100,X=Math.min(Math.max(te,25),75);E?s.value=u.value?100-X:X:a.value=X,v.querySelectorAll(`.${B}-stack`).forEach(oe=>{oe.style.pointerEvents="none"})},H=()=>{var v;const C=(v=n.value)==null?void 0:v.parentElement;C&&(C.querySelectorAll(`.${B}-stack`).forEach(x=>{x.style.pointerEvents=""}),n.value=null)},S=L();return t.watch([()=>{var C;return(C=e.options)==null?void 0:C.showConsole}],()=>{var C,v;c.value=(v=(C=e.options)==null?void 0:C.showConsole)!=null?v:!1},{immediate:!0}),t.watch([()=>e.options],()=>{r.value&&typeof document<"u"&&(document.body.removeEventListener("mousemove",q),document.body.removeEventListener("mouseup",H),document.body.addEventListener("mousemove",q),document.body.addEventListener("mouseup",H))},{immediate:!0}),t.onBeforeUnmount(()=>{typeof document<"u"&&(document.body.removeEventListener("mousemove",q),document.body.removeEventListener("mouseup",H))}),()=>t.createVNode(ft,t.mergeProps(e,{key:e.template,customSetup:e.customSetup,files:e.files,options:g.value,template:e.template,theme:e.theme}),{default:()=>[t.createVNode(Ct,{class:u.value?S("rtl-layout",[Ia]):""},{default:()=>{var C;return[t.createVNode(xt,t.mergeProps(f.value,{style:{height:`${(C=e.options)==null?void 0:C.editorHeight}px`,flexGrow:s.value,flexShrink:s.value,flexBasis:0,overflow:"hidden"}}),null),r.value&&t.createVNode("div",{class:S("resize-handler",[pn()]),"data-direction":"horizontal",onMousedown:v=>{n.value=v.target},style:{left:`calc(${u.value?100-s.value:s.value}% - 5px)`}},null),t.createVNode(Ma,t.mergeProps({fragment:!l.value},R.value),{default:()=>{var v,x,E;return[d.value==="preview"&&t.createVNode(Et,{actionsChildren:N.value,showNavigator:(v=e.options)==null?void 0:v.showNavigator,showRefreshButton:(x=e.options)==null?void 0:x.showRefreshButton,style:O.value},null),d.value==="tests"&&t.createVNode(yo,{standalone:!0,actionsChildren:N.value,style:O.value},null),d.value==="console"&&t.createVNode(dt,{actionsChildren:N.value,style:O.value},null),(((E=e.options)==null?void 0:E.showConsoleButton)||c.value)&&t.createVNode(t.Fragment,null,[r.value&&c.value&&t.createVNode("div",{class:S("resize-handler",[pn()]),"data-direction":"vertical",onMousedown:A=>{n.value=A.target},style:{top:`calc(${a.value}% - 5px)`}},null),t.createVNode("div",{class:S("console-wrapper",[ja]),style:{flexGrow:c.value?100-a.value:0,flexShrink:c.value?100-a.value:0,flexBasis:0}},[t.createVNode(dt,{onLogsChange:A=>{o.value=A.length},showHeader:!1},null)])])]}})]}})]})}}),Fa=t.defineComponent({props:{onClick:{type:Function,required:!0},counter:{type:Number,required:!0}},setup(e){return()=>t.createVNode(fe,{class:Ra.toString(),onClick:e.onClick},{default:()=>[t.createVNode($e,null,null),e.counter>0&&t.createVNode("strong",null,[e.counter])]})}}),pn=y,Ra=y,ja=y,Ia=y;function Pa(){return{install(e){e.component("Sandpack",bo),e.component("SandpackLayout",Ct),e.component("SandpackProvider",ft),e.component("ErrorOverlay",He),e.component("LoadingOverlay",ze),e.component("CodeEditor",Ee),e.component("SandpackCodeEditor",xt),e.component("SandpackCodeViewer",Tt),e.component("SandpackPreview",Et),e.component("SandpackStack",pe),e.component("SandpackTranspiledCode",uo),e.component("SandpackFileExplorer",lo)}}}exports.ANGULAR_TEMPLATE=kn;exports.BackwardIcon=Un;exports.CleanIcon=zn;exports.CloseIcon=Gn;exports.CodeEditor=Ee;exports.ConsoleIcon=$e;exports.DependenciesProgress=io;exports.Directory=ro;exports.DirectoryIconClosed=Zn;exports.DirectoryIconOpen=Yn;exports.ErrorOverlay=He;exports.ExportIcon=Jn;exports.FADE_ANIMATION_DURATION=mt;exports.File=St;exports.FileIcon=Wn;exports.FileTabs=bt;exports.ForwardIcon=Hn;exports.LoadingOverlay=ze;exports.ModuleList=Vt;exports.Navigator=co;exports.OpenInCodeSandboxButton=wt;exports.REACT_TEMPLATE=An;exports.REACT_TYPESCRIPT_TEMPLATE=Ln;exports.RefreshIcon=yt;exports.RestartIcon=ke;exports.RoundedButton=fe;exports.RunButton=Nt;exports.RunIcon=gt;exports.SANDBOX_TEMPLATES=Be;exports.SANDPACK_THEMES=hn;exports.SOLID_TEMPLATE=Mn;exports.SVELTE_TEMPLATE=On;exports.Sandpack=bo;exports.SandpackCodeEditor=xt;exports.SandpackCodeViewer=Tt;exports.SandpackConsole=dt;exports.SandpackFileExplorer=lo;exports.SandpackLayout=Ct;exports.SandpackPreview=Et;exports.SandpackProvider=ft;exports.SandpackStack=pe;exports.SandpackStateContext=ut;exports.SandpackTests=yo;exports.SandpackThemeContext=vt;exports.SandpackThemeProvider=qn;exports.SandpackTranspiledCode=uo;exports.SignInIcon=Kn;exports.SignOutIcon=Xn;exports.TEST_TYPESCRIPT_TEMPLATE=Fn;exports.UnstyledOpenInCodeSandboxButton=to;exports.VANILLA_TEMPLATE=Rn;exports.VANILLA_TYPESCRIPT_TEMPLATE=jn;exports.VITE_PREACT_TEMPLATE=wn;exports.VITE_PREACT_TS_TEMPLATE=xn;exports.VITE_REACT_TEMPLATE=Nn;exports.VITE_REACT_TS_TEMPLATE=Cn;exports.VITE_SVELTE_TEMPLATE=Sn;exports.VITE_SVELTE_TS_TEMPLATE=Vn;exports.VITE_TEMPLATE=bn;exports.VITE_VUE_TEMPLATE=Tn;exports.VITE_VUE_TS_TEMPLATE=En;exports.VUE2_TEMPLATE=In;exports.VUE2_TS_TEMPLATE=Pn;exports.VUE_TEMPLATE=at;exports.VUE_TS_TEMPLATE=it;exports.createContext=rs;exports.default=Pa;exports.defaultDark=De;exports.defaultLight=ve;exports.getSandpackCssText=Bo;exports.layoutClassName=eo;exports.stackClassName=Ue;exports.tabButton=Qn;exports.useActiveCode=pt;exports.useClassNames=L;exports.useContext=qe;exports.useLoadingOverlayState=Dn;exports.useSandpack=D;exports.useSandpackClient=_e;exports.useSandpackConsole=po;exports.useSandpackNavigation=Bn;exports.useSandpackShell=Te;exports.useSandpackTheme=ht;
